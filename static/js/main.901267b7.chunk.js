(this.webpackJsonpCondution=this.webpackJsonpCondution||[]).push([[1],{100:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(47),r=a(1),s=a.n(r),i=a(4),o=a(15),c=a(22),u=a(6),l=a(0),p=a.n(l),d=(a(167),a(90),a(27));function m(e){var t=Object(l.useState)(e.initialDate?e.initialDate:new Date),a=Object(c.a)(t,2),r=a[0],u=a[1],m=r.getMonth(),f=r.getFullYear(),h=new Date(f,m,1),g=new Date(f,m+1,0),b=new Date(f,m,0),v=h.getDay()+1;function y(e,t,a){var n=e,r=t,s=a,i=function(e){return 1==(e=e.toString(16)).length?"0"+e:e},o=Math.ceil(parseInt(n.substring(0,2),16)*s+parseInt(r.substring(0,2),16)*(1-s)),c=Math.ceil(parseInt(n.substring(2,4),16)*s+parseInt(r.substring(2,4),16)*(1-s)),u=Math.ceil(parseInt(n.substring(4,6),16)*s+parseInt(r.substring(4,6),16)*(1-s));return i(o)+i(c)+i(u)}var k=Object(o.a)(new Array(v-1)).map((function(e,t){return{type:"pre",content:t+b.getDate()-(v-1)+1}})),w=Object(o.a)(new Array(6-g.getDay()===-1?6:6-g.getDay())).map((function(e,t){return{type:"post",content:t+1}})),x=Object(o.a)(new Array(g.getDate())).map((function(e,t){return{type:"actual",content:t+1}})),j=Object(l.useState)({}),_=Object(c.a)(j,2),E=_[0],O=_[1];return Array.prototype.max=function(){return Math.max.apply(null,this)},Object(l.useEffect)((function(){Object(i.a)(s.a.mark((function t(){var a,n,r,i,o,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new Map,n={},t.next=4,e.engine.db.selectTasksInRange(e.uid,h,g,!0);case 4:t.sent.forEach((function(e){var t=Object(c.a)(e,2),n=(t[0],t[1]),r=new Date(1e3*n.due.seconds);r.setHours(0,0,0,0);var s=r.getDate();a.has(s)?a.set(s,a.get(s)+1):a.set(s,1)})),(r=Array.from(a.values())).length>0&&(i=r.max(),o=getComputedStyle(document.body),u=r.map((function(e){return y(o.getPropertyValue("--heatmap-darkest").trim().slice(1),o.getPropertyValue("--heatmap-lightest").trim().slice(1),e/i)})),Array.from(a.keys()).forEach((function(e,t){n[e]=u[t]}))),O(n);case 9:case"end":return t.stop()}}),t)})))()}),[r,e.initialDate]),p.a.createElement("div",{id:"calendar-page-calendar-wrapper",style:Object(n.a)({display:"inline-block"},e.style)},p.a.createElement("div",{id:"calendar-wrapper-popover"},p.a.createElement("div",{id:"calendar-daterow"},p.a.createElement("span",{className:"calendar-daterow-item"},"Sun"),p.a.createElement("span",{className:"calendar-daterow-item"},"Mon"),p.a.createElement("span",{className:"calendar-daterow-item"},"Tues"),p.a.createElement("span",{className:"calendar-daterow-item"},"Wed"),p.a.createElement("span",{className:"calendar-daterow-item"},"Thu"),p.a.createElement("span",{className:"calendar-daterow-item"},"Fri"),p.a.createElement("span",{className:"calendar-daterow-item"},"Sat")),p.a.createElement("div",{id:"calendar-container"},[].concat(Object(o.a)(k),Object(o.a)(x),Object(o.a)(w)).map((function(t){return p.a.createElement("span",{className:"calendar-container-item calendar-container-item-".concat(t.type," calendar-container-item-").concat(t.content),style:{backgroundColor:E[t.content]&&"actual"===t.type?"#".concat(E[t.content]):"inherit",border:"actual"===t.type&&t.content===r.getDate()?"2px solid var(--decorative-light)":"0"},onClick:function(a){var n;"pre"===t.type&&(n=new Date(b.getFullYear(),b.getMonth(),t.content)),"actual"===t.type&&(n=new Date(h.getFullYear(),h.getMonth(),t.content)),"post"===t.type&&(n=new Date(h.getFullYear(),h.getMonth()+1,t.content)),u(n),e.onDateSelected&&!e.disableOnclick&&e.onDateSelected(n)}},t.content)}))),p.a.createElement("div",{id:"calendar-infopanel"},p.a.createElement("div",{className:"calendar-infopanel-dateselected"},r.getDate()),p.a.createElement("div",{className:"calendar-infopanel-datename"},r.toLocaleString(e.gruntman.localizations.getLanguage(),{weekday:"long"})),p.a.createElement("div",{className:"calendar-infopanel-month"},r.toLocaleString(e.gruntman.localizations.getLanguage(),{month:"long"})),p.a.createElement("div",{className:"calendar-infopanel-year"},r.getFullYear())),function(){if(e.useTime)return p.a.createElement("div",{className:"calendar-timeunit"},p.a.createElement("span",{className:"calendar-time"},"Time"),p.a.createElement("input",{className:"calendar-timebox",defaultValue:r.toLocaleTimeString(),onKeyPress:function(t){var a=d.parseDate(t.target.value);if(a&&"Enter"===t.key){var n=new Date(r.getFullYear(),r.getMonth(),r.getDate(),a.getHours(),a.getMinutes(),a.getSeconds());u(n),t.target.value=n.toLocaleTimeString(),e.onDateSelected&&!e.disableOnclick&&e.onDateSelected(n)}}}))}(),p.a.createElement("div",{id:"calendar-tools"},p.a.createElement("a",{className:"fas fa-caret-left calendar-button",onClick:function(){var t=new Date(h.getFullYear(),h.getMonth()-1,1);u(t),e.onDateSelected&&!e.disableOnclick&&e.onDateSelected(t)}}),p.a.createElement("a",{className:"fas fa-caret-right calendar-button",onClick:function(){var t=new Date(h.getFullYear(),h.getMonth()+1,1);u(t),e.onDateSelected&&!e.disableOnclick&&e.onDateSelected(t)}}),p.a.createElement("div",{className:"calendar-today",onClick:function(){u(new Date),e.onDateSelected&&!e.disableOnclick&&e.onDateSelected(new Date)}},e.gruntman.localizations.clbtd),p.a.createElement("div",{className:"calendar-today",style:{marginRight:10,float:"right"},onClick:function(){r&&e.onDateSelected(r),e.onDidDismiss()}},"Done"))))}t.b=function(e){var t=Object(l.useState)(e.initialDate?e.initialDate:new Date),a=Object(c.a)(t,2),r=a[0],m=a[1],f=r.getMonth(),h=r.getFullYear(),g=new Date(h,f,1),b=new Date(h,f+1,0),v=new Date(h,f,0),y=g.getDay()+1;function k(e,t,a){var n=e,r=t,s=a,i=function(e){return 1==(e=e.toString(16)).length?"0"+e:e},o=Math.ceil(parseInt(n.substring(0,2),16)*s+parseInt(r.substring(0,2),16)*(1-s)),c=Math.ceil(parseInt(n.substring(2,4),16)*s+parseInt(r.substring(2,4),16)*(1-s)),u=Math.ceil(parseInt(n.substring(4,6),16)*s+parseInt(r.substring(4,6),16)*(1-s));return i(o)+i(c)+i(u)}var w=Object(o.a)(new Array(y-1)).map((function(e,t){return{type:"pre",content:t+v.getDate()-(y-1)+1}})),x=Object(o.a)(new Array(6-b.getDay()===-1?6:6-b.getDay())).map((function(e,t){return{type:"post",content:t+1}})),j=Object(o.a)(new Array(b.getDate())).map((function(e,t){return{type:"actual",content:t+1}})),_=Object(l.useState)({}),E=Object(c.a)(_,2),O=E[0],D=E[1];return Array.prototype.max=function(){return Math.max.apply(null,this)},Object(l.useEffect)((function(){Object(i.a)(s.a.mark((function t(){var a,n,r,i,o,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new Map,n={},t.next=4,e.engine.db.selectTasksInRange(e.uid,g,b,!0);case 4:t.sent.forEach((function(e){var t=Object(c.a)(e,2),n=(t[0],t[1]),r=new Date(1e3*n.due.seconds);r.setHours(0,0,0,0);var s=r.getDate();a.has(s)?a.set(s,a.get(s)+1):a.set(s,1)})),(r=Array.from(a.values())).length>0&&(i=r.max(),o=getComputedStyle(document.body),u=r.map((function(e){return k(o.getPropertyValue("--heatmap-darkest").trim().slice(1),o.getPropertyValue("--heatmap-lightest").trim().slice(1),e/i)})),Array.from(a.keys()).forEach((function(e,t){n[e]=u[t]}))),D(n);case 9:case"end":return t.stop()}}),t)})))()}),[r,e.initialDate]),p.a.createElement(u.f,{ref:e.reference,isOpen:e.isShown,onDidDismiss:function(){e.onDidDismiss&&e.onDidDismiss()},style:{borderRadius:5},cssClass:"calendar-popover"},p.a.createElement("div",{id:"calendar-page-calendar-wrapper",style:Object(n.a)({display:"inline-block"},e.style)},p.a.createElement("div",{id:"calendar-wrapper-popover"},p.a.createElement("div",{id:"calendar-daterow"},p.a.createElement("span",{className:"calendar-daterow-item"},"Sun"),p.a.createElement("span",{className:"calendar-daterow-item"},"Mon"),p.a.createElement("span",{className:"calendar-daterow-item"},"Tues"),p.a.createElement("span",{className:"calendar-daterow-item"},"Wed"),p.a.createElement("span",{className:"calendar-daterow-item"},"Thu"),p.a.createElement("span",{className:"calendar-daterow-item"},"Fri"),p.a.createElement("span",{className:"calendar-daterow-item"},"Sat")),p.a.createElement("div",{id:"calendar-container"},[].concat(Object(o.a)(w),Object(o.a)(j),Object(o.a)(x)).map((function(t){return p.a.createElement("span",{className:"calendar-container-item calendar-container-item-".concat(t.type," calendar-container-item-").concat(t.content),style:{backgroundColor:O[t.content]&&"actual"===t.type?"#".concat(O[t.content]):"inherit",border:"actual"===t.type&&t.content===r.getDate()?"2px solid var(--decorative-light)":"0"},onClick:function(a){var n;"pre"===t.type&&(n=new Date(v.getFullYear(),v.getMonth(),t.content)),"actual"===t.type&&(n=new Date(g.getFullYear(),g.getMonth(),t.content)),"post"===t.type&&(n=new Date(g.getFullYear(),g.getMonth()+1,t.content)),m(n),e.onDateSelected&&!e.disableOnclick&&e.onDateSelected(n)}},t.content)}))),p.a.createElement("div",{id:"calendar-infopanel"},p.a.createElement("div",{className:"calendar-infopanel-dateselected"},r.getDate()),p.a.createElement("div",{className:"calendar-infopanel-datename"},r.toLocaleString("en-us",{weekday:"long"})),p.a.createElement("div",{className:"calendar-infopanel-month"},r.toLocaleString("en-us",{month:"long"})),p.a.createElement("div",{className:"calendar-infopanel-year"},r.getFullYear())),function(){if(e.useTime)return p.a.createElement("div",{className:"calendar-timeunit"},p.a.createElement("span",{className:"calendar-time"},"Time"),p.a.createElement("input",{className:"calendar-timebox",defaultValue:r.toLocaleTimeString(),onKeyPress:function(t){var a=d.parseDate(t.target.value);if(a&&"Enter"===t.key){var n=new Date(r.getFullYear(),r.getMonth(),r.getDate(),a.getHours(),a.getMinutes(),a.getSeconds());m(n),t.target.value=n.toLocaleTimeString(),e.onDateSelected&&!e.disableOnclick&&e.onDateSelected(n)}}}))}(),p.a.createElement("div",{id:"calendar-tools"},p.a.createElement("a",{className:"fas fa-caret-left calendar-button",onClick:function(){var t=new Date(g.getFullYear(),g.getMonth()-1,1);m(t),e.onDateSelected&&!e.disableOnclick&&e.onDateSelected(t)}}),p.a.createElement("a",{className:"fas fa-caret-right calendar-button",onClick:function(){var t=new Date(g.getFullYear(),g.getMonth()+1,1);m(t),e.onDateSelected&&!e.disableOnclick&&e.onDateSelected(t)}}),p.a.createElement("div",{className:"calendar-today",onClick:function(){m(new Date),e.onDateSelected&&!e.disableOnclick&&e.onDateSelected(new Date)}},e.gruntman.localizations.clbtd),p.a.createElement("div",{className:"calendar-today",style:{marginRight:10,float:"right"},onClick:function(){r&&e.onDateSelected(r),e.onDidDismiss()}},"Done")))))}},133:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return f}));var n=a(1),r=a.n(n),s=a(15),i=a(4),o=a(22),c=a(0),u=a.n(c),l=a(183),p=a(51),d=(a(214),a(46)),m=function(e){var t=Object(c.useState)([]),a=Object(o.a)(t,2),n=a[0],m=a[1],f=Object(c.useRef)(),h=Object(c.useRef)(),g=Object(c.useRef)(),b=Object(c.useRef)(),v=Object(c.useState)(!0),y=Object(o.a)(v,2),k=y[0],w=y[1],x=e.list.map((function(e){return u.a.createRef()})),j=function(e,t,a,n,r){return function(s){return e===s?{y:42*((-1!==a.indexOf(s)?a.indexOf(s):s)-s)+(r?t-42*(a.indexOf(s)-s):0),zIndex:1e3,config:{tension:100,friction:2,mass:1,clamp:!0},immediate:n}:{y:42*((-1!==a.indexOf(s)?a.indexOf(s):s)-s),zIndex:0,immediate:n}}},_=Object(p.d)(e.list.length,j(-1,0,f.current,!0)),E=Object(o.a)(_,3),O=E[0],D=E[1];E[2];Object(c.useEffect)((function(){f.current=e.list.map((function(e,t){return t})),h.current=0,g.current=0,D(j(-1,0,f.current,!0))}),[e.list,e.uid]);var S=Object(l.a)(function(){var t=Object(i.a)(r.a.mark((function t(a){var i,c,u,l,p,d,b,v,y;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Object(o.a)(a.args,1),c=i[0],u=a.down,l=Object(o.a)(a.movement,2),l[0],p=l[1],d=a.first,b=a.last,a.tap,d&&(g.current=c,n.includes(c)||m([].concat(Object(s.a)(n),[c])),e.onSortStart&&e.onSortStart({sorted:c,sortedID:e.list[c],list:e.list})),v=(v=Math.floor(p/42))<=-c?-c:v>=e.list.length-c?e.list.length-1:v,Math.abs(v)>0&&v!==h.current&&(y=c+v,f.current.splice(g.current,1),f.current.splice(y,0,c),h.current=v,g.current=y),D(j(c,p,f.current,!1,u)),!b){t.next=13;break}return setTimeout((function(){return m(n.filter((function(e){return e!==c})))}),100),h.current=0,g.current=0,t.next=12,e.gruntman.do("macro.applyOrder",{uid:e.uid,order:f.current,items:e.list.map((function(e){return{type:"task",content:e}}))});case 12:e.onSortEnd&&e.onSortEnd({sorted:c,sortedID:e.list[c],newOrder:f.current,movementY:p,moveBy:v,list:e.list});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}().bind(void 0),{drag:{delay:100},filterTaps:!0,enabled:k});return e.list.map((function(t,a){var r=O[a];return u.a.createElement("div",{ref:function(e){b.current=e}},u.a.createElement(p.a.div,Object.assign({},S(a),{className:n.includes(a)?"drag-envelope dragging":"drag-envelope",style:{borderRadius:7,position:"relative",cursor:"pointer",zIndex:r.zIndex,transform:Object(p.b)([r.y],(function(e){return"translate3d(0,".concat(e,"px,0)")}))},onClickCapture:function(e){n.includes(a)&&e.stopPropagation()}}),u.a.createElement(d.a,{ref:x[a],tid:t,key:t+"-"+e.prefix,datapack:e.datapack,uid:e.uid,engine:e.engine,gruntman:e.gruntman,availability:e.availability[t],envelope:b,setDragEnabled:w})))}))},f=function(e){var t=Object(c.useState)([]),a=Object(o.a)(t,2),n=a[0],m=a[1],f=Object(c.useRef)(),h=Object(c.useRef)(),g=Object(c.useRef)(),b=Object(c.useRef)(),v=Object(c.useState)(!0),y=Object(o.a)(v,2),k=y[0],w=y[1],x=e.list.map((function(e){return u.a.createRef()})),j=function(e,t,a,n,r){return function(s){return e===s?{y:42*((-1!==a.indexOf(s)?a.indexOf(s):s)-s)+(r?t-42*(a.indexOf(s)-s):0),zIndex:1e3,config:{tension:100,friction:2,mass:1,clamp:!0},immediate:n}:{y:42*((-1!==a.indexOf(s)?a.indexOf(s):s)-s),zIndex:0,immediate:n}}},_=Object(p.d)(e.list.length,j(-1,0,f.current,!0)),E=Object(o.a)(_,3),O=E[0],D=E[1];E[2];Object(c.useEffect)((function(){f.current=e.list.map((function(e,t){return t})),h.current=0,g.current=0,D(j(-1,0,f.current,!0))}),[e.list,e.uid]);var S=Object(l.a)(function(){var t=Object(i.a)(r.a.mark((function t(a){var i,c,u,l,p,d,b,v,y;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Object(o.a)(a.args,1),c=i[0],u=a.down,l=Object(o.a)(a.movement,2),l[0],p=l[1],d=a.first,b=a.last,a.tap,d&&(g.current=c,n.includes(c)||m([].concat(Object(s.a)(n),[c])),e.onSortStart&&e.onSortStart({sorted:c,sortedID:e.list[c],list:e.list})),v=(v=Math.floor(p/42))<=-c?-c:v>=e.list.length-c?e.list.length-1:v,Math.abs(v)>0&&v!==h.current&&(y=c+v,f.current.splice(g.current,1),f.current.splice(y,0,c),h.current=v,g.current=y),D(j(c,p,f.current,!1,u)),!b){t.next=13;break}return setTimeout((function(){return m(n.filter((function(e){return e!==c})))}),100),h.current=0,g.current=0,t.next=12,e.gruntman.do("macro.applyOrder",{uid:e.uid,order:f.current,items:e.list.map((function(e){return{type:e.type,content:"project"===e.type?e.content.id:e.content}}))});case 12:e.onSortEnd&&e.onSortEnd({sorted:c,sortedID:e.list[c],newOrder:f.current,movementY:p,moveBy:v,list:e.list});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}().bind(void 0),{drag:{delay:100},filterTaps:!0,enabled:k});return e.list.map((function(t,a){var r=O[a];return"task"===t.type?u.a.createElement("div",{ref:b},u.a.createElement(p.a.div,Object.assign({},S(a),{className:n.includes(a)?"drag-envelope dragging":"drag-envelope",style:{borderRadius:7,position:"relative",cursor:"pointer",zIndex:r.zIndex,transform:Object(p.b)([r.y],(function(e){return"translate3d(0,".concat(e,"px,0)")}))},onClickCapture:function(e){n.includes(a)&&e.stopPropagation()}}),u.a.createElement(d.a,{ref:e.activeTaskID===t.content?e.activeTaskRef:x[a],tid:t.content,key:t.content+"-"+e.prefix,datapack:e.datapack,uid:e.uid,engine:e.engine,gruntman:e.gruntman,availability:e.availability[t.content],envelope:b,setDragEnabled:w}))):"project"===t.type?u.a.createElement("div",{ref:b},u.a.createElement(p.a.div,Object.assign({},S(a),{className:n.includes(a)?"drag-envelope dragging":"drag-envelope",style:{borderRadius:7,position:"relative",cursor:"pointer",zIndex:r.zIndex,transform:Object(p.b)([r.y],(function(e){return"translate3d(0,".concat(e,"px,0)")}))},onClickCapture:function(e){n.includes(a)&&e.stopPropagation()}}),u.a.createElement("a",{className:"subproject",style:{opacity:e.availability[t.content.id]?"1":"0.35"},onClick:function(){e.paginate("projects",t.content.id),e.history.push("/projects/".concat(t.content.id))}},u.a.createElement("div",null,u.a.createElement("i",{className:"far fa-arrow-alt-circle-right subproject-icon"}),u.a.createElement("div",{style:{display:"inline-block"}},e.possibleProjects[t.content.id]))))):void 0}))}},167:function(e,t,a){},190:function(e,t,a){},191:function(e,t,a){},192:function(e,t,a){},193:function(e,t,a){},214:function(e,t,a){},219:function(e,t,a){},232:function(e,t,a){},236:function(e,t,a){"use strict";(function(e){var n=a(1),r=a.n(n),s=a(4),i=a(9),o=a(10),c=a(7),u=a(11),l=a(12),p=a(6),d=a(36),m=a(93),f=a(60),h=a(21),g=a(34),b=a(0),v=a.n(b),y=a(237),k=a(241),w=a(244),x=a(245),j=a(247),_=a(248),E=a(252),O=(a(510),a(66)),D=a(39),S=Object(p.x)("electron")?Object(g.b)():Object(g.a)(),N=function(t){Object(u.a)(n,t);var a=Object(l.a)(n);function n(e){var t;return Object(i.a)(this,n),(t=a.call(this,e)).paginate=function(e,a){return t.setState({itemSelected:{item:e,id:a}})},t.state={projects:[],perspectives:[],itemSelected:{item:"upcoming",id:void 0}},D(Object(c.a)(t)),t.abtibRef=v.a.createRef(),t.menu=v.a.createRef(),t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=new URL(document.URL),t=e.pathname.split("/"),a=e.hash.split("/");""===t[1]?this.setState({itemSelected:{item:"upcoming",id:""}}):Object(p.x)("electron")?this.setState({itemSelected:{item:a[1],id:a[2]}}):this.setState({itemSelected:{item:t[1],id:t[2]}}),this.refresh()}},{key:"componentDidUpdate",value:function(e,t,a){t.to!==this.state.to&&void 0!==this.state.to&&this.setState({sends:{to:void 0,id:void 0}})}},{key:"refresh",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.engine.db.getTopLevelProjects(this.props.uid);case 2:return t=e.sent,e.next=5,this.props.engine.db.getPerspectives(this.props.uid);case 5:a=e.sent,this.setState({projects:t[2],perspectives:a[2]});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,a=Object(p.x)("electron")?m.a:m.b;return v.a.createElement(p.g,null,v.a.createElement(a,{history:S},v.a.createElement(E.a,{paginate:this.paginate,ref:this.keybindRef,perspectives:this.state.perspectives,projects:this.state.projects,abtib:this.abtibRef,engine:this.props.engine,uid:this.props.uid,gruntman:this.props.gruntman}),v.a.createElement(O.a,null),v.a.createElement(p.b,{noBounce:!0,forceOverscroll:!1},v.a.createElement(p.n,{id:"main-split",contentId:"main",mode:"md"},v.a.createElement(p.d,{id:"main-menu",contentId:"main",ref:this.menu},v.a.createElement("br",null),v.a.createElement(p.b,{id:"menu-content",className:Object(p.x)("electron")?window.navigator.platform.includes("Mac")?"darwin":"win32"===e.platform?"windows":void 0:"normal"},v.a.createElement(f.a,{to:"/upcoming",onClick:function(){return t.setState({itemSelected:{item:"upcoming",id:void 0}})}}," ",v.a.createElement("div",{className:"menu-item "+("upcoming"===this.state.itemSelected.item?"menu-item-selected":""),style:{fontSize:18}},v.a.createElement(p.c,{style:{fontSize:20},icon:d.g}),this.props.localizations.upcoming)),v.a.createElement(f.a,{to:"/completed",onClick:function(){return t.setState({itemSelected:{item:"completed",id:void 0}})}}," ",v.a.createElement("div",{className:"menu-item "+("completed"===this.state.itemSelected.item?"menu-item-selected":""),style:{fontSize:18}},v.a.createElement(p.c,{style:{fontSize:20,transform:"translateY(3.5px)"},icon:d.d}),this.props.localizations.completed)),v.a.createElement(f.a,{to:"/calendar",onClick:function(){return t.setState({itemSelected:{item:"calendar",id:void 0}})}}," ",v.a.createElement("div",{className:"menu-item "+("calendar"===this.state.itemSelected.item?"menu-item-selected":""),style:{fontSize:18}},v.a.createElement(p.c,{style:{fontSize:20,transform:"translateY(3.5px)"},icon:d.b}),this.props.localizations.calendar)),v.a.createElement("div",{className:"menu-sublabel menu-decoration"},this.props.localizations.perspectives," ",v.a.createElement("a",{onClick:function(){t.menu.current&&t.menu.current.close(),Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.gruntman.do("perspective.create",{uid:this.props.uid});case 2:t=e.sent.pid,S.push("/perspectives/".concat(t,"/do")),this.paginate("perspectives",t),this.refresh();case 6:case"end":return e.stop()}}),e,this)}))).bind(t)()},className:"fa fa-plus add"})),this.state.perspectives.map((function(e){return v.a.createElement(f.a,{key:e.id,to:"/perspectives/".concat(e.id),onClick:function(){return t.setState({itemSelected:{item:"perspectives",id:e.id}})}}," ",v.a.createElement("div",{className:"menu-item "+("perspectives"===t.state.itemSelected.item&&t.state.itemSelected.id===e.id?"menu-item-selected":"")},v.a.createElement("i",{className:"fas fa-layer-group",style:{paddingRight:2}})," ",e.name))})),v.a.createElement("div",{className:"menu-sublabel menu-decoration"},this.props.localizations.projects,v.a.createElement("a",{onClick:function(){t.menu.current&&t.menu.current.close(),Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.gruntman.do("project.create",{uid:this.props.uid});case 2:t=e.sent.pid,S.push("/projects/".concat(t,"/do")),this.paginate("projects",t),this.refresh();case 6:case"end":return e.stop()}}),e,this)}))).bind(t)()},className:"fa fa-plus add"})),this.state.projects.map((function(e){return v.a.createElement(f.a,{key:e.id,to:"/projects/".concat(e.id),onClick:function(){return t.setState({itemSelected:{item:"projects",id:e.id}})}}," ",v.a.createElement("div",{className:"menu-item "+("projects"===t.state.itemSelected.item&&t.state.itemSelected.id===e.id?"menu-item-selected":"")},v.a.createElement(p.c,{icon:d.k}),e.name))}))),v.a.createElement("div",{className:"menu-item",id:"logout",onClick:function(){S.push("/"),t.props.dispatch({operation:"logout"})}},v.a.createElement("i",{className:"fas fa-snowboarding",style:{paddingRight:5}}),this.props.localizations.logout)),v.a.createElement(p.g,{id:"main"},v.a.createElement(_.a,{reference:this.abtibRef,uid:this.props.uid,gruntman:this.props.gruntman,localizations:this.props.localizations}),v.a.createElement("div",{id:"parking-lot"}),v.a.createElement(p.j,null,v.a.createElement(h.b,{render:function(){return v.a.createElement(h.a,{to:"/upcoming"})}}),v.a.createElement(h.b,{exact:!0,path:"/",render:function(){return v.a.createElement(h.a,{to:"/upcoming"})}}),v.a.createElement(h.d,null,v.a.createElement(h.b,{path:"/upcoming",exact:!0,render:function(){return v.a.createElement(y.a,{engine:t.props.engine,uid:t.props.uid,gruntman:t.props.gruntman,displayName:t.props.displayName,localizations:t.props.localizations})}}),v.a.createElement(h.b,{path:"/calendar",exact:!0,render:function(){return v.a.createElement(k.a,{engine:t.props.engine,uid:t.props.uid,gruntman:t.props.gruntman})},localizations:this.props.localizations}),v.a.createElement(h.b,{path:"/completed",exact:!0,render:function(){return v.a.createElement(w.a,{engine:t.props.engine,uid:t.props.uid,gruntman:t.props.gruntman,localizations:t.props.localizations})}}),v.a.createElement(h.b,{path:"/perspectives/:id/:create?",render:function(e){var a=e.match;return v.a.createElement(x.a,{engine:t.props.engine,paginate:t.paginate,id:a.params.id,uid:t.props.uid,gruntman:t.props.gruntman,menuRefresh:t.refresh,options:a.params.create,localizations:t.props.localizations})}}),v.a.createElement(h.b,{path:"/projects/:id/:create?",render:function(e){var a=e.match;return v.a.createElement(j.a,{engine:t.props.engine,id:a.params.id,uid:t.props.uid,gruntman:t.props.gruntman,menuRefresh:t.refresh,paginate:t.paginate,options:a.params.create,localizations:t.props.localizations})}}))))))))}}]),n}(b.Component);t.a=N}).call(this,a(54))},237:function(e,t,a){"use strict";(function(e){var n=a(28),r=a(1),s=a.n(r),i=a(4),o=a(9),c=a(10),u=a(7),l=a(11),p=a(12),d=a(6),m=a(0),f=a.n(m),h=(a(361),a(71),a(133)),g=a(46),b=a(39),v=function(t){Object(l.a)(r,t);var a=Object(p.a)(r);function r(e){var t;Object(o.a)(this,r),t=a.call(this,e);var n=new Date;n.setDate(n.getDate()+1);var s=t.props.localizations.greetings_setA;return t.state={inbox:[],dueSoon:[],possibleProjects:{},possibleTags:{},possibleProjectsRev:{},possibleTagsRev:{},availability:[],projectSelects:[],tagSelects:[],projectDB:{},timeline:[],timelineShown:!1,greeting:s[Math.floor(Math.random()*s.length)]},t.updatePrefix=t.random(),t.props.gruntman.registerRefresher(t.refresh.bind(Object(u.a)(t))),b(Object(u.a)(t)),t}return Object(c.a)(r,[{key:"refresh",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,r,o,c,u,l,p,d,m,f,h,g,b,v,y;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.engine.db.getItemAvailability(this.props.uid);case 2:return t=e.sent,e.next=5,this.props.engine.db.getInboxandDS(this.props.uid,t);case 5:return a=e.sent,e.next=8,this.props.engine.db.getProjectsandTags(this.props.uid);case 8:for(u in r=e.sent,o=[],c=[],r[1][0])c.push({value:u,label:r[1][0][u]});return l=this,e.next=15,Object(i.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,l.props.engine.db.getTopLevelProjects(l.props.uid);case 3:a=e.sent[0],e.t0=s.a.keys(a);case 5:if((e.t1=e.t0()).done){e.next=14;break}return n=e.t1.value,e.t2=t,e.next=10,l.props.engine.db.getProjectStructure(l.props.uid,n,!0);case 10:e.t3=e.sent,e.t2.push.call(e.t2,e.t3),e.next=5;break;case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e)})))();case 15:return p=e.sent,d=function e(t,a){if(a||(a=""),o.push({value:t.id,label:a+r[0][0][t.id]}),t.children){var s,i=Object(n.a)(t.children);try{for(i.s();!(s=i.n()).done;){var c=s.value;"project"===c.type&&e(c.content,a+":: ")}}catch(u){i.e(u)}finally{i.f()}}},p.map((function(e){return d(e)})),this.updatePrefix=this.random(),e.next=21,this.props.engine.db.selectTasksInRange(this.props.uid,new Date,new Date(2100,1,1),!0);case 21:m=(m=e.sent).filter((function(e){return!a[1].includes(e[0])})),Date.prototype.isSameDateAs=function(e){return this.getFullYear()===e.getFullYear()&&this.getMonth()===e.getMonth()&&this.getDate()===e.getDate()},f=new Date,h=[],g=Object(n.a)(m);try{for(g.s();!(b=g.n()).done;)v=b.value,(y=new Date(1e3*v[1].due.seconds)).isSameDateAs(f)||(h.push({type:"label",content:y}),f=y),h.push({type:"task",content:v[0]})}catch(k){g.e(k)}finally{g.f()}this.setState({inbox:a[0],dueSoon:a[1],possibleProjects:r[0][0],possibleTags:r[1][0],possibleProjectsRev:r[0][1],possibleTagsRev:r[1][1],availability:t,projectSelects:o,tagSelects:c,projectDB:p,timeline:h});case 29:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.refresh()}},{key:"componentWillUnmount",value:function(){this.props.gruntman.halt()}},{key:"random",value:function(){return(65536*(1+Math.random())|0).toString(16)+"-"+(65536*(1+Math.random())|0).toString(16)}},{key:"render",value:function(){var t=this;return f.a.createElement(d.g,null,f.a.createElement("div",{style:{overflow:"hidden"}},f.a.createElement("div",{className:"page-invis-drag "+(Object(d.x)("electron")?window.navigator.platform.includes("Mac")?"darwin":"win32"===e.platform?"windows":void 0:"normal")},"\xa0"),f.a.createElement("div",{className:"page-content "+(Object(d.x)("electron")?window.navigator.platform.includes("Mac")?"darwin":"win32"===e.platform?"windows":void 0:"normal")},f.a.createElement("div",{className:"header-container",onTouchMove:function(e){return e.preventDefault()}},f.a.createElement("div",{style:{display:"inline-block"}},f.a.createElement(d.e,null,f.a.createElement("i",{className:"fas fa-bars",style:{marginLeft:20,color:"var(--page-header-sandwich)"}}))," ",f.a.createElement("h1",{className:"page-title"},f.a.createElement("i",{style:{paddingRight:10},className:"fas fa-chevron-circle-right"}),this.props.localizations.upcoming),f.a.createElement("div",{style:{display:"inline-block",background:"var(--decorative-light)",width:1,transform:"translate(-13.5px, 4px)",height:20}},"\xa0"),f.a.createElement("div",{className:"greeting-datewidget"},f.a.createElement("div",{style:{display:"inline-block"},className:"greeting-date"},(new Date).getDate()),f.a.createElement("div",{style:{display:"inline-block"},className:"greeting-datename"},(new Date).toLocaleString(this.props.localizations.getLanguage(),{weekday:"long"}))),f.a.createElement("div",{className:"greeting-container"},f.a.createElement("span",{id:"greeting"},this.state.greeting)," ",f.a.createElement("span",{id:"greeting-name",style:{fontWeight:600}},this.props.displayName)))),f.a.createElement("div",{style:{marginLeft:10,marginRight:10,overflowY:"scroll",flexGrow:5}},f.a.createElement("div",null,function(){if(t.state.inbox.length>0)return f.a.createElement("div",{className:"page-label"},t.props.localizations.unsorted,f.a.createElement(d.a,{className:"count-badge"},t.state.inbox.length))}(),f.a.createElement(h.b,{list:this.state.inbox,prefix:this.updatePrefix,uid:this.props.uid,engine:this.props.engine,gruntman:this.props.gruntman,availability:this.state.availability,datapack:[this.state.tagSelects,this.state.projectSelects,this.state.possibleProjects,this.state.possibleProjectsRev,this.state.possibleTags,this.state.possibleTagsRev]})),f.a.createElement("div",null,function(){if(t.state.dueSoon.length>0)return f.a.createElement("div",{className:"page-label"},t.props.localizations.ds,f.a.createElement(d.a,{className:"count-badge"},t.state.dueSoon.length))}(),this.state.dueSoon.map((function(e){return f.a.createElement(g.a,{tid:e,key:e+"-"+t.updatePrefix,uid:t.props.uid,engine:t.props.engine,gruntman:t.props.gruntman,availability:t.state.availability[e],datapack:[t.state.tagSelects,t.state.projectSelects,t.state.possibleProjects,t.state.possibleProjectsRev,t.state.possibleTags,t.state.possibleTagsRev]})}))),f.a.createElement("div",null,f.a.createElement("div",{className:"timeline-button"},f.a.createElement("a",{onClick:function(){return t.setState({timelineShown:!t.state.timelineShown})},style:{marginLeft:15,marginTop:20,display:"inline-block",fontWeight:600,fontSize:13,cursor:"pointer"}},f.a.createElement("i",{className:"fas fa-calendar-week",style:{paddingRight:5}})," ",this.state.timelineShown?this.props.localizations.hide:this.props.localizations.show," ",this.props.localizations.timeline)),function(){if(t.state.timelineShown)return t.state.timeline.map((function(e){return"task"===e.type?f.a.createElement(g.a,{tid:e.content,key:e.content+"-"+t.updatePrefix,uid:t.props.uid,engine:t.props.engine,gruntman:t.props.gruntman,availability:t.state.availability[e.content],datapack:[t.state.tagSelects,t.state.projectSelects,t.state.possibleProjects,t.state.possibleProjectsRev,t.state.possibleTags,t.state.possibleTagsRev]}):"label"===e.type?f.a.createElement("div",{className:"timeline-box"},f.a.createElement("div",{className:"timeline-line-container"},f.a.createElement("div",{className:"timeline-line"},"\xa0")),f.a.createElement("div",{className:"timeline-text"},f.a.createElement("span",{className:"timeline-weekname"},e.content.toLocaleDateString(t.props.localizations.getLanguage(),{weekday:"long",year:"numeric",month:"long",day:"numeric"})))):void 0}))}(),function(){if(t.state.timelineShown)return f.a.createElement("span",{style:{fontSize:8,color:"var(--commitid)",paddingLeft:10,paddingTop:10}},"Commit ID: ","fe8ca38980c69427717a0c8a16d8e8a671936871")}()),f.a.createElement("div",{className:"bottom-helper"},"\xa0")))))}}]),r}(m.Component);t.a=v}).call(this,a(54))},241:function(e,t,a){"use strict";(function(e){var n=a(28),r=a(9),s=a(10),i=a(7),o=a(11),c=a(12),u=a(47),l=a(1),p=a.n(l),d=a(4),m=a(15),f=a(22),h=a(6),g=a(0),b=a.n(g),v=a(242),y=(a(167),a(71),a(66)),k=a(46),w=a(100),x=a(243),j=a(39),_=0;function E(e){function t(e,t,a){var n=e,r=t,s=a,i=function(e){return 1==(e=e.toString(16)).length?"0"+e:e},o=Math.ceil(parseInt(n.substring(0,2),16)*s+parseInt(r.substring(0,2),16)*(1-s)),c=Math.ceil(parseInt(n.substring(2,4),16)*s+parseInt(r.substring(2,4),16)*(1-s)),u=Math.ceil(parseInt(n.substring(4,6),16)*s+parseInt(r.substring(4,6),16)*(1-s));return i(o)+i(c)+i(u)}var a=Object(g.useState)(new Date),n=Object(f.a)(a,2),r=n[0],s=n[1],i=r.getMonth(),o=r.getFullYear(),c=new Date(o,i,1),l=new Date(o,i+1,0),h=new Date(o,i,0),v=c.getDay()+1,y=Object(m.a)(new Array(v-1)).map((function(e,t){return{type:"pre",content:t+h.getDate()-(v-1)+1}})),k=Object(m.a)(new Array(6-l.getDay()===-1?6:6-l.getDay())).map((function(e,t){return{type:"post",content:t+1}})),w=Object(m.a)(new Array(l.getDate())).map((function(e,t){return{type:"actual",content:t+1}})),j=Object(g.useState)({}),E=Object(f.a)(j,2),O=E[0],D=E[1],S=Object(g.useState)(!1),N=Object(f.a)(S,2),C=N[0],T=N[1],P=Object(g.useState)([]),z=Object(f.a)(P,2),M=z[0],R=z[1];Array.prototype.max=function(){return Math.max.apply(null,this)};var I=function(){var a=Object(d.a)(p.a.mark((function a(){var n,r,s,i,o,u,d,h,g,b;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=new Map,r=new Map,s=new Map,i={},a.next=6,e.engine.db.selectTasksInRange(e.uid,c,l,!0);case 6:a.sent.forEach((function(e){var t=Object(f.a)(e,2),a=t[0],i=t[1],o=new Date(1e3*i.due.seconds);o.setHours(0,0,0,0);var c=o.getDate();n.has(c)?n.set(c,n.get(c)+1):n.set(c,1),r.has(c)?r.set(c,[].concat(Object(m.a)(r.get(c)),[i.name])):r.set(c,[i.name]),s.has(c)?s.set(c,[].concat(Object(m.a)(s.get(c)),[a])):s.set(c,[a])})),o=Array.from(n.values()),u=Array.from(r.values()),d=Array.from(s.values()),o.length>0&&(h=o.max(),g=getComputedStyle(document.body),b=o.map((function(e){return t(g.getPropertyValue("--heatmap-darkest").trim().slice(1),g.getPropertyValue("--heatmap-lightest").trim().slice(1),e/h)})),Array.from(n.keys()).forEach((function(e,t){i[e]={color:b[t],value:o[t],names:u[t],ids:d[t]}}))),D(i);case 13:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(g.useEffect)((function(){I()}),[r,_]),b.a.createElement("div",{id:"calendar-page-bigol-calendar-wrapper",style:Object(u.a)({display:"inline-block",height:"85%",width:"95%"},e.style)},b.a.createElement(x.a,{uid:e.uid,engine:e.engine,isShown:C,onDidDismiss:function(){return T(!1)},list:M,availability:e.availability,datapack:e.datapack,gruntman:e.gruntman,currentDate:r}),b.a.createElement("div",{id:"bigol-calendar-wrapper"},b.a.createElement("div",{id:"bigol-calendar-daterow"},b.a.createElement("span",{className:"bigol-calendar-daterow-item"},"Sun"),b.a.createElement("span",{className:"bigol-calendar-daterow-item"},"Mon"),b.a.createElement("span",{className:"bigol-calendar-daterow-item"},"Tues"),b.a.createElement("span",{className:"bigol-calendar-daterow-item"},"Wed"),b.a.createElement("span",{className:"bigol-calendar-daterow-item"},"Thu"),b.a.createElement("span",{className:"bigol-calendar-daterow-item"},"Fri"),b.a.createElement("span",{className:"bigol-calendar-daterow-item"},"Sat")),b.a.createElement("div",{id:"bigol-calendar-container"},[].concat(Object(m.a)(y),Object(m.a)(w),Object(m.a)(k)).map((function(t){return b.a.createElement("span",{className:"bigol-calendar-container-item calendar-container-item-".concat(t.type," calendar-container-item-").concat(t.content),style:{backgroundColor:O[t.content]&&"actual"===t.type?"#".concat(O[t.content].color):"inherit"},onClick:function(a){var n;"pre"===t.type&&(n=new Date(h.getFullYear(),h.getMonth(),t.content)),"actual"===t.type&&(n=new Date(c.getFullYear(),c.getMonth(),t.content)),"post"===t.type&&(n=new Date(c.getFullYear(),c.getMonth()+1,t.content)),s(n),O[t.content]?R(O[t.content].ids):R([]),T(!0),e.onDateSelected&&e.onDateSelected(n)}},b.a.createElement("div",{className:"calendar-date-text"},t.content,b.a.createElement("span",{className:"calendar-date-value"},O[t.content]&&"actual"===t.type?"".concat(O[t.content].value," Tasks"):null)),b.a.createElement("div",{style:{marginLeft:6,marginRight:5,marginBottom:2}},(O[t.content]&&"actual"===t.type?O[t.content].names:[]).map((function(e){return b.a.createElement("span",{className:"calendar-date-taskname"},b.a.createElement("div",{className:"calendar-task-circle"},"\xa0"),e)}))))}))),b.a.createElement("div",{id:"bigol-calendar-tools"},b.a.createElement("a",{className:"fas fa-caret-left calendar-button",onClick:function(){var t=new Date(c.getFullYear(),c.getMonth()-1,1);s(t),e.onDateSelected&&e.onDateSelected(t)}}),b.a.createElement("a",{className:"fas fa-caret-right calendar-button",onClick:function(){var t=new Date(c.getFullYear(),c.getMonth()+1,1);s(t),e.onDateSelected&&e.onDateSelected(t)}}),b.a.createElement("div",{className:"calendar-today",onClick:function(){s(new Date),e.onDateSelected&&e.onDateSelected(new Date)}},e.gruntman.localizations.clbtd)),b.a.createElement("div",{id:"bigol-calendar-infopanel"},b.a.createElement("div",{id:"bigol-calendar-dategroup"},b.a.createElement("div",{className:"bigol-calendar-infopanel-dateselected"},r.getDate()),b.a.createElement("div",{className:"bigol-calendar-infopanel-datename"},r.toLocaleString(e.gruntman.localizations.getLanguage(),{weekday:"long"})),b.a.createElement("div",{className:"bigol-calendar-infopanel-month"},r.toLocaleString(e.gruntman.localizations.getLanguage(),{month:"long"})),b.a.createElement("div",{className:"bigol-calendar-infopanel-year"},r.getFullYear())))))}var O=function(t){Object(o.a)(u,t);var a=Object(c.a)(u);function u(e){var t;Object(r.a)(this,u),t=a.call(this,e);var n=new Date;return n.setHours(0,0,0,0),t.state={possibleProjects:{},possibleTags:{},possibleProjectsRev:{},possibleTagsRev:{},availability:[],projectSelects:[],tagSelects:[],projectDB:{},currentDate:n,taskList:[],popoverIsVisible:!1},t.updatePrefix=t.random(),t.props.gruntman.registerRefresher(t.refresh.bind(Object(i.a)(t))),t.repeater=b.a.createRef(),j(Object(i.a)(t)),t}return Object(s.a)(u,[{key:"showEdit",value:function(){this.setState({showEdit:!0})}},{key:"hideEdit",value:function(){this.setState({showEdit:!1})}},{key:"componentWillUnmount",value:function(){this.props.gruntman.halt()}},{key:"refresh",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t,a,r,s,i,o,c,u,l,m;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.engine.db.getItemAvailability(this.props.uid);case 2:return t=e.sent,e.next=5,this.props.engine.db.getProjectsandTags(this.props.uid);case 5:for(i in a=e.sent,r=[],s=[],a[1][0])s.push({value:i,label:a[1][0][i]});return o=this,e.next=12,Object(d.a)(p.a.mark((function e(){var t,a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,o.props.engine.db.getTopLevelProjects(o.props.uid);case 3:a=e.sent[0],e.t0=p.a.keys(a);case 5:if((e.t1=e.t0()).done){e.next=14;break}return n=e.t1.value,e.t2=t,e.next=10,o.props.engine.db.getProjectStructure(o.props.uid,n,!0);case 10:e.t3=e.sent,e.t2.push.call(e.t2,e.t3),e.next=5;break;case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e)})))();case 12:return c=e.sent,u=function e(t,s){if(s||(s=""),r.push({value:t.id,label:s+a[0][0][t.id]}),t.children){var i,o=Object(n.a)(t.children);try{for(o.s();!(i=o.n()).done;){var c=i.value;"project"===c.type&&e(c.content,s+":: ")}}catch(u){o.e(u)}finally{o.f()}}},c.map((function(e){return u(e)})),(l=new Date(this.state.currentDate)).setHours(23,59,59,60),e.next=19,this.props.engine.db.selectTasksInRange(this.props.uid,this.state.currentDate,l);case 19:m=e.sent,_++,this.setState({possibleProjects:a[0][0],possibleTags:a[1][0],possibleProjectsRev:a[0][1],possibleTagsRev:a[1][1],availability:t,projectSelects:r,tagSelects:s,projectDB:c,taskList:m});case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.refresh()}},{key:"random",value:function(){return(65536*(1+Math.random())|0).toString(16)+"-"+(65536*(1+Math.random())|0).toString(16)}},{key:"render",value:function(){var t=this;return b.a.createElement(h.g,null,b.a.createElement("div",{className:"page-invis-drag "+(Object(h.x)("electron")?window.navigator.platform.includes("Mac")?"darwin":"win32"===e.platform?"windows":void 0:"normal")},"\xa0"),b.a.createElement("div",{className:"page-content "+(Object(h.x)("electron")?window.navigator.platform.includes("Mac")?"darwin":"win32"===e.platform?"windows":void 0:"normal")},b.a.createElement("div",{className:"header-container"},b.a.createElement("div",{style:{display:"inline-block"}},b.a.createElement("div",null,b.a.createElement(h.e,null,b.a.createElement("i",{className:"fas fa-bars",style:{marginLeft:20,color:"var(--page-header-sandwich)"}})),b.a.createElement("h1",{className:"page-title"},b.a.createElement("i",{style:{paddingRight:10},className:"fas fa-calendar-alt"}),this.props.gruntman.localizations.calendar),b.a.createElement(y.a,{effect:"solid",offset:{top:3},backgroundColor:"black",className:"tooltips"})))),b.a.createElement("div",{style:{marginLeft:10,marginRight:10,overflowY:"scroll",height:"100%"}},b.a.createElement("div",{id:"calendar-page-wrapper"},t.props.isMobile()?b.a.createElement(w.a,{gruntman:t.props.gruntman,uid:t.props.uid,engine:t.props.engine,isShown:t.state.popoverIsVisible,onDidDismiss:function(){return t.setState({popoverIsVisible:!1})},onDateSelected:function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Date(t.getTime())).setHours(23,59,59,60),e.next=4,this.props.engine.db.selectTasksInRange(this.props.uid,t,a);case 4:n=e.sent,this.setState({currentDate:t,taskList:n});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}().bind(t)}):b.a.createElement(E,{gruntman:t.props.gruntman,uid:t.props.uid,engine:t.props.engine,availability:t.state.availability,datapack:[t.state.tagSelects,t.state.projectSelects,t.state.possibleProjects,t.state.possibleProjectsRev,t.state.possibleTags,t.state.possibleTagsRev]}),function(){if(t.props.isMobile())return b.a.createElement("div",{id:"calendar-page-taskpage-wrapper"},b.a.createElement("span",{id:"calendar-page-header"},b.a.createElement("div",{class:"calendar-page-count"},t.state.taskList.length),b.a.createElement("div",{class:"calendar-page-title"},"tasks due on"),b.a.createElement("div",{class:"calendar-page-date"},t.state.currentDate.toLocaleString("en-us",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))),t.state.taskList.map((function(e){return b.a.createElement(k.a,{tid:e,key:e+"-"+t.updatePrefix,uid:t.props.uid,engine:t.props.engine,gruntman:t.props.gruntman,availability:t.state.availability[e],datapack:[t.state.tagSelects,t.state.projectSelects,t.state.possibleProjects,t.state.possibleProjectsRev,t.state.possibleTags,t.state.possibleTagsRev]})})))}(),b.a.createElement("div",{className:"bottom-helper"},"\xa0")))))}}]),u}(g.Component);t.a=Object(v.withGetScreen)(O,{mobileLimit:720,tabletLimit:768,shouldListenOnResize:!0})}).call(this,a(54))},243:function(e,t,a){"use strict";var n=a(6),r=a(0),s=a.n(r),i=(a(167),a(90),a(27),a(46));t.a=function(e){var t=Object(r.useRef)([]);return Object(r.useEffect)((function(){t.current=e.list.map((function(e){return Object(r.createRef)()}))}),[e.list]),s.a.createElement(n.f,{ref:e.reference,isOpen:e.isShown,onDidDismiss:function(){e.onDidDismiss&&e.onDidDismiss()},style:{borderRadius:5},cssClass:"calendar-list-popover"},s.a.createElement("div",{id:"airplane-hanger"})," ",s.a.createElement("div",{className:"popover-list"},s.a.createElement("span",{id:"calendar-page-header"},s.a.createElement("div",{class:"calendar-page-count"},e.list.length),s.a.createElement("div",{class:"calendar-page-title"},"tasks due on"),s.a.createElement("div",{class:"calendar-page-date"},e.currentDate.toLocaleString("en-us",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))),e.list.map((function(a,n){return s.a.createElement("div",{ref:t.current[n]},s.a.createElement(i.a,{tid:a,key:a,uid:e.uid,engine:e.engine,gruntman:e.gruntman,availability:e.availability[a],datapack:e.datapack,envelope:t.current[n],onModal:!0}))})),s.a.createElement("div",{style:{marginTop:10}},s.a.createElement("a",{className:"newbutton",onClick:function(){e.gruntman.do("task.create",{uid:e.uid,pid:"",name:""}).then((function(e){}))}},s.a.createElement("div",null,s.a.createElement("i",{className:"fas fa-plus-circle subproject-icon"}),s.a.createElement("div",{style:{display:"inline-block",fontWeight:500}},"wheee"))),s.a.createElement("div",{className:"bottom-helper"},"\xa0")),s.a.createElement("div",{className:"bottom-helper",style:{height:150}},"\xa0")))}},244:function(e,t,a){"use strict";(function(e){var n=a(28),r=a(1),s=a.n(r),i=a(4),o=a(9),c=a(10),u=a(7),l=a(11),p=a(12),d=a(6),m=a(0),f=a.n(m),h=(a(506),a(71),a(46)),g=a(39);function b(e,t){this.type=e,this.contents=t}var v=function(t){Object(l.a)(r,t);var a=Object(p.a)(r);function r(e){var t;return Object(o.a)(this,r),(t=a.call(this,e)).state={taskList:[],tasksShown:1,taskCats:["Today","Yesterday","This Week","This Month","Even Before"],rendering:!0,possibleProjects:{},possibleTags:{},possibleProjectsRev:{},possibleTagsRev:{},availability:[],projectSelects:[],tagSelects:[],projectDB:{}},t.updatePrefix=t.random(),t.props.gruntman.registerRefresher(t.refresh.bind(Object(u.a)(t))),g(Object(u.a)(t)),t}return Object(c.a)(r,[{key:"componentWillUnmount",value:function(){this.props.gruntman.halt()}},{key:"refresh",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,r,o,c,u,l,p,d,m,f=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,this.props.engine.db.getCompletedTasks(this.props.uid);case 3:return a=e.sent,e.next=6,this.props.engine.db.getItemAvailability(this.props.uid);case 6:return r=e.sent,e.next=9,this.props.engine.db.getProjectsandTags(this.props.uid);case 9:for(l in o=e.sent,a.forEach((function(e,a){t.push(new b("label",f.state.taskCats[a])),e.forEach((function(e){t.push(new b("task",e))}))})),c=[],u=[],o[1][0])u.push({value:l,label:o[1][0][l]});return p=this,e.next=17,Object(i.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,p.props.engine.db.getTopLevelProjects(p.props.uid);case 3:a=e.sent[0],e.t0=s.a.keys(a);case 5:if((e.t1=e.t0()).done){e.next=14;break}return n=e.t1.value,e.t2=t,e.next=10,p.props.engine.db.getProjectStructure(p.props.uid,n,!0);case 10:e.t3=e.sent,e.t2.push.call(e.t2,e.t3),e.next=5;break;case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e)})))();case 17:d=e.sent,m=function e(t,a){if(a||(a=""),c.push({value:t.id,label:a+o[0][0][t.id]}),t.children){var r,s=Object(n.a)(t.children);try{for(s.s();!(r=s.n()).done;){var i=r.value;"project"===i.type&&e(i.content,a+":: ")}}catch(u){s.e(u)}finally{s.f()}}},d.map((function(e){return m(e)})),this.setState({taskList:t,rendering:!1,possibleProjects:o[0][0],possibleTags:o[1][0],possibleProjectsRev:o[0][1],possibleTagsRev:o[1][1],availability:r,projectSelects:c,tagSelects:u,projectDB:d});case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.refresh();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleFetchMore",value:function(){var e=this;this.setState({rendering:!0});setTimeout((function(){e.setState({rendering:!1})}),2),setTimeout((function(){e.setState({tasksShown:e.state.tasksShown+1}),e.setState({rendering:!1})}),1)}},{key:"random",value:function(){return(65536*(1+Math.random())|0).toString(16)+"-"+(65536*(1+Math.random())|0).toString(16)}},{key:"render",value:function(){var t=this;return f.a.createElement(d.g,null,f.a.createElement("div",{style:{overflowY:"scroll"}},f.a.createElement("div",{className:"page-invis-drag "+(Object(d.x)("electron")?window.navigator.platform.includes("Mac")?"darwin":"win32"===e.platform?"windows":void 0:"normal")},"\xa0"),f.a.createElement("div",{className:"page-content "+(Object(d.x)("electron")?window.navigator.platform.includes("Mac")?"darwin":"win32"===e.platform?"windows":void 0:"normal")},f.a.createElement("div",{className:"header-container"},f.a.createElement("div",{style:{display:"inline-block"}},f.a.createElement(d.e,null,f.a.createElement("i",{class:"fas fa-bars",style:{marginLeft:20,color:"var(--page-header-sandwich)"}})),f.a.createElement("h1",{className:"page-title"},f.a.createElement("i",{style:{paddingRight:10},className:"fas fa-check-circle"}),"Completed"))),f.a.createElement("div",{style:{overflowY:"scroll"}},this.state.taskList.slice(0,10*this.state.tasksShown).map((function(e,a){return f.a.createElement("div",{style:{marginLeft:10,marginRight:10}},"label"==e.type?t.state.taskList[a+1]?"label"==t.state.taskList[a+1].type||t.state.taskList.slice(0,10*t.state.tasksShown).length==a+1?"":f.a.createElement("p",{className:"page-label",style:{marginBottom:0}},e.contents):"":f.a.createElement(h.a,{tid:e.contents,startingCompleted:!0,key:e.contents+"-"+t.updatePrefix,uid:t.props.uid,engine:t.props.engine,gruntman:t.props.gruntman,availability:t.state.availability[e.contents],datapack:[t.state.tagSelects,t.state.projectSelects,t.state.possibleProjects,t.state.possibleProjectsRev,t.state.possibleTags,t.state.possibleTagsRev]}))})),f.a.createElement("div",{className:"fetch-more"},this.state.rendering?f.a.createElement("p",{className:"loader"},"Loading..."):f.a.createElement("p",{onClick:this.handleFetchMore},"Fetch more...")),f.a.createElement("div",{className:"bottom-helper"},"\xa0")))))}}]),r}(m.Component);t.a=v}).call(this,a(54))},245:function(e,t,a){"use strict";(function(e){var n=a(28),r=a(1),s=a.n(r),i=a(4),o=a(9),c=a(10),u=a(7),l=a(11),p=a(12),d=a(6),m=a(0),f=a.n(m),h=(a(232),a(71),a(66)),g=a(21),b=a(46),v=a(246),y=a(39),k=function(t){Object(l.a)(r,t);var a=Object(p.a)(r);function r(e){var t;return Object(o.a)(this,r),(t=a.call(this,e)).state={taskList:[],perspectiveName:"",perspectiveQuery:"",perspectiveAvail:{},perspectiveTord:{},showEdit:"do"===t.props.options,possibleProjects:{},possibleTags:{},possibleProjectsRev:{},possibleTagsRev:{},availability:[],projectSelects:[],tagSelects:[],projectDB:{}},t.updatePrefix=t.random(),t.props.gruntman.registerRefresher(t.refresh.bind(Object(u.a)(t))),t.repeater=f.a.createRef(),y(Object(u.a)(t)),t}return Object(c.a)(r,[{key:"showEdit",value:function(){this.setState({showEdit:!0})}},{key:"hideEdit",value:function(){this.setState({showEdit:!1})}},{key:"componentWillUnmount",value:function(){this.props.gruntman.halt()}},{key:"refresh",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,r,o,c,u,l,p,d,m,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.engine.db.getPerspectives(this.props.uid);case 2:return t=e.sent,a=t[0][this.props.id],e.next=6,this.props.engine.perspective.calc(this.props.uid,a.query,a.avail,a.tord);case 6:return r=e.sent,e.next=9,this.props.engine.db.getItemAvailability(this.props.uid);case 9:return o=e.sent,e.next=12,this.props.engine.db.getProjectsandTags(this.props.uid);case 12:for(p in c=e.sent,u=[],l=[],c[1][0])l.push({value:p,label:c[1][0][p]});return d=this,e.next=19,Object(i.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,d.props.engine.db.getTopLevelProjects(d.props.uid);case 3:a=e.sent[0],e.t0=s.a.keys(a);case 5:if((e.t1=e.t0()).done){e.next=14;break}return n=e.t1.value,e.t2=t,e.next=10,d.props.engine.db.getProjectStructure(d.props.uid,n,!0);case 10:e.t3=e.sent,e.t2.push.call(e.t2,e.t3),e.next=5;break;case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e)})))();case 19:m=e.sent,f=function e(t,a){if(a||(a=""),u.push({value:t.id,label:a+c[0][0][t.id]}),t.children){var r,s=Object(n.a)(t.children);try{for(s.s();!(r=s.n()).done;){var i=r.value;"project"===i.type&&e(i.content,a+":: ")}}catch(o){s.e(o)}finally{s.f()}}},m.map((function(e){return f(e)})),this.setState({taskList:r,perspectiveName:a.name,perspectiveQuery:a.query,perspectiveAvail:a.avail,perspectiveTord:a.tord,possibleProjects:c[0][0],possibleTags:c[1][0],possibleProjectsRev:c[0][1],possibleTagsRev:c[1][1],availability:o,projectSelects:u,tagSelects:l,projectDB:m});case 23:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateName",value:function(e){var t=this;e&&(this.props.gruntman.registerScheduler((function(){t.props.gruntman.do("perspective.update__perspective",{uid:t.props.uid,id:t.props.id,payload:{name:e.target.value}}).then(t.props.menuRefresh)}),"perspective.this.".concat(this.props.id,"-update")),this.setState({perspectiveName:e.target.value}))}},{key:"handleDelete",value:function(){var e=this;this.props.history.push("/upcoming"),this.props.paginate("upcoming"),this.props.gruntman.do("perspective.delete__perspective",{uid:this.props.uid,id:this.props.id}).then((function(){e.props.menuRefresh()}))}},{key:"componentDidMount",value:function(){this.refresh()}},{key:"componentDidUpdate",value:function(e,t,a){e.id!==this.props.id&&(this.setState({taskList:[],perspectiveName:"",perspectiveQuery:"",perspectiveAvail:{},perspectiveTord:{},showEdit:"do"===this.props.options,possibleProjects:{},possibleTags:{},possibleProjectsRev:{},possibleTagsRev:{},availability:[],projectSelects:[],tagSelects:[],projectDB:{}}),this.refresh()),e.id!==this.props.id&&"do"===this.props.options&&this.setState({showEdit:!0})}},{key:"random",value:function(){return(65536*(1+Math.random())|0).toString(16)+"-"+(65536*(1+Math.random())|0).toString(16)}},{key:"render",value:function(){var t=this;return f.a.createElement(d.g,null,f.a.createElement(v.a,{reference:this.repeater,isShown:this.state.showEdit,onDidDismiss:this.hideEdit,uid:this.props.uid,engine:this.props.engine,gruntman:this.props.gruntman,id:this.props.id,perspectiveName:this.state.perspectiveName,query:this.state.perspectiveQuery,avail:this.state.perspectiveAvail,tord:this.state.perspectiveTord,menuRefresh:this.props.menuRefresh,updateName:this.updateName,startHighlighted:"do"===this.props.options}),f.a.createElement("div",{className:"page-invis-drag "+(Object(d.x)("electron")?window.navigator.platform.includes("Mac")?"darwin":"win32"===e.platform?"windows":void 0:"normal")},"\xa0"),f.a.createElement("div",{className:"page-content "+(Object(d.x)("electron")?window.navigator.platform.includes("Mac")?"darwin":"win32"===e.platform?"windows":void 0:"normal")},f.a.createElement("div",{className:"header-container"},f.a.createElement("div",{style:{display:"inline-block"}},f.a.createElement("div",null,f.a.createElement(d.e,null,f.a.createElement("i",{className:"fas fa-bars",style:{marginLeft:20,color:"var(--page-header-sandwich)"}})),f.a.createElement("h1",{className:"page-title"},f.a.createElement("i",{style:{paddingRight:10},className:"fas fa-layer-group"}),f.a.createElement("input",{className:"editable-title",onChange:function(e){e.persist(),t.updateName(e)},value:this.state.perspectiveName})),f.a.createElement(h.a,{effect:"solid",offset:{top:3},backgroundColor:"black",className:"tooltips"}),f.a.createElement("div",{className:"greeting-container",style:{marginLeft:11,marginTop:7}},f.a.createElement("a",{onClick:this.showEdit,"data-tip":"LOCALIZE: Edit",className:"perspective-icon",style:{borderColor:"var(--task-icon-ring)",cursor:"pointer"}},f.a.createElement("i",{className:"fas fa-edit",style:{margin:3,color:"var(--task-icon-text)",fontSize:10,transform:"translate(2px, -2px)"}})),f.a.createElement("a",{onClick:this.handleDelete,"data-tip":"LOCALIZE: Delete",className:"perspective-icon",style:{borderColor:"var(--task-icon-ring)",cursor:"pointer",marginLeft:5}},f.a.createElement("i",{className:"fas fa-trash",style:{margin:3,color:"var(--task-icon-text)",fontSize:10,transform:"translate(2px, -2px)"}})))))),f.a.createElement("div",{style:{marginLeft:10,marginRight:10,overflowY:"scroll"}},this.state.taskList.map((function(e){return f.a.createElement(b.a,{tid:e,key:e+"-"+t.updatePrefix,uid:t.props.uid,engine:t.props.engine,gruntman:t.props.gruntman,availability:t.state.availability[e],datapack:[t.state.tagSelects,t.state.projectSelects,t.state.possibleProjects,t.state.possibleProjectsRev,t.state.possibleTags,t.state.possibleTagsRev]})})),f.a.createElement("div",{className:"bottom-helper"},"\xa0"))))}}]),r}(m.Component);t.a=Object(g.g)(k)}).call(this,a(54))},246:function(e,t,a){"use strict";var n=a(9),r=a(10),s=a(7),i=a(11),o=a(12),c=a(6),u=a(0),l=a.n(u),p=(a(219),a(232),a(90),a(27),a(39)),d=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),r=t.call(this,e),p(Object(s.a)(r)),r.state={inputEvent:""},r.name=l.a.createRef(),r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.startHighlighted&&this.name.current.focus()}},{key:"handleQueryChange",value:function(e){var t=this;e?this.props.gruntman.registerScheduler((function(){t.props.gruntman.do("perspective.update__perspective",{uid:t.props.uid,id:t.props.id,payload:{query:e.target.value}})}),"perspective.this.".concat(this.props.id,"-update")):console.log(e)}},{key:"handleHelp",value:function(){alert("You really think we have documentation ready? I mean, if they are there, they are at docs.condution.com")}},{key:"render",value:function(){var e=this;return l.a.createElement(c.f,{ref:this.props.reference,isOpen:this.props.isShown,onWillPresent:function(){e.props.gruntman.lockUpdates()},onDidDismiss:function(){e.props.gruntman.unlockUpdates(),e.props.updateName(e.state.inputEvent),e.props.onDidDismiss&&e.props.onDidDismiss()},style:{borderRadius:5},cssClass:"perspective-modal"},l.a.createElement("div",null,l.a.createElement("div",{className:"perspective-header"},l.a.createElement("span",{style:{display:"flex",alignItems:"center",width:"100%",whiteSpace:"nowrap"}},l.a.createElement("b",{className:"bold-prefix"},this.props.gruntman.localizations.perspective_build_callout),l.a.createElement("input",{className:"editable-title pbuilder-pname",ref:this.name,defaultValue:this.props.perspectiveName,onChange:function(t){t.persist(),e.props.updateName(t),e.setState({inputEvent:t})},style:{minWidth:0},placeholder:"@NEEDLOC Tap to set name"}),l.a.createElement("div",{className:"repeat-task-name"},this.state.name)),l.a.createElement("a",{className:"repeat-close",onClick:this.props.onDidDismiss,style:{transform:"translate(-10px, 3px)"}},l.a.createElement("i",{className:"fa fa-times"}))),l.a.createElement("div",{className:"build-input"},l.a.createElement("span",{className:"bold-prefix",style:{minWidth:"70px",marginTop:"4px"}},"Filter by")," ",l.a.createElement("input",{className:"build-input-edit",defaultValue:this.props.query,onChange:function(t){t.persist(),e.handleQueryChange(t)},placeholder:"LOCALIZE: perspective query"})),l.a.createElement("div",{className:"perspective-basic-row"},l.a.createElement("span",{className:"pbasic-container",style:{marginRight:"25px"}},l.a.createElement("span",null,l.a.createElement("i",{className:"repeat-label fas fa-exchange-alt"}),l.a.createElement("span",{className:"perspective-label"},this.props.gruntman.localizations.perspective_include)),l.a.createElement(c.l,{className:"perspective-select",interface:"popover",value:this.props.avail,mode:"ios",onIonChange:function(t){e.props.gruntman.do("perspective.update__perspective",{uid:e.props.uid,id:e.props.id,payload:{avail:t.detail.value}})}},l.a.createElement(c.m,{className:"repeat-select__option",value:"remain"},this.props.gruntman.localizations.psp_rem),l.a.createElement(c.m,{className:"repeat-select__option",value:"avail"},this.props.gruntman.localizations.psp_avil),l.a.createElement(c.m,{className:"repeat-select__option",value:"flagged"},this.props.gruntman.localizations.psp_flg))),l.a.createElement("span",{className:"pbasic-container"},l.a.createElement("span",null,l.a.createElement("i",{className:"repeat-label fas fa-sort-amount-down-alt"}),l.a.createElement("span",{className:"perspective-label"},this.props.gruntman.localizations.perspective_order)),l.a.createElement(c.l,{className:"perspective-select",interface:"popover",value:this.props.tord,mode:"ios",onIonChange:function(t){e.props.gruntman.do("perspective.update__perspective",{uid:e.props.uid,id:e.props.id,payload:{tord:t.detail.value}})}},l.a.createElement(c.m,{className:"repeat-select__option",value:"duas"},this.props.gruntman.localizations.psp_abd),l.a.createElement(c.m,{className:"repeat-select__option",value:"duds"},this.props.gruntman.localizations.psp_dbd),l.a.createElement(c.m,{className:"repeat-select__option",value:"deas"},this.props.gruntman.localizations.psp_abe),l.a.createElement(c.m,{className:"repeat-select__option",value:"deds"},this.props.gruntman.localizations.psp_dbe),l.a.createElement(c.m,{className:"repeat-select__option",value:"alph"},this.props.gruntman.localizations.psp_alpha,">")),l.a.createElement("div",{className:"help-icon",onClick:this.handleHelp},l.a.createElement("i",{className:"far fa-question-circle"}))))))}}]),a}(u.Component);t.a=d},247:function(e,t,a){"use strict";(function(e){var n=a(28),r=a(1),s=a.n(r),i=a(4),o=a(9),c=a(10),u=a(7),l=a(11),p=a(12),d=a(6),m=a(0),f=a.n(m),h=(a(214),a(71),a(66)),g=(a(46),a(21)),b=a(133),v=a(39),y=function(t){Object(l.a)(r,t);var a=Object(p.a)(r);function r(e){var t;return Object(o.a)(this,r),(t=a.call(this,e)).state={name:"",possibleProjects:{},possibleTags:{},possibleProjectsRev:{},possibleTagsRev:{},availability:[],projectSelects:[],tagSelects:[],projectDB:{},parent:"",is_sequential:!1,currentProject:{children:[]},activeTask:""},t.updatePrefix=t.random(),t.props.gruntman.registerRefresher(t.refresh.bind(Object(u.a)(t))),t.activeTask=f.a.createRef(),t.name=f.a.createRef(),v(Object(u.a)(t)),t}return Object(c.a)(r,[{key:"componentWillUnmount",value:function(){this.props.gruntman.halt()}},{key:"componentDidUpdate",value:function(e,t,a){e.id!==this.props.id&&this.refresh(),e.id!==this.props.id&&"do"===this.props.options&&this.name.current.focus()}},{key:"refresh",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,r,o,c,u,l,p,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.engine.db.getItemAvailability(this.props.uid);case 2:return t=e.sent,e.next=5,this.props.engine.db.getProjectsandTags(this.props.uid);case 5:for(c in a=e.sent,r=[],o=[],a[1][0])o.push({value:c,label:a[1][0][c]});return u=this,e.next=12,Object(i.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,u.props.engine.db.getTopLevelProjects(u.props.uid);case 3:a=e.sent[0],e.t0=s.a.keys(a);case 5:if((e.t1=e.t0()).done){e.next=14;break}return n=e.t1.value,e.t2=t,e.next=10,u.props.engine.db.getProjectStructure(u.props.uid,n,!0);case 10:e.t3=e.sent,e.t2.push.call(e.t2,e.t3),e.next=5;break;case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e)})))();case 12:return l=e.sent,p=function e(t,s){if(s||(s=""),r.push({value:t.id,label:s+a[0][0][t.id]}),t.children){var i,o=Object(n.a)(t.children);try{for(o.s();!(i=o.n()).done;){var c=i.value;"project"===c.type&&e(c.content,s+":: ")}}catch(u){o.e(u)}finally{o.f()}}},l.map((function(e){return p(e)})),this.updatePrefix=this.random(),e.next=18,u.props.engine.db.getProjectStructure(this.props.uid,this.props.id,!1);case 18:d=e.sent,this.setState({name:a[0][0][this.props.id],possibleProjects:a[0][0],possibleTags:a[1][0],possibleProjectsRev:a[0][1],possibleTagsRev:a[1][1],availability:t,projectSelects:r,tagSelects:o,projectDB:l,currentProject:d,is_sequential:d.is_sequential,parent:d.parentProj});case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.refresh(),"do"===this.props.options&&this.name.current.focus()}},{key:"random",value:function(){return(65536*(1+Math.random())|0).toString(16)+"-"+(65536*(1+Math.random())|0).toString(16)}},{key:"updateName",value:function(e){var t=this;e?(this.props.gruntman.registerScheduler((function(){t.props.gruntman.do("project.update__name",{uid:t.props.uid,id:t.props.id,name:e.target.value}).then(t.props.menuRefresh)}),"project.this.".concat(this.props.id,"-update")),this.setState({name:e.target.value})):console.log(e)}},{key:"render",value:function(){var t=this;return f.a.createElement(d.g,null,f.a.createElement("div",{className:"page-invis-drag "+(Object(d.x)("electron")?window.navigator.platform.includes("Mac")?"darwin":"win32"===e.platform?"windows":void 0:"normal")},"\xa0"),f.a.createElement("div",{className:"page-content "+(Object(d.x)("electron")?window.navigator.platform.includes("Mac")?"darwin":"win32"===e.platform?"windows":void 0:"normal")},f.a.createElement("div",{className:"header-container"},f.a.createElement("div",{style:{display:"inline-block"}},f.a.createElement("div",null,f.a.createElement(d.e,null,f.a.createElement("i",{className:"fas fa-bars",style:{marginLeft:20,color:"var(--page-header-sandwich)"}})),f.a.createElement("h1",{className:"page-title"},function(){if(""!==t.state.parent)return f.a.createElement("a",{className:"fas fa-chevron-left backbutton",onClick:function(){t.props.paginate("projects",t.state.parent),t.props.history.push("/projects/".concat(t.state.parent))}})}(),f.a.createElement("i",{style:{paddingRight:4},className:"fas fa-tasks"}),f.a.createElement("input",{className:"editable-title",onChange:function(e){e.persist(),t.updateName(e)},value:this.state.name,style:{transform:"transformY(-2px)"},ref:this.name})),f.a.createElement(h.a,{effect:"solid",offset:{top:3},backgroundColor:"black",className:"tooltips"}),f.a.createElement("div",{className:"greeting-container",style:{marginLeft:5,marginTop:7}},f.a.createElement("a",{onClick:function(){t.setState({is_sequential:!t.state.currentProject.is_sequential},(function(){t.props.gruntman.do("project.update__pstate",{uid:t.props.uid,id:t.props.id,is_sequential:t.state.is_sequential})}))},"data-tip":"LOCALIZE: Sequencial/Paralellel",className:"perspective-icon",style:{borderColor:"var(--task-icon-ring)",cursor:"pointer",marginLeft:5}},f.a.createElement("i",{className:this.state.is_sequential?"fas fa-arrows-alt-v":"fas fa-arrows-alt-h",style:{margin:3,color:"var(--task-icon-text)",fontSize:13,transform:this.state.is_sequential?"translate(3.5px, -1px)":"translate(0.25px, -1px)"}})),f.a.createElement("a",{"data-tip":"LOCALIZE: Delete",className:"perspective-icon",onClick:function(){t.props.gruntman.do("project.delete",{uid:t.props.uid,pid:t.props.id,parent:""===t.state.parent||void 0===t.state.parent?void 0:t.state.parent}).then((function(){t.props.menuRefresh(),t.props.history.push(""===t.state.parent||void 0===t.state.parent?"/upcoming/":"/projects/".concat(t.state.parent)),t.props.paginate(""===t.state.parent||void 0===t.state.parent?"upcoming":"projects",""===t.state.parent||void 0===t.state.parent?void 0:t.state.parent)}))},style:{borderColor:"var(--task-icon-ring)",cursor:"pointer",marginLeft:5}},f.a.createElement("i",{className:"fas fa-trash",style:{margin:3,color:"var(--task-icon-text)",fontSize:10,transform:"translate(2px, -2px)"}})))))),f.a.createElement("div",{style:{marginLeft:10,marginRight:10,overflowY:"scroll",overflowX:"hidden"}},f.a.createElement(b.a,{list:this.state.currentProject.children,prefix:this.updatePrefix,uid:this.props.uid,engine:this.props.engine,gruntman:this.props.gruntman,availability:this.state.availability,datapack:[this.state.tagSelects,this.state.projectSelects,this.state.possibleProjects,this.state.possibleProjectsRev,this.state.possibleTags,this.state.possibleTagsRev],possibleProjects:this.state.possibleProjects,history:this.props.history,paginate:this.props.paginate,activeTaskRef:this.activeTask,activeTaskID:this.state.activeTask}),f.a.createElement("div",{style:{marginTop:10}},f.a.createElement("a",{className:"newbutton",onClick:function(){t.props.gruntman.do("task.create",{uid:t.props.uid,pid:t.props.id},!0).then((function(e){var a=t.state.currentProject,n=t.state.availability;n[e.tid]=!0,a.children.push({type:"task",content:e.tid}),t.setState({activeTask:e.tid,currentProject:a,availability:n},(function(){return t.activeTask.current._explode()}))}))}},f.a.createElement("div",null,f.a.createElement("i",{className:"fas fa-plus-circle subproject-icon"}),f.a.createElement("div",{style:{display:"inline-block",fontWeight:500}},this.props.localizations.nb_at))),f.a.createElement("a",{className:"newbutton",onClick:Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.gruntman.do("project.create",{uid:this.props.uid,parent:this.props.id});case 2:t=e.sent.pid,this.props.history.push("/projects/".concat(t,"/do"));case 4:case"end":return e.stop()}}),e,this)}))).bind(this)},f.a.createElement("div",null,f.a.createElement("i",{className:"fas fa-plus-circle subproject-icon"}),f.a.createElement("div",{style:{display:"inline-block",fontWeight:500}},this.props.localizations.nb_ap))),f.a.createElement("div",{className:"bottom-helper"},"\xa0")))))}}]),r}(m.Component);t.a=Object(g.g)(y)}).call(this,a(54))},248:function(e,t,a){"use strict";var n=a(22),r=a(0),s=a.n(r),i=(a(507),a(27)),o=a(51);t.a=function(e){var t=e.localizations.qa_content,a=Object(r.useState)(!1),c=Object(n.a)(a,2),u=c[0],l=c[1],p=Object(r.useState)(!1),d=Object(n.a)(p,2),m=d[0],f=d[1],h=Object(o.c)({to:m?{width:280,color:"var(--quickadd-successtext)",backgroundColor:"var(--quickadd-success)"}:{width:u?280:250,color:"var(--quickadd-text)",backgroundColor:"var(--quickadd)"}});return s.a.createElement(o.a.input,{id:"abtib",readOnly:!1,type:"text",defaultValue:"",style:h,className:"attib",ref:e.reference,onFocus:function(e){e.target.value="",l(!0)},onBlur:function(e){l(!1),f(!1),e.target.value=""},onKeyUp:function(t){if("Enter"===t.key){t.persist(),f(!0);var a=t.target.value,n=i.parse(a),r=void 0,s=void 0;n.length>0&&(n[0].end?(r=n[0].end.date(),s=n[0].start.date(),a=a.replace(n[0].text,"").trim()):(r=n[0].start.date(),a=a.replace(n[0].text,"").trim()));var o={uid:e.uid,pid:"",due:r,defer:s,name:a};e.gruntman.do("task.create",o).then((function(){t.target.blur()}))}},placeholder:t+(128*Math.random()<1?" ^-^":"")})}},252:function(e,t,a){"use strict";var n=a(15),r=a(9),s=a(10),i=a(7),o=a(11),c=a(12),u=a(0),l=a.n(u),p=a(74),d=a.n(p),m=(a(508),a(93),a(21)),f=a(29),h=a(1),g=a.n(h),b=a(22),v=a(4),y=a(6),k=(a(509),a(71),a(39)),w=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(r.a)(this,a),n=t.call(this,e),k(Object(i.a)(n)),n.state={items:[],filteredList:[],query:"",direction:!0,selected:0,prop_store:"",projs:[]},n.searcher=l.a.createRef(),n.currentlySelected=l.a.createRef(),n}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(){this.state.prop_store!=this.props&&this.processItems()}},{key:"componentDidMount",value:function(){this.processItems(),this.setState({prop_store:this.props}),this.getProjs()}},{key:"getProjs",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.engine.db.getProjectsandTags(this.props.uid);case 2:t=e.sent[0][0],a=Object.entries(t).map((function(e){var t=Object(b.a)(e,2),a=t[0];return["."+t[1],"projects",a,"fas fa-tasks"]})),this.setState({projs:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"focusRef",value:function(){this.searcher.current&&this.searcher.current.setFocus(),this.setState({query:"",selected:0}),this.getProjs()}},{key:"filterItems",value:function(e){return this.state.items.filter((function(t){return t[0].toLowerCase().indexOf(e.toLowerCase())>-1}))}},{key:"processItems",value:function(){this.setState({items:[[":upcoming","upcoming","","fas fa-chevron-circle-right"],[":completed","completed","","fas fa-check-circle"],[":calendar","calendar","","fas fa-calendar-alt"]].concat(Object(n.a)(this.props.items[0].map((function(e){return["!"+e.name,"perspectives",e.id,"fas fa-layer-group"]}))),Object(n.a)(this.state.projs)),prop_store:this.props})}},{key:"handleKeydown",value:function(e){var t=e.key;if("Enter"==t){var a=this.filterItems(this.state.query)[this.state.selected];if(a&&this.state.query||0!=this.state.selected){var r,s=a.slice(1);this.props.history.push("/".concat(a[1],"/").concat(a[2])),(r=this.props).paginate.apply(r,Object(n.a)(s)),this.props.updateIdx(s)}else this.state.direction&&this.props.history.length>2?this.props.history.goBack():this.props.history.length>2&&this.props.history.goForward(),this.setState({direction:!this.state.direction});this.props.dismiss()}else{var i=this.state.selected,o=this.filterItems(this.state.query).length-1;"ArrowUp"==t||e.ctrlKey&&"p"==t?(i>0?this.setState({selected:i-1}):this.setState({selected:o}),this.currentlySelected&&this.currentlySelected.current.scrollIntoView({behavior:"smooth",block:"end"})):("ArrowDown"==t||e.ctrlKey&&"n"==t)&&(i==o?this.setState({selected:0}):this.setState({selected:i+1}),this.currentlySelected&&this.currentlySelected.current.scrollIntoView({behavior:"smooth",block:"start"}))}}},{key:"render",value:function(){var e=this;return l.a.createElement(y.f,{isOpen:this.props.qs_show,animated:!1,cssClass:"qs_modal",autoFocus:!0,onDidPresent:this.focusRef,onDidDismiss:this.props.dismiss},l.a.createElement("div",{className:"modal-content-wrapper"},l.a.createElement(y.k,{autoFocus:!0,ref:this.searcher,animated:!0,spellcheck:!0,className:"search-bar",placeholder:"Let's go to..".concat(0==this.state.selected&&""==this.state.query?"   |   Previous":""),onIonChange:function(t){return e.setState({query:t.detail.value,selected:0})},debounce:0,onKeyDown:this.handleKeydown}),l.a.createElement("div",{className:"option-wrapper"},this.filterItems(this.state.query).map((function(t,a){var r;return l.a.createElement("div",(r={className:"option-line"},Object(f.a)(r,"className","option-line ".concat(e.state.selected==a?"option-text-hover":"")),Object(f.a)(r,"ref",e.state.selected==a?e.currentlySelected:null),Object(f.a)(r,"onMouseEnter",(function(){e.setState({selected:a})})),Object(f.a)(r,"onClick",(function(){var a;e.props.history.push("/".concat(t[1],"/").concat(t[2])),(a=e.props).paginate.apply(a,Object(n.a)(t.slice(1))),e.props.dismiss()})),r),l.a.createElement("i",{className:"".concat(t[3]," option-icon"),style:{}}),l.a.createElement("p",{className:"option-text"},t[0]))})))))}}]),a}(u.Component),x=Object(m.g)(w),j=a(39),_=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).bindings=[["alt+1",function(){n.sidebar_switcher(Object(i.a)(n),0)}],["alt+2",function(){n.sidebar_switcher(Object(i.a)(n),1)}],["alt+3",function(){n.sidebar_switcher(Object(i.a)(n),2)}],["alt+4",function(){n.sidebar_switcher(Object(i.a)(n),3)}],["alt+5",function(){n.sidebar_switcher(Object(i.a)(n),4)}],["alt+6",function(){n.sidebar_switcher(Object(i.a)(n),5)}],["alt+7",function(){n.sidebar_switcher(Object(i.a)(n),6)}],["alt+8",function(){n.sidebar_switcher(Object(i.a)(n),7)}],["alt+9",function(){n.sidebar_switcher(Object(i.a)(n),8)}],["alt+0",function(){n.sidebar_switcher(Object(i.a)(n),n.state.sidebar_list.length-1)}],["alt+j",function(){n.sidebar_incrimentor(Object(i.a)(n),1)}],["alt+k",function(){n.sidebar_incrimentor(Object(i.a)(n),-1)}],["mod+enter",function(){n.focusElement(n.props.abtib)}]],n.globalBindings=[["mod+k",function(){n.manageQs(Object(i.a)(n))}]],j(Object(i.a)(n)),n.state={sidebar_list:[],sidebar_index:0,prop_store:"",qs_show:!1},n}return Object(s.a)(a,[{key:"sidebar_switcher",value:function(e,t){var a,r=this.state.sidebar_list[t];e.props.history.push("/".concat(r[0],"/").concat(r[1])),(a=e.props).paginate.apply(a,Object(n.a)(r)),this.setState({sidebar_index:t})}},{key:"sidebar_incrimentor",value:function(e,t){this.state.sidebar_list[this.state.sidebar_index+t]?this.sidebar_switcher(e,this.state.sidebar_index+t):this.state.sidebar_index==this.state.sidebar_list.length-1?this.sidebar_switcher(e,0):this.sidebar_switcher(e,this.state.sidebar_list.length-1)}},{key:"setSidebarIndex",value:function(e){var t,a=this;this.state.sidebar_list.forEach((function(n,r){a.arraysAreIdentical(n,e)&&(t=r)})),this.setState({sidebar_index:t})}},{key:"arraysAreIdentical",value:function(e,t){for(var a=0,n=e.length;a<n;a++)if(e[a]!==t[a])return!1;return!0}},{key:"manageQs",value:function(e){this.setState({qs_show:!this.state.qs_show})}},{key:"focusElement",value:function(e){e&&e.current.focus()}},{key:"componentDidUpdate",value:function(){this.state.prop_store!=this.props&&this.setState({sidebar_list:[["upcoming",""],["completed",""],["calendar",""]].concat(Object(n.a)(this.props.perspectives.map((function(e){return["perspectives",e.id]}))),Object(n.a)(this.props.projects.map((function(e){return["projects",e.id]})))),prop_store:this.props})}},{key:"componentDidMount",value:function(){this.setState({prop_store:this.props}),this.bindings.map((function(e){d.a.bind.apply(d.a,Object(n.a)(e))})),this.globalBindings.map((function(e){d.a.bindGlobal.apply(d.a,Object(n.a)(e))}))}},{key:"componentWillUnmount",value:function(){this.bindings.map((function(e){d.a.unbind.apply(d.a,Object(n.a)(e))}))}},{key:"render",value:function(){var e=this;return l.a.createElement(x,{qs_show:this.state.qs_show,dismiss:function(){return e.setState({qs_show:!1})},items:[this.props.perspectives],paginate:this.props.paginate,updateIdx:this.setSidebarIndex,engine:this.props.engine,uid:this.props.uid,gruntman:this.props.gruntman})}}]),a}(u.Component);t.a=Object(m.g)(_)},253:function(e,t,a){e.exports=a(516)},259:function(e,t,a){var n={"./ion-action-sheet.entry.js":[522,5],"./ion-alert.entry.js":[523,6],"./ion-app_8.entry.js":[524,7],"./ion-avatar_3.entry.js":[525,18],"./ion-back-button.entry.js":[526,19],"./ion-backdrop.entry.js":[527,43],"./ion-button_2.entry.js":[528,20],"./ion-card_5.entry.js":[529,21],"./ion-checkbox.entry.js":[530,22],"./ion-chip.entry.js":[531,23],"./ion-col_3.entry.js":[532,44],"./ion-datetime_3.entry.js":[533,10],"./ion-fab_3.entry.js":[534,24],"./ion-img.entry.js":[535,45],"./ion-infinite-scroll_2.entry.js":[536,46],"./ion-input.entry.js":[537,25],"./ion-item-option_3.entry.js":[538,26],"./ion-item_8.entry.js":[539,27],"./ion-loading.entry.js":[540,28],"./ion-menu_3.entry.js":[541,29],"./ion-modal.entry.js":[542,8],"./ion-nav_2.entry.js":[543,15],"./ion-popover.entry.js":[544,9],"./ion-progress-bar.entry.js":[545,30],"./ion-radio_2.entry.js":[546,31],"./ion-range.entry.js":[547,32],"./ion-refresher_2.entry.js":[548,11],"./ion-reorder_2.entry.js":[549,17],"./ion-ripple-effect.entry.js":[550,47],"./ion-route_4.entry.js":[551,33],"./ion-searchbar.entry.js":[552,34],"./ion-segment_2.entry.js":[553,35],"./ion-select_3.entry.js":[554,36],"./ion-slide_2.entry.js":[555,48],"./ion-spinner.entry.js":[556,13],"./ion-split-pane.entry.js":[557,49],"./ion-tab-bar_2.entry.js":[558,37],"./ion-tab_2.entry.js":[559,16],"./ion-text.entry.js":[560,38],"./ion-textarea.entry.js":[561,39],"./ion-toast.entry.js":[562,40],"./ion-toggle.entry.js":[563,12],"./ion-virtual-scroll.entry.js":[564,50]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a(r)}))}r.keys=function(){return Object.keys(n)},r.id=259,e.exports=r},261:function(e,t,a){var n={"./ion-icon.entry.js":[568,57]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a(r)}))}r.keys=function(){return Object.keys(n)},r.id=261,e.exports=r},275:function(e,t,a){},276:function(e,t,a){},277:function(e,t,a){},278:function(e){e.exports=JSON.parse('{"dbkeys":{"deploy":{"apiKey":"AIzaSyDfQ-VPxf8hqNl3c4Y7sTQQu2teURAhK0c","authDomain":"condution-90c60.firebaseapp.com","databaseURL":"https://condution-90c60.firebaseio.com","projectId":"condution-90c60","storageBucket":"condution-90c60.appspot.com","messagingSenderId":"998610092056","appId":"1:998610092056:web:ece7b6443b36f817ab436d"},"debug":{"apiKey":"AIzaSyDFv40o-MFNy4eVfQzLtPG-ATkBUOHPaSI","authDomain":"condution-7133f.firebaseapp.com","databaseURL":"https://condution-7133f.firebaseio.com","projectId":"condution-7133f","storageBucket":"condution-7133f.appspot.com","messagingSenderId":"544684450810","appId":"1:544684450810:web:9b1caf7ed9285890fa3a43"}}}')},310:function(e,t,a){},360:function(e){e.exports=JSON.parse('{"v":"5.5.8","fr":15,"ip":0,"op":30,"w":100,"h":100,"nm":"03-01","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Shape Layer 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":5,"s":[0]},{"t":29.89453125,"s":[360]}],"ix":10},"p":{"a":0,"k":[50,50,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[77,77,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[100,100],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.2627450980392157,0.30196078431372547,0.37254901960784315,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":12.8,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":12,"s":[0]},{"t":29.89453125,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":5,"s":[1]},{"t":20,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":5,"op":256,"st":6,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Shape Layer 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":3,"s":[0]},{"t":27.89453125,"s":[360]}],"ix":10},"p":{"a":0,"k":[50,50,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[77,77,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[100,100],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.37254901960784315,0.44313725490196076,0.5647058823529412,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":11.8,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":10,"s":[0]},{"t":27.89453125,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":3,"s":[1]},{"t":18,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":3,"op":254,"st":4,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Shape Layer 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":1,"s":[0]},{"t":25.89453125,"s":[360]}],"ix":10},"p":{"a":0,"k":[50,50,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[77,77,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[100,100],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.6470588235294118,0.7176470588235294,0.8392156862745098,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":11.6,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":8,"s":[0]},{"t":25.89453125,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":1,"s":[1]},{"t":16,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":1,"op":252,"st":2,"bm":0}],"markers":[]}')},361:function(e,t,a){},423:function(e,t,a){},424:function(e,t,a){},46:function(e,t,a){"use strict";var n=a(47),r=a(29),s=a(1),i=a.n(s),o=a(4),c=a(9),u=a(10),l=a(7),p=a(11),d=a(12),m=a(6),f=a(0),h=a.n(f),g=a(101),b=a(180),v=a.n(b),y=(a(90),a(27)),k=a(81),w=a(238),x=(a(219),a(39)),j=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),n=t.call(this,e),x(Object(l.a)(n)),n.state={name:"",rule:"none",advanced:!1,on:void 0},n}return Object(u.a)(a,[{key:"loadTask",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.engine.db.getTaskInformation(this.props.uid,this.props.tid);case 2:t=e.sent,this.setState({name:t.name,rule:t.repeat?t.repeat.rule:"none",advanced:!!t.repeat&&void 0!==t.repeat.on,on:t.repeat?t.repeat.on:void 0});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.loadTask()}},{key:"render",value:function(){var e=this;return h.a.createElement(m.f,{ref:this.props.reference,isOpen:this.props.isShown,onDidDismiss:function(){e.props.onDidDismiss&&e.props.onDidDismiss()},style:{borderRadius:5},cssClass:"task-repeat "+function(){switch(e.state.rule){case"none":case"daily":return"task-repeat__default";case"weekly":return e.state.advanced?"task-repeat__advanced-weekly":"task-repeat__default";case"monthly":return e.state.advanced?"task-repeat__advanced-monthly":"task-repeat__default";case"yearly":return"task-repeat__default"}}()},h.a.createElement("div",null,h.a.createElement("div",{className:"repeat-header"},h.a.createElement("span",{style:{display:"flex",alignItems:"center",width:"100%"}},h.a.createElement("b",{className:"bold-prefix"},this.props.gruntman.localizations.repeat_word),h.a.createElement("div",{className:"repeat-task-name"},this.state.name)),h.a.createElement("a",{className:"repeat-close",onClick:this.props.onDidDismiss},h.a.createElement("i",{className:"fa fa-times"}))),h.a.createElement("div",null,h.a.createElement("div",{className:"repeat-basic-row"},h.a.createElement("div",{className:"repeat-rule-selector"},h.a.createElement("span",null,h.a.createElement("i",{className:"repeat-label fa fa-redo"}),h.a.createElement("span",{className:"repeat-label"},this.props.gruntman.localizations.repeat_word)),h.a.createElement(m.l,{className:"repeat-select",interface:"popover",value:this.state.rule,mode:"ios",onIonChange:function(t){e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{repeat:{rule:t.detail.value}}}),e.setState({rule:t.detail.value,advanced:!1,on:void 0})}},h.a.createElement(m.m,{className:"repeat-select__option",value:"none"},"@NEEDLOC None"),h.a.createElement(m.m,{className:"repeat-select__option",value:"daily"},this.props.gruntman.localizations.repeat_every_day),h.a.createElement(m.m,{className:"repeat-select__option",value:"weekly"},this.props.gruntman.localizations.repeat_every_week),h.a.createElement(m.m,{className:"repeat-select__option",value:"monthly"},this.props.gruntman.localizations.repeat_every_month),h.a.createElement(m.m,{className:"repeat-select__option",value:"yearly"},this.props.gruntman.localizations.repeat_every_year))),h.a.createElement("a",{style:{color:"var(--decorative-light-alt)",float:"right",cursor:"pointer",display:["weekly","monthly"].includes(this.state.rule)?"inline":"none"},className:"fas "+(this.state.advanced?"fa-caret-down":"fa-caret-up"),onClick:function(){e.state.advanced?(e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{repeat:{rule:e.state.rule}}}),e.setState({rule:e.state.rule,advanced:!1,on:void 0})):(e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{repeat:{rule:e.state.rule,on:[]}}}),e.setState({rule:e.state.rule,advanced:!0,on:[]}))}}))),h.a.createElement("div",{style:{margin:"10px 20px",color:"var(--content-normal-alt)"}},function(){if(e.state.advanced)switch(e.state.rule){case"weekly":return h.a.createElement("div",{className:"repeat-weekgrid"},[["M",e.props.gruntman.localizations.repeat_datework_weekname_m],["T",e.props.gruntman.localizations.repeat_datework_weekname_tu],["W",e.props.gruntman.localizations.repeat_datework_weekname_w],["Th",e.props.gruntman.localizations.repeat_datework_weekname_th],["F",e.props.gruntman.localizations.repeat_datework_weekname_f],["S",e.props.gruntman.localizations.repeat_datework_weekname_sa],["Su",e.props.gruntman.localizations.repeat_datework_weekname_su]].map((function(t){return h.a.createElement("a",{key:t,className:"repeat-weekgrid-number "+(e.state.on&&e.state.on.includes(t[0])?"repeat-weekgrid-number-selected":""),onClick:function(){if(e.state.on.includes(t[0])){var a=e.state.on.filter((function(e){return e!==t[0]}));e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{repeat:{rule:e.state.rule,on:a}}}),e.setState({on:a})}else{var n=e.state.on;n.push(t[0]);var r=n;e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{repeat:{rule:e.state.rule,on:r}}}),e.setState({on:r})}}},t[1])})));case"monthly":return h.a.createElement("div",{className:"repeat-dategrid"},["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","Last"].map((function(t){return h.a.createElement("a",{key:t,className:"repeat-dategrid-number "+(e.state.on&&e.state.on.includes(t.toLowerCase())?"repeat-dategrid-number-selected":""),onClick:function(){if(e.state.on.includes(t.toLowerCase())){var a=e.state.on.filter((function(e){return e!==t.toLowerCase()}));e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{repeat:{rule:e.state.rule,on:a}}}),e.setState({on:a})}else{var n=e.state.on;n.push(t.toLowerCase());var r=n;e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{repeat:{rule:e.state.rule,on:r}}}),e.setState({on:r})}}},t)})))}}())))}}]),a}(f.Component),_=(a(423),a(39),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={tagList:[]},n}return Object(u.a)(a,[{key:"setTagState",value:function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.engine.db.getTags(this.props.uid);case 2:this.state.tagList=e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.setTagState()}},{key:"tagClicked",value:function(){console.log("Tag Clicked!")}},{key:"render",value:function(){var e=this;return h.a.createElement(m.f,{ref:this.props.reference,isOpen:this.props.isShown,onDidPresent:function(){e.setTagState()},onDidDismiss:function(){e.props.onDidDismiss&&e.props.onDidDismiss()},style:{borderRadius:5,border:"1px solid red"},cssClass:"tag-editor"},h.a.createElement("div",{className:"TagEditor-header"},h.a.createElement("span",{style:{display:"inline-flex",alignItems:"center"}},h.a.createElement("b",{className:"bold-prefix"},"Tags")),h.a.createElement("a",{className:"TagEditor-close",onClick:this.props.onDidDismiss},h.a.createElement("i",{className:"fa fa-times"}))),h.a.createElement("div",{className:"tag-pane-container"},h.a.createElement("div",{className:"tag-list"},this.state.tagList.map((function(e){return h.a.createElement("div",{className:"tag-in-list"},h.a.createElement("div",{className:"tag-name"},e.name),h.a.createElement("a",{className:"TagEditor-close"},h.a.createElement("i",{className:"fa fa-times"})))}))),h.a.createElement("div",{className:"tag-settings"})))}}]),a}(f.Component)),E=a(100),O=(a(424),a(66),a(194).parseFromTimeZone),D=a(39),S=g.Keyframes.Spring({hide:{to:{taskHeight:38,taskMargin:"2px 8px",taskBackground:"",taskPadding:3,taskEditOpacity:0,taskEditMaxHeight:0,taskOpacity:1,taskNameDecoration:"",taskPosition:"",taskDisplay:"",taskMaxHeight:40},config:{tension:200,friction:25,mass:1},reset:!1},show:{to:{taskHeight:38,taskMargin:"15px 25px",taskBackground:"var(--task-selected)",taskPadding:10,taskEditOpacity:1,taskDisplay:"",taskOpacity:1,taskEditMaxHeight:300,taskNameDecoration:"",taskPosition:"",taskMaxHeight:500},config:{tension:200,friction:25,mass:1},reset:!1},complete:[{to:{taskMargin:"14px 8px",taskNameDecoration:"line-through",taskOpacity:1,taskPosition:""},config:{tension:200,friction:25,mass:1}},{to:{taskMaxHeight:0,taskHeight:0,taskOpacity:0,taskMargin:"0px 8px",taskPadding:0,taskPosition:"absolute"},config:{tension:800,friction:50,mass:1}}]}),N=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).componentWillUnmount=function(){return document.removeEventListener("mousedown",n.detectOutsideClick,!1)},n.toggleTask=function(){return n.setState((function(e){return{expanded:!e.expanded}}))},D(Object(l.a)(n)),n.state={expanded:!1,deferDate:void 0,dueDate:void 0,name:"",desc:"",isFlagged:!1,isFloating:!1,project:"",tags:[],decoration:"",availability:!0,isComplete:!1,showRepeat:!1,showTagEditor:!1,deferPopoverShown:!1,duePopoverShown:!1,startingCompleted:n.props.startingCompleted,possibleTags:n.props.datapack[0],haveBeenExpanded:void 0!==n.props.startOpen&&!1!==n.props.startOpen,notificationPopoverShown:[!1,null],notificationCalendarShown:!1,hasNotification:!1},n.initialRenderDone=!1,n.me=h.a.createRef(),n.repeater=h.a.createRef(),n.checkbox=h.a.createRef(),n.TagEditorRef=h.a.createRef(),n.actualCheck=h.a.createRef(),n.duePopover=h.a.createRef(),n.deferPopover=h.a.createRef(),n.notificationPopover=h.a.createRef(),n.notificationCalender=h.a.createRef(),n}return Object(u.a)(a,[{key:"showRepeat",value:function(){this.setState({showRepeat:!0})}},{key:"hideRepeat",value:function(){this.setState({showRepeat:!1})}},{key:"showTagEditor",value:function(){this.setState({showTagEditor:!0})}},{key:"showTageEditor",value:function(){this.setState({showTageEditor:!1})}},{key:"showNotificationPopover",value:function(e){this.state.hasNotification?this.setState({notificationPopoverShown:[!0,e.nativeEvent]}):this.setState({notificationCalendarShown:!0})}},{key:"loadTask",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.engine.db.getTaskInformation(this.props.uid,this.props.tid);case 2:return t=e.sent,e.t0=this,e.t1=t.name,e.t2=t.desc,e.t3=t.project,e.t4=t.tags,e.t5=t.isFloating,e.t6=t.isFlagged,e.t7=t.isComplete,e.t8=t.due?t.isFloating?new Date(1e3*t.due.seconds):O(new Date(1e3*t.due.seconds).toISOString(),{timeZone:t.timezone}):void 0,e.t9=t.defer?t.isFloating?new Date(1e3*t.defer.seconds):O(new Date(1e3*t.defer.seconds).toISOString(),{timeZone:t.timezone}):void 0,e.next=15,this.props.gruntman.checkNotification(this.props.tid);case 15:e.t10=e.sent,e.t11={name:e.t1,desc:e.t2,project:e.t3,tags:e.t4,isFloating:e.t5,isFlagged:e.t6,isComplete:e.t7,dueDate:e.t8,deferDate:e.t9,hasNotification:e.t10},e.t0.setState.call(e.t0,e.t11),this.refreshDecorations(),this.initialRenderDone=!0;case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"refreshDecorations",value:function(){this.state.dueDate&&(this.state.dueDate-new Date<0?this.setState({decoration:"od"}):this.state.dueDate-new Date<864e5?this.setState({decoration:"ds"}):this.setState({decoration:""})),this.state.deferDate&&(this.state.deferDate-new Date>0?this.setState({availability:!1}):!0===this.props.availability?this.setState({availability:!0}):this.props.availability||this.setState({availability:!1}))}},{key:"componentDidMount",value:function(){this.loadTask(),document.addEventListener("mousedown",this.detectOutsideClick,!1)}},{key:"closeTask",value:function(){this.setState({expanded:!1})}},{key:"openTask",value:function(){var e=this;this.state.haveBeenExpanded?this.setState({expanded:!0}):this.setState({haveBeenExpanded:!0},(function(){return e.setState({expanded:!0})}))}},{key:"_explode",value:function(){var e=this;this.initialRenderDone=!0,this.setState({haveBeenExpanded:!0},(function(){return e.setState({expanded:!0})}))}},{key:"detectOutsideClick",value:function(e){this.me.current&&this.me.current.contains(e.target)||this.repeater.current&&this.repeater.current.contains(e.target)||this.duePopover.current&&this.duePopover.current.contains(e.target)||this.deferPopover.current&&this.deferPopover.current.contains(e.target)||this.notificationPopover.current&&this.notificationPopover.current.contains(e.target)||this.notificationCalender.current&&this.notificationCalender.current.contains(e.target)||this.TagEditorRef.current&&this.TagEditorRef.current.contains(e.target)||document.getElementById("parking-lot").contains(e.target)||this.props.onModal&&document.getElementById("airplane-hanger").contains(e.target)||this.state.showRepeat||this.state.showTagEditor||this.closeTask()}},{key:"componentDidUpdate",value:function(e,t,a){t.deferDate!==this.state.deferDate&&this.refreshDecorations(),t.dueDate!==this.state.dueDate&&this.refreshDecorations(),t.expanded!==this.state.expanded&&!0===this.state.expanded?(Object(m.w)().includes("mobile")&&(document.getElementById("abtib").style.display="none"),this.props.setDragEnabled&&this.props.setDragEnabled(!1),this.props.gruntman.lockUpdates()):t.expanded!==this.state.expanded&&!1===this.state.expanded&&(Object(m.w)().includes("mobile")&&(document.getElementById("abtib").style.display="block"),this.props.setDragEnabled&&this.props.setDragEnabled(!0),this.props.gruntman.unlockUpdates()),e.startOpen!==this.props.startOpen&&this.props.startOpen&&this.openTask()}},{key:"render",value:function(){var e=this;return h.a.createElement("div",null,h.a.createElement(S,{native:!0,state:this.initialRenderDone?this.state.isComplete?this.state.startingCompleted?this.state.expanded?"show":"hide":"complete":this.state.startingCompleted?"complete":this.state.expanded?"show":"hide":"hide"},(function(t){return h.a.createElement(g.animated.div,{onClick:function(t){e.state.expanded||t.target===e.checkbox.current||t.target===e.actualCheck.current||e.props.freeze||e.state.isComplete&&!e.state.startingCompleted||e.openTask()},className:"task "+(e.state.expanded?"expanded":"collapsed"),ref:e.me,style:{minHeight:t.taskHeight,maxHeight:t.taskMaxHeight,margin:t.taskMargin,background:t.taskBackground,opacity:t.taskOpacity,overflow:"hidden",display:t.taskDisplay,position:g.animated.taskPosition,padding:t.taskPadding}},h.a.createElement(j,{tid:e.props.tid,reference:e.repeater,isShown:e.state.showRepeat,onDidDismiss:e.hideRepeat,uid:e.props.uid,engine:e.props.engine,gruntman:e.props.gruntman}),h.a.createElement(_,{reference:e.TagEditorRef,isShown:e.state.showTagEditor,onDidDismiss:function(){return e.setState({showTagEditor:!1})},uid:e.props.uid,engine:e.props.engine,gruntman:e.props.gruntman}),h.a.createElement("div",{style:{display:"inline-block",transform:"translateY(-3px)"}},h.a.createElement("input",{type:"checkbox",ref:e.actualCheck,id:"task-check-"+e.props.tid,className:"task-check",defaultChecked:e.props.startingCompleted,onChange:function(){e.state.isComplete?(e.props.gruntman.lockUpdates(),e.setState({isComplete:!1}),e.props.gruntman.do("task.update__uncomplete",{uid:e.props.uid,tid:e.props.tid},!0),e.props.gruntman.unlockUpdates(1e3)):e.state.isComplete||(e.props.gruntman.lockUpdates(),e.setState({isComplete:!0}),e.props.gruntman.do("task.update__complete",{uid:e.props.uid,tid:e.props.tid},!0),e.props.gruntman.unlockUpdates(1e3))},style:{opacity:e.state.availability?1:.35}}),h.a.createElement("label",{ref:e.checkbox,className:"task-pseudocheck "+e.state.decoration,id:"task-pseudocheck-"+e.props.tid,htmlFor:"task-check-"+e.props.tid},"\u200c")),h.a.createElement(g.animated.input,{defaultValue:e.state.name,onChange:function(t){t.persist(),e.props.gruntman.registerScheduler((function(){return e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{name:t.target.value}})}),"task-name-".concat(e.props.tid,"-update"))},onFocus:function(t){e.state.expanded||Object(m.w)().includes("mobile")&&t.target.blur()},className:"task-name "+(e.state.expanded?"":"no-select"),readOnly:!e.state.expanded,type:"text",autoComplete:"off",placeholder:e.props.gruntman.localizations.nt,style:{opacity:e.state.availability?1:.35,textDecoration:t.taskNameDecoration}}),function(){if(!0===e.state.haveBeenExpanded)return h.a.createElement(g.animated.div,{className:"task-edit",style:{opacity:t.taskEditOpacity,overflow:"hidden",maxHeight:t.taskEditMaxHeight}},h.a.createElement("textarea",{tabIndex:"0",placeholder:e.props.gruntman.localizations.desc,className:"task-desc",style:{marginBottom:10},defaultValue:e.state.desc,onChange:function(t){t.persist(),e.props.gruntman.registerScheduler((function(){return e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{desc:t.target.value}})}),"task-desc-".concat(e.props.tid,"-update"))}}),h.a.createElement("div",{style:{display:"inline-block",marginBottom:6,transform:"translateY(-5px)"}},h.a.createElement("a",{"data-tip":e.props.gruntman.psp_flg,className:"task-icon",style:{borderColor:e.state.isFlagged?"var(--task-icon-ring-highlighted)":"var(--task-icon-ring)",cursor:"pointer"},onClick:function(){e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{isFlagged:!e.state.isFlagged}}),e.setState({isFlagged:!e.state.isFlagged})}},h.a.createElement("i",{className:"fas fa-flag",style:{margin:3,color:e.state.isFlagged?"var(--task-icon-highlighted)":"var(--task-icon-text)",fontSize:15,transform:"translate(7px, 5px)"}})),h.a.createElement("a",{"data-tip":"LOCALIZE: Floating",className:"task-icon",style:{borderColor:e.state.isFloating?"var(--task-icon-ring-highlighted)":"var(--task-icon-ring)",cursor:"pointer"},onClick:function(){e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{isFloating:!e.state.isFloating}}),e.setState({isFloating:!e.state.isFloating})}},h.a.createElement("i",{className:"fas fa-globe-americas",style:{margin:3,color:e.state.isFloating?"var(--task-icon-highlighted)":"var(--task-icon-text)",fontSize:15,transform:"translate(7px, 5px)"}})),h.a.createElement("a",{onClick:e.showRepeat,className:"task-icon",style:{borderColor:"var(--task-icon-ring)",cursor:"pointer"},"data-tip":"LOCALIZE: Repeat"},h.a.createElement("i",{className:"fas fa-redo",style:{margin:3,color:"var(--task-icon-text)",fontSize:15,transform:"translate(6.5px, 5.5px)"}})),h.a.createElement(E.b,{gruntman:e.props.gruntman,reference:e.notificationCalender,uid:e.props.uid,disableOnclick:!0,engine:e.props.engine,isShown:e.state.notificationCalendarShown,onDidDismiss:function(){return e.setState({notificationCalendarShown:!1})},useTime:!0,initialDate:e.state.dueDate,onDateSelected:function(t){e.props.gruntman.cancelNotification(e.props.tid).then((function(){e.props.gruntman.scheduleNotification(e.props.tid,e.props.uid,e.state.name,e.state.desc,t),e.setState({hasNotification:!0})}))}}),h.a.createElement(m.h,{showBackdrop:!1,isOpen:e.state.notificationPopoverShown[0],cssClass:"notif-popover",mode:"md",onDidDismiss:function(t){return e.setState({notificationPopoverShown:[!1,null]})},event:e.state.notificationPopoverShown[1],ref:e.notificationPopover},h.a.createElement("div",null,h.a.createElement("div",{className:"notification-popover-item",onClick:function(){e.props.gruntman.cancelNotification(e.props.tid),e.setState({hasNotification:!1,notificationPopoverShown:[!1,null]})}},"Cancel Notification"),h.a.createElement("div",{className:"notification-popover-item",onClick:function(){return e.setState({notificationCalendarShown:!0,notificationPopoverShown:[!1,null]})}},"Change Notification"))),function(){if(e.props.gruntman.notifPermissionGranted&&!Object(m.w)().includes("mobileweb")&&!Object(m.w)().includes("desktop"))return h.a.createElement("a",{onClick:e.showNotificationPopover,className:"task-icon",style:{borderColor:"var(--task-icon-ring)",cursor:"pointer"},"data-tip":"LOCALIZE: Repeat"},h.a.createElement("i",{className:"fas fa-bell",style:{margin:3,color:"var(--task-icon-text)",fontSize:15,transform:"translate(7px, 5.5px)"}}))}(),h.a.createElement("a",{onClick:e.showTagEditor,className:"task-icon",style:{borderColor:"var(--task-icon-ring)",marginRight:20,cursor:"pointer"},"data-tip":"LOCALIZE: Freaking TagEditor"},h.a.createElement("i",{className:"fas fa-tags",style:{margin:3,color:"var(--task-icon-text)",fontSize:15,transform:"translate(6.5px, 5.5px)"}}))),h.a.createElement("div",{style:{display:"inline-block",marginBottom:8}},h.a.createElement("div",{style:{display:"inline-block",marginRight:10,marginBottom:5,marginLeft:6}},h.a.createElement("i",{className:"fas fa-play","data-tip":"LOCALIZE: Defer Date",style:{transform:"translateY(-1px)",marginRight:10,color:"var(--task-icon)",fontSize:10}}),h.a.createElement(E.b,{gruntman:e.props.gruntman,reference:e.deferPopover,uid:e.props.uid,engine:e.props.engine,isShown:e.state.deferPopoverShown,onDidDismiss:function(){return e.setState({deferPopoverShown:!1})},useTime:!0,initialDate:e.state.deferDate,onDateSelected:function(t){e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{defer:t,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}}),e.setState({deferDate:t})}}),function(){var t=function(t){var a=t.value,n=t.onClick;return h.a.createElement("input",{tabIndex:"0",className:"task-datebox",readOnly:Object(m.w)().includes("mobile"),defaultValue:a,onChange:function(t){t.persist(),e.props.gruntman.registerScheduler((function(){var a=y.parseDate(t.target.value);a&&e.setState({deferDate:a}),a&&e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{defer:a,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}})}),"task-defer-".concat(e.props.tid,"-update"))},onFocus:function(t){Object(m.w)().includes("mobile")?e.setState({deferPopoverShown:!0}):(n(),t.target.focus())}})},a=function(e){var t=e.value,a=e.onChange;return":0"===t.slice(t.length-2,t.length)&&(t+="0"),h.a.createElement("input",{className:"task-timebox",defaultValue:t,onKeyPress:function(e){var t=y.parseDate(e.target.value);t&&"Enter"===e.key&&a(t.getHours()+":"+t.getMinutes()+":"+t.getSeconds())}})};return h.a.createElement(v.a,{selected:e.state.deferDate,portalId:e.props.onModal?"airplane-hanger":"parking-lot",onChange:function(t){e.setState({deferDate:t}),e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{defer:t,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}})},showTimeInput:!0,dateFormat:"MM/dd/yyyy h:mm aa",customTimeInput:h.a.createElement(a,null),customInput:h.a.createElement(t,null)})}()),h.a.createElement("div",{style:{display:"inline-block",marginBottom:5,marginLeft:6}},h.a.createElement("i",{className:"fas fa-stop","data-tip":"LOCALIZE: Due Date",style:{transform:"translateY(-1px)",marginRight:10,color:"var(--task-icon)",fontSize:10}}),h.a.createElement(E.b,{gruntman:e.props.gruntman,reference:e.duePopover,uid:e.props.uid,engine:e.props.engine,isShown:e.state.duePopoverShown,onDidDismiss:function(){return e.setState({duePopoverShown:!1})},useTime:!0,initialDate:e.state.dueDate,onDateSelected:function(t){e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{due:t,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}}),e.setState({dueDate:t})}}),function(){var t=function(t){var a=t.value,n=t.onClick;return h.a.createElement("input",{tabIndex:"0",className:"task-datebox",readOnly:!!Object(m.w)().includes("mobile"),defaultValue:a,onChange:function(t){t.persist(),e.props.gruntman.registerScheduler((function(){var a=y.parseDate(t.target.value);a&&e.setState({dueDate:a}),a&&e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{due:a,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}})}),"task-due-".concat(e.props.tid,"-update"))},onFocus:function(t){Object(m.w)().includes("mobile")?e.setState({duePopoverShown:!0}):(n(),t.target.focus())}})},a=function(e){var t=e.value,a=e.onChange;return":0"===t.slice(t.length-2,t.length)&&(t+="0"),h.a.createElement("input",{className:"task-timebox",defaultValue:t,onKeyPress:function(e){var t=y.parseDate(e.target.value);t&&"Enter"===e.key&&a(t.getHours()+":"+t.getMinutes()+":"+t.getSeconds())}})};return h.a.createElement(v.a,Object(r.a)({selected:e.state.dueDate,portalId:e.props.onModal?"airplane-hanger":"parking-lot",onChange:function(t){return e.setState({dueDate:t})},showTimeInput:!0,isClearable:!0,dateFormat:"MM/dd/yyyy h:mm aa",customTimeInput:h.a.createElement(a,null),customInput:h.a.createElement(t,null)},"onChange",(function(t){e.setState({dueDate:t}),e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{due:t,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}})})))}())),h.a.createElement("div",null,h.a.createElement("span",{className:"task-project-container"},h.a.createElement("i",{className:"fas fa-list-ul",style:{margin:3,color:"var(--task-icon)",fontSize:13,marginRight:5,transform:"translateY(5px)"}}),h.a.createElement(k.a,{options:e.props.datapack[1],className:"task-project",classNamePrefix:"task-select",isClearable:!0,styles:{menuPortal:function(e){return Object(n.a)(Object(n.a)({},e),{},{zIndex:"99999 !important"})}},menuPortalTarget:document.body,value:e.props.datapack[1].filter((function(t){return t.value===e.state.project})),onChange:function(t){e.props.gruntman.do("task.update__project",{uid:e.props.uid,tid:e.props.tid,oldProject:""===e.state.project?void 0:e.state.project,project:t?t.value:""}),e.setState({project:t?t.value:""})}})),h.a.createElement("span",{className:"task-tag-container"},h.a.createElement("i",{className:"fas fa-tags",style:{margin:3,color:"var(--task-icon)",fontSize:13,transform:"translateY(5px)"}}),h.a.createElement(w.a,{options:e.props.datapack[0],className:"task-tag",classNamePrefix:"task-select",isClearable:!0,isMulti:!0,styles:{menuPortal:function(e){return Object(n.a)(Object(n.a)({},e),{},{zIndex:"99999 !important"})}},menuPortalTarget:document.body,value:e.props.datapack[0].filter((function(t){return e.state.tags.includes(t.value)})),onChange:function(t,a){var n=e,r=t?t.map(function(){var e=Object(o.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.__isNew__){e.next=10;break}return e.next=3,n.props.gruntman.do("tag.create",{uid:n.props.uid,name:t.label});case 3:return a=e.sent.id,(r=n.state.possibleTags).push({label:t.label,value:a}),n.setState({possibleTags:r}),e.abrupt("return",a);case 10:return e.abrupt("return",t.value);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):[];Promise.all(r).then((function(t){e.setState({tags:t}),e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{tags:t}})}))}}))))}())})))}}]),a}(f.Component);t.a=N},506:function(e,t,a){},507:function(e,t,a){},509:function(e,t,a){},510:function(e,t,a){},513:function(e){e.exports=JSON.parse('{"app_name":"Condution","client_name":"Condution Desktop Client","missing_internet":"Missing Internet Connection...","missing_internet_content":"You need the intrawebitubes to truly experience cloud-synced Condution.","missing_internet_action":"Get online to proceed. Or, you could ","missing_internet_action_button":"Use Local Database","setting_up_callout":"Setting up Condution...","setting_up_action":"We are hard at work creating your Condution account.","setting_up_hold":"Hold on tight!","onboarding_howdy":"Howdy!","onboarding_welcome":"Welcome to Condution.","onboarding_quick_things":"Just a few quick things, and we will have you task-wrangling in no time!","onboarding_ready":"Ready to launch? \ud83c\udf89","onboarding_msg_0":"Excellent. We know you are.","onboarding_msg_1_1":"Please take a look at our","terms":"terms","onboarding_msg_1_2":"and","policy":"privacy policy","onboarding_msg_1_3":"and make sure you agree with them.","onboarding_agree":"I agree \ud83d\udc4d","onboarding_msg_2":"Lastly, we want to connect you with sync.","onboarding_sync_yes":"Let\'s do it! \ud83c\udf10","onboarding_sync_no":"Use locally. \ud83d\udcbe","onboarding_msg_3":"Data stored on your machine if used locally. No registration needed if sync is not enabled.","perspective_build_callout":"Let\'s build","perspective_name_placeholder":"cool perspective name","perspective_string_placeholder":"try a filter like [#bontehu]...","perspective_include":"Include","perspective_order":"Order","psp_avil":"Avaliable","psp_rem":"Remaining","psp_flg":"Flagged","psp_abd":"Ascend by Due","psp_dbd":"Descend by Due","psp_abe":"Ascend by Defer","psp_dbe":"Descend by Dere","psp_alpha":"Alphabetical","psp_doc":"Need help?","repeat_word":"Repeat","repeat_every":"Every...","repeat_every_day":"Day","repeat_every_week":"Week","repeat_every_month":"Month","repeat_every_year":"Year","repeat_every_text_day":"every day.","repeat_every_text_week":"every week.","repeat_every_text_month":"every month.","repeat_every_text_year":"every year.","repeat_advanced":"Advanced...","repeat_datework_weekname_m":"M","repeat_datework_weekname_tu":"Tu","repeat_datework_weekname_w":"W","repeat_datework_weekname_th":"Th","repeat_datework_weekname_f":"F","repeat_datework_weekname_sa":"Sa","repeat_datework_weekname_su":"Su","repeat_last":"Last","convert_callout":"Let\'s Sync!","what_should_we":"What should we call you?","email":"Email","password":"Password","sync":"Sync!","upcoming":"Upcoming","calendar":"Calendar","completed":"Completed","perspectives":"Perspectives","projects":"Projects","logout":"Logout","unsorted":"Unsorted","ds":"Due Soon","clbtd":"Today","clbyd":"Yesterday","clbpw":"Past Week","clbpm":"Past Month","clbel":"Earlier/Untracked","fetchmore":"Fetch more...","fetchmoretasks":"Fetch \'em tasks!","muchempty":"Wow... Much empty!","blk_smp":"Some more productivity?","blk_smf":"Some more filters?","nb_at":"add a task","nb_ap":"add a project","blk_adt":"Add a task?","welcome_auth_msg":"Welcome to Condution.","greeting_auth_normal":"Good to see you. Please sign in or tap Use Locally.","need_and_do":"Check and verify your email, then tap Let\'s Do This!","need_verify":"Verify your email, then tap proceed!","need_and_login":"Check and verify your email, then return to login.","recover_password":"Recover Password","login":"Log in","newuser":"Make an account","lds":"Let\'s do this!","verifem":"Verify Email!","lerec":"Let\'s Recover!","ulac":"Use Locally","nt":"New Task","desc":"Description","hide":"Hide","show":"Show","timeline":"timeline","rec_pswd":"Recover Password","lovely_email":"Check your inbox. A lovely email is awaiting you.","proceed":"Proceed!","remembered":"Remembered? Login","noworries":"No worries! Let\'s recover your password.","signupmsg":"Welcome aboard! By signing up, you agree to our","greetings_setA":["Hey!","G\'day!","Howdy!","Yo!"],"greetings_setB":["Hello,","Hey,","Heyo,","Aloha,","Yo!"],"include_avalibale":"Include: Avaliable","include_flagged":"Include: Flagged","include_remaining":"Include: Remaining","order_abd":"Order: ascend by due","order_dbd":"Order: descend by due","order_abe":"Order: ascend by defer","order_dbe":"Order: descend by defer","order_alpha":"Order: alphabetical","loading":"Loading","welcome_aboard":"Welcome Aboard!","b2b":"Back to Basic...","search_projects":"Search Projects...","qa_content":"Add something to the inbox?","onboarding_content":["Hey","\ud83d\ude4c welcome to Condution! \ud83d\ude4c","Yaay!","\u2b05 Click this box to complete a task!","Nice!","Click here \ud83c\udfaf to edit a task.","The Flag \ud83d\udea9 toggle flags a task, the Globe \ud83c\udf0e toggle toggles fixed and floating timezone, the date-boxes \u25b6\ufe0f \u23f9 picks defer and due dates, the project \ud83d\udccb field picks projects, the tag \ud83c\udff7 field picks tags, and, most importantly, yours truly \ud83d\udc40 is the awesome description box!","Condution Yourself","Due, Due-Soon, Defer","Oh no! I\'m overdue! \ud83d\ude13","With Condution, you will never have another one of me again. (At least we hope.)","\ud83e\udd28 I\'m due soon! Better get going on me.","The lovely orange color will change to red when I become due.","\ud83d\udc40 Check out the menu and tap \'Condution Yourself\'","Because, why woulden\'t you?","Nice! \ud83d\ude09 This is a lovely project!","Tap the three vertical dots \u2197","That will make the project sequential!","In a sequential project, I will be grey.","We are blocked in that case.","Only the top action \u261d\ufe0f  in sequential projects is available","That one is not blocked.","Excellent. \ud83d\ude04 Now tap the \'Aftercare\' Perspective in the Menu!","Amazing Physics Going On...","Perspective Tasks","Aftercare","Productivity","Low Energy","Unimportant","After you are done, tap \'Come hang out\' in the menu!","Bontehu","Tap the pencil \u270f\ufe0f icon to see what I\'m filtering! \u2934","Bontehu","Aftercare","([#Aftercare]) ([#Low Energy #Unimportant])","Come hang out!","Get Condution Everywhere! \ud83c\udf0e: condution.shabang.cf","Catch us on Discord! \ud83d\udcac: discord.gg/QgxUCyj","Support Condution! \ud83c\udf97: patreon.comcondution","From all of us at #!/Shabang + Condution Project, enjoy!","Why are you reading this description? Go be productive!"]}')},514:function(e){e.exports=JSON.parse('{"app_name":"Condution","client_name":"Condution Desktop Client","missing_internet":"\u989d\uff0c\u7f51\u7edc\u6302\u4e86\u3002","missing_internet_content":"\u5728\u8131\u673a\u72b6\u6001\u4e0b\u8fde\u4e0d\u4e0a\u4e92\u8054\u7f51\u7248\u7684Condution","missing_internet_action":"\u8bf7\u8054\u7f51\u540e\u7ee7\u7eed\u3002\u6216\u8005","missing_internet_action_button":"\u4f7f\u7528\u8131\u673a\u6570\u636e\u5e93","setting_up_callout":"\u6b63\u5728\u914d\u7f6eCondution...","setting_up_action":"\u6211\u4eec\u6b63\u5728\u52aa\u529b\u7684\u8bbe\u7f6e\u60a8\u7684Condution\u8d26\u6237","setting_up_hold":"\u51c6\u5907\u597d\u4e86\u5417\uff1f","onboarding_howdy":"\u60a8\u597d\uff01","onboarding_welcome":"\u6b22\u8fce\u4f7f\u7528Condution","onboarding_quick_things":"\u60a8\u5373\u5c06\u611f\u53d7\u9879\u76ee\u7ba1\u7406\u5e26\u6765\u7684\u4e0d\u540c\u751f\u6d3b","onboarding_ready":"\u51c6\u5907\u597d\u4e86\u5417\uff1f \ud83c\udf89","onboarding_msg_0":"\u592a\u68d2\u4e86\uff01","onboarding_msg_1_1":"\u8bf7\u9605\u8bfb\u6211\u4eec\u7684","terms":"\u8425\u4e1a\u6761\u6b3e","onboarding_msg_1_2":"\u548c","policy":"\u9690\u79c1\u534f\u8bae","onboarding_msg_1_3":"\u5e76\u786e\u8ba4\u60a8\u540c\u610f\u5176\u5185\u5bb9","onboarding_agree":"\u6211\u540c\u610f \ud83d\udc4d","onboarding_msg_2":"\u6700\u540e\uff0c\u6211\u4eec\u5e0c\u671b\u60a8\u52a0\u5165\u514d\u8d39\u7684\u6570\u636e\u540c\u6b65\u670d\u52a1","onboarding_sync_yes":"\u540c\u6b65\u5427\uff01 \ud83c\udf10","onboarding_sync_no":"\u7b97\u4e86\u3002 \ud83d\udcbe","onboarding_msg_3":"\u5982\u679c\u60a8\u9009\u62e9\u4e0d\u540c\u6b65\uff0c\u6570\u636e\u5c06\u4f1a\u5b58\u50a8\u5728\u60a8\u7684\u8ba1\u7b97\u673a\u4e0a\u3002","perspective_build_callout":"\u8ba9\u6211\u4eec\u7f16\u8f91","perspective_name_placeholder":"\u9177\u81ea\u5b9a\u4e49\u89c6\u56fe","perspective_string_placeholder":"\u8bd5\u4e00\u8bd5[#bontehu]\u8fd9\u4e2a\u6ee4\u955c\u4ee3\u7801","perspective_include":"\u5305\u62ec","perspective_order":"\u987a\u5e8f","psp_avil":"\u53ef\u6267\u884c","psp_rem":"\u5269\u4f59","psp_flg":"\u7ea2\u65d7","psp_abd":"\u4ee5\u622a\u6b62\u65e5\u671f\u5347\u5e8f","psp_dbd":"\u4ee5\u622a\u6b62\u65e5\u671f\u964d\u5e8f","psp_abe":"\u4ee5\u5f00\u59cb\u65e5\u671f\u5347\u5e8f","psp_dbe":"\u4ee5\u5f00\u59cb\u65e5\u671f\u964d\u5e8f","psp_alpha":"\u6309\u5b57\u6bcd\u6392\u5e8f","psp_doc":"\u8fd9\u662f\u4ec0\u4e48\uff1f","repeat_word":"\u91cd\u590d","repeat_every":"\u6bcf...","repeat_every_day":"\u5929","repeat_every_week":"\u5468","repeat_every_month":"\u6708","repeat_every_year":"\u5e74","repeat_every_text_day":"\u6bcf\u5929\u3002","repeat_every_text_week":"\u6bcf\u5468\u3002","repeat_every_text_month":"\u6bcf\u6708\u3002","repeat_every_text_year":"\u6bcf\u5e74\u3002","repeat_advanced":"\u9ad8\u7ea7\u9009\u9879","repeat_datework_weekname_m":"M","repeat_datework_weekname_tu":"Tu","repeat_datework_weekname_w":"W","repeat_datework_weekname_th":"Th","repeat_datework_weekname_f":"F","repeat_datework_weekname_sa":"Sa","repeat_datework_weekname_su":"Su","repeat_last":"\u6700\u540e","convert_callout":"\u8ba9\u6211\u4eec\u540c\u6b65\u5427\uff01","what_should_we":"\u6211\u4eec\u5e94\u8be5\u5982\u4f55\u79f0\u547c\u60a8\uff1f","email":"\u7535\u5b50\u90ae\u4ef6","password":"\u5bc6\u7801","sync":"\u540c\u6b65\uff01","upcoming":"\u672a\u6765\u65f6\u523b","calendar":"\u65e5\u5386","completed":"\u5df2\u5b8c\u6210","perspectives":"\u81ea\u5b9a\u89c6\u56fe","projects":"\u9879\u76ee","logout":"\u767b\u51fa","unsorted":"\u672a\u5206\u7c7b","ds":"\u5373\u5c06\u5230\u671f","clbtd":"\u4eca\u5929","clbyd":"\u6628\u5929","clbpw":"\u4e0a\u5468","clbpm":"\u4e0a\u6708","clbel":"\u66f4\u65e9","fetchmore":"\u52a0\u8f7d\u66f4\u591a...","fetchmoretasks":"\u52aa\u529b\u52a0\u8f7d\u4e2d\uff01","muchempty":"\u5440\uff0c\u597d\u7a7a\u5440\u3002","blk_smp":"\u66f4\u591a\u751f\u4ea7\u529b\uff1f","blk_smf":"\u66f4\u591a\u6ee4\u955c\uff1f","nb_at":"\u6dfb\u52a0\u4efb\u52a1","nb_ap":"\u6dfb\u52a0\u9879\u76ee","blk_adt":"\u6dfb\u52a0\u4e00\u70b9\u4e8b\uff1f","welcome_auth_msg":"\u6b22\u8fce\u4f7f\u7528Condution","greeting_auth_normal":"\u5f88\u9ad8\u5174\u89c1\u5230\u60a8\uff01\u8bf7\u767b\u9646\uff0c\u6216\u70b9\u51fb\\"\u8131\u673a\u4f7f\u7528\\"","need_and_do":"\u8bf7\u70b9\u51fb\u60a8\u7535\u5b50\u90ae\u4ef6\u4e2d\u7684\u9a8c\u8bc1\u94fe\u63a5\uff0c\u5e76\u70b9\u51fb\u201c\u7ee7\u7eed\u201c","need_verify":"\u8bf7\u70b9\u51fb\u60a8\u7535\u5b50\u90ae\u4ef6\u4e2d\u7684\u9a8c\u8bc1\u94fe\u63a5\uff0c\u5e76\u70b9\u51fb\u201c\u7ee7\u7eed\u201c","need_and_login":"\u8bf7\u70b9\u51fb\u60a8\u7535\u5b50\u90ae\u4ef6\u4e2d\u7684\u9a8c\u8bc1\u94fe\u63a5\uff0c\u5e76\u56de\u5230\u767b\u9646\u9875","recover_password":"\u627e\u56de\u5bc6\u7801","login":"\u767b\u9646","newuser":"\u521b\u5efa\u8d26\u6237","lds":"\u5f00\u5e72\uff01","verifem":"\u9a8c\u8bc1\u90ae\u4ef6\uff01","lerec":"\u6062\u590d\u5bc6\u7801\uff01","ulac":"\u8131\u673a\u4f7f\u7528","nt":"\u65b0\u4efb\u52a1","desc":"\u4efb\u52a1\u4ecb\u7ecd","hide":"\u9690\u85cf","show":"\u5c55\u5f00","timeline":"\u65e5\u7a0b","rec_pswd":"\u627e\u56de\u5bc6\u7801","lovely_email":"\u8bf7\u70b9\u51fb\u90ae\u4ef6\u4e2d\u7684\u9a8c\u8bc1\u7801","proceed":"\u7ee7\u7eed\uff01","remembered":"\u8bb0\u5f97\u4e86\uff1f\u767b\u9646\u3002","noworries":"\u4e0d\u7528\u62c5\u5fc3\uff0c\u8ba9\u6211\u4eec\u6062\u590d\u5bc6\u7801","signupmsg":"\u6b22\u8fce\uff01\u4e3a\u4e86\u7ee7\u7eed\uff0c\u8bf7\u9605\u8bfb\u6211\u4eec\u7684","greetings_setA":["\u563f\uff01","\u55e8\uff01","\u54c8\u55bd\uff01","\u54df\uff01"],"greetings_setB":["\u54c8\u55bd,","\u563f\u5440,","\u559d\u54df,","\u563f\u5466\uff0c","\u54df\uff01"],"include_avalibale":"\u5305\u62ec\uff1a\u53ef\u6267\u884c","include_flagged":"\u5305\u62ec\uff1a\u7ea2\u65d7","include_remaining":"\u5305\u62ec\uff1a\u5269\u4f59","order_abd":"\u4ee5\u622a\u6b62\u65e5\u671f\u5347\u5e8f","order_dbd":"\u4ee5\u622a\u6b62\u65e5\u671f\u964d\u5e8f","order_abe":"\u4ee5\u5f00\u59cb\u65e5\u671f\u5347\u5e8f","order_dbe":"\u4ee5\u5f00\u59cb\u65e5\u671f\u964d\u5e8f","order_alpha":"\u4ee5\u5b57\u6bcd\u6392\u5e8f","loading":"\u52a0\u8f7d\u4e2d","welcome_aboard":"\u6b22\u8fce\uff01","b2b":"\u56de\u5230\u57fa\u7840\u9009\u9879","search_projects":"\u641c\u7d22\u9879\u76ee...","qa_content":"\u6dfb\u52a0\u4efb\u52a1\u5230\u672a\u5206\u7c7b","onboarding_content":["\u54c8\u55bd","\ud83d\ude4c \u6b22\u8fce\u4f7f\u7528Condution! \ud83d\ude4c","\u8036!","\u2b05 \u70b9\u51fb\u8fd9\u91cc\u6765\u5b8c\u6210\u4efb\u52a1!","\u563f\u563f","\u70b9\u51fb\u8fd9\u91cc \ud83c\udfaf \u6765\u7f16\u8f91\u4efb\u52a1.","\u7528\u65d7\u5e1c\u6309\u94ae \ud83d\udea9 \u6765\u63d2\u5165\u7ea2\u65d7\u3001 \u7528\u5730\u7403\u6309\u94ae \ud83c\udf0e \u6765\u66f4\u6539\u65f6\u533a\u6d6e\u52a8\u6216\u56fa\u5b9a\u6a21\u5f0f\u3001 \u7528\u65f6\u95f4\u8f93\u5165\u533a\uff08 \u25b6\ufe0f \u23f9 ) \u6765\u8f93\u5165\u4efb\u52a1\u5f00\u59cb\u548c\u7ed3\u675f\u65e5\u671f\u3001 \u7528\u9879\u76ee \ud83d\udccb \u8f93\u5165\u533a\u9009\u62e9\u4efb\u52a1\u3001 \u7528\u6807\u7b7e \ud83c\udff7 \u8f93\u5165\u533a\u6765\u6dfb\u52a0\u3002\u54e6\uff0c\u5bf9\u4e86\uff0c\u6211\ud83d\udc40\u662f\u4e07\u80fd\u7684\u4efb\u52a1\u4ecb\u7ecd\u533a\uff01","Condution\u7528\u8d77\u6765","\u5230\u671f\u3001\u5feb\u5230\u671f\u3001\u672a\u5f00\u59cb","\u54e6\uff01\u6211\u5df2\u7ecf\u5230\u671f\u4e86\uff01 \ud83d\ude13","\u6211\u4eec\u5e0c\u671b\u60a8\u5728\u7528Condution\u4e4b\u540e\u4e0d\u518d\u4f1a\u6709\u8fd9\u6837\u7684\u9879\u76ee\u4e86","\ud83e\udd28 \u6211\u5feb\u5230\u671f\u4e86\uff01\u5feb\u5f00\u59cb\u505a\u6211\u5427\uff01","\u5f53\u6211\u8fc7\u671f\u65f6\uff0c\u9ec4\u8272\u7684\u9009\u6846\u5c06\u53d8\u6210\u7ea2\u8272","\ud83d\udc40 \u770b\u4e00\u770b\u5de6\u8fb9\u7684\u83dc\u5355\uff0c\u7136\u540e\u70b9\u51fbCondution\u7528\u8d77\u6765","\u4e3a\u4ec0\u4e48\u4e0d\u5462\uff1f","\u5f88\u597d\uff01 \ud83d\ude09 \u6211\u5728\u4e00\u4e2a\u9879\u76ee\u91cc!","\u70b9\u51fb\u53f3\u4e0a\u89d2\u7684\u7ad6\u7740\u7684\u5c0f\u70b9\u2197","\u8fd9\u5c06\u4f1a\u5427\u9879\u76ee\u53d8\u6210\u987a\u5e8f\u9879\u76ee","\u5728\u987a\u5e8f\u9879\u76ee\u4e2d\uff0c\u6211\u5c06\u4f1a\u662f\u7070\u8272\u7684\u3002","\u6211\u4eec\u4e0d\u80fd\u88ab\u505a","\u53ea\u7528\u6700\u4e0a\u9762 \u261d\ufe0f  \u7684\u4efb\u52a1\u53ef\u4ee5\u88ab\u5b8c\u6210","\u90a3\u4e2a\u6ca1\u6709\u88ab\u6321","\u5f88\u597d \ud83d\ude04 \u8bf7\u518d\u6b21\u6253\u5f00\u83dc\u5355\u5e76\u70b9\u51fb\'\u6253\u6742\'","\u9ad8\u7ea7\u8ba1\u7b97\u6b63\u5728\u53d1\u751f;)","\u81ea\u5b9a\u89c6\u56fe\u9879\u76ee","\u6253\u6742","\u751f\u4ea7\u529b","\u8f7b\u677e","\u4e0d\u91cd\u8981","\u5f53\u60a8\u51c6\u5907\u597d\u7684\u65f6\u5019\uff0c\u8bf7\u70b9\u51fb\u201d\u6765\u770b\u770b\u201c !","Bontehu","\u70b9\u51fb \u270f\ufe0f  \u56fe\u6807\u6765\u770b\u6211\u5728\u7528\u90a3\u4e2a\u6ee4\u955c \u2934","Bontehu","\u6253\u6742","([#\u6253\u6742]) ([#\u8f7b\u677e #\u4e0d\u91cd\u8981])","\u6765\u770b\u770b","\u5728\u60a8\u6240\u6709\u7684\u8bbe\u5907\u4e0a\u4e0b\u8f7dCondution \ud83c\udf0e: condution.shabang.cf","\u5728Discord\u4e0a\u627e\u6211\u4eec! \ud83d\udcac: discord.gg/QgxUCyj","\u652f\u6301Condution! \ud83c\udf97: patreon.comcondution","#!/Shabang + Condution Project\u56e2\u961f\u5e0c\u671b\u60a8\u4eab\u53d7\u6211\u4eec\u7684\u4ea7\u54c1","\u4f60\u4e3a\u5565\u8fd8\u5728\u8bfb\u9879\u76ee\u4ecb\u7ecd\uff1f\u53bb\u641e\u70b9\u4e8b\u60c5\u5427\uff01"]}')},515:function(e){e.exports=JSON.parse('{"app_name":"Condution","client_name":"Condution Desktop Anwendung","missing_internet":"Fehlende Internetverbindung...","missing_internet_content":"Du ben\xf6tigst eine funktionierende Internetverbindung um Condution mit der Cloud zu synchronisieren.","missing_internet_action":"Du musst online sein um weiterzumachen. Oder du kannst","missing_internet_action_button":"deine Daten lokal speichern lassen.","setting_up_callout":"Bereite Condution f\xfcr deine Nutzung vor...","setting_up_action":"Wir arbeiten hart daran deinen Condution Account zu erstellen.","setting_up_hold":"Gleich gehts los!","onboarding_howdy":"Servus!","onboarding_welcome":"Willkommen bei Condution.","onboarding_quick_things":"Es sind noch ein paar Kleinigkeiten zu erledigen, danach kannst du dich in deine Aufgaben st\xfcrzen!","onboarding_ready":"Bereit zum loslegen? \ud83c\udf89","onboarding_msg_0":"Perfekt. Nat\xfcrlich bist du bereit.","onboarding_msg_1_1":"Bitte lies dir unsere","terms":"Nutzungsbedingungen","onboarding_msg_1_2":"und","policy":"Datenschutzbestimmungen","onboarding_msg_1_3":"durch und best\xe4tige, dass du mit ihnen einverstanden bist.","onboarding_agree":"Ich stimme zu \ud83d\udc4d","onboarding_msg_2":"Bevor es weitergeht w\xfcrden wir dich gerne mit der Cloud vernetzen.","onboarding_sync_yes":"Cloud-synch verwenden! \ud83c\udf10","onboarding_sync_no":"Daten lokal speichern. \ud83d\udcbe","onboarding_msg_3":"Deine Daten werden auf deinem Ger\xe4t gespeichert, wenn du \\"Daten lokal speichern\\" ausw\xe4hlst. Es ist keine Registrierung notwendig wenn du den Cloud-synch deaktivierst.","perspective_build_callout":"Neue Ansicht:","perspective_name_placeholder":"Genialer Name f\xfcr deine Ansicht","perspective_string_placeholder":"Probiere einen Filter wie [#bontehu] aus...","perspective_include":"Enthalte","perspective_order":"Sortiere nach","psp_avil":"Verf\xfcgbar","psp_rem":"\xdcbriggeblieben","psp_flg":"Markiert","psp_abd":"Aufsteigend nach F\xe4lligkeit","psp_dbd":"Absteigend nach F\xe4lligkeit","psp_abe":"Aufsteigend nach Aufschub","psp_dbe":"Absteigend nach Aufschub","psp_alpha":"Alphabetisch","psp_doc":"Hilfe?","repeat_word":"Wiederholen","repeat_every":"Jede(n)...","repeat_every_day":"Tag","repeat_every_week":"Woche","repeat_every_month":"Monat","repeat_every_year":"Jahr","repeat_every_text_day":"Jeden Tag.","repeat_every_text_week":"Jede Woche.","repeat_every_text_month":"Jeden Monat.","repeat_every_text_year":"Jedes Jahr.","repeat_advanced":"Erweitert...","repeat_datework_weekname_m":"Mo","repeat_datework_weekname_tu":"Di","repeat_datework_weekname_w":"Mi","repeat_datework_weekname_th":"Do","repeat_datework_weekname_f":"Fr","repeat_datework_weekname_sa":"Sa","repeat_datework_weekname_su":"So","repeat_last":"Zuletzt","convert_callout":"Daten synchronisieren!","what_should_we":"Wie sollen wir dich nennen?","email":"Email","password":"Passwort","sync":"Synchronisieren!","upcoming":"Anstehend","completed":"Abgeschlossen","perspectives":"Ansichten","projects":"Projekte","logout":"Logout","unsorted":"Unsortiert","ds":"Bald f\xe4llig","clbtd":"Heute","clbyd":"Gestern","clbpw":"Letzte Woche","clbpm":"Letzten Monat","clbel":"Fr\xfcher/Nicht beachtet","fetchmore":"Mehr abrufen...","fetchmoretasks":"Aufgaben abrufen!","muchempty":"Wow... So leer!","blk_smp":"Noch etwas mehr Produktivit\xe4t?","blk_smf":"Weitere Filter?","nb_at":"Aufgabe hinzuf\xfcgen","nb_ap":"Projekt hinzuf\xfcgen","blk_adt":"Aufgabe hinzuf\xfcgen?","welcome_auth_msg":"Willkommen zu Condution.","greeting_auth_normal":"Sch\xf6n dich kennen zu lernen. Bitte melde dich an oder w\xe4hle \\"Daten lokal speichern\\" aus.","need_verify":"Bitte best\xe4tige deine Email, dann geht es weiter!","recover_password":"Passwort wiederherstellen","newuser":"Account erstellen","lds":"Los gehts!","ulac":"Daten lokal speichern","nt":"Neue Aufgabe","desc":"Beschreibung","rec_pswd":"Passwort wiederherstellen","lovely_email":"Bitte \xfcberpr\xfcfe dein Postfach. Eine nette Email sollte dort auf dich warten.","proceed":"Fortfahren!","remembered":"Gemerkt? Login","noworries":"Kein Problem! Lass uns dein Passwort wiederherstellen.","signupmsg":"Willkommen! Mit deiner Anmeldung erkl\xe4rst du dich mit unseren","greetings_setA":["Hey!","Servus!","Sal\xfc!","Yo!"],"greetings_setB":["Hallo,","Hey,","Heyo,","Aloha,","Yo!"],"include_avalibale":"Enthalte: Verf\xfcgbar","include_flagged":"Enthalte: Markiert","include_remaining":"Enthalte: \xdcbriggeblieben","order_abd":"Sortiere nach: Aufsteigend nach F\xe4lligkeit","order_dbd":"Sortiere nach: Absteigend nach F\xe4lligkeit","order_abe":"Sortiere nach: Aufsteigend nach Aufschub","order_dbe":"Sortiere nach: Absteigend nach Aufschub","order_alpha":"Sortiere nach: Alphabetisch","loading":"Laden...","welcome_aboard":"Willkommen!","b2b":"Zur\xfcck zu den Grundlagen...","search_projects":"Suche Projekte...","qa_content":"Etwas zum Posteingang hinzuf\xfcgen?","onboarding_content":["Hey","\ud83d\ude4c Willkommen bei Condution! \ud83d\ude4c","Juhuu!","\u2b05 Klicke auf dieses K\xe4stchen um die Aufgabe abzuschlie\xdfen!","Ausgezeichnet!","Klicke auf mich \ud83c\udfaf um mich zu editieren.","Dr\xfccke auf die Flagge \ud83d\udea9 um die Aufgabe zu markieren, der Globus \ud83c\udf0e schaltet zwischen festgelegter oder gleitender Zeitzone um. Die beiden Boxen \u25b6\ufe0f \u23f9 legen Aufschubsdatum und F\xe4lligkeitsdatum fest, das Projektfeld \ud83d\udccb ist dazu da um das Projekt der Aufgabe festzulegen und das Etikettfeld \ud83c\udff7 ist dazu da, damit du deine eigenen Markierungen festlegen kannst. Zuletzt das wichtigste, mit freundlichen Gr\xfc\xdfen \ud83d\udc40, die fantastische Beschreibung.","Condution dich selbst!","F\xe4llig, bald f\xe4llig, Aufgeschoben","Oh nein! Ich bin \xfcberf\xe4llig! \ud83d\ude13 ","Wir hoffen das du mit Condution nie wieder eine \xfcberf\xe4llige Aufgabe wie mich haben musst.","\ud83e\udd28 Ich bin bald f\xe4llig! Du solltest dich bald um mich k\xfcmmern.","Meine orange-ne Farbe wird Rot wenn ich f\xe4llig bin.","\ud83d\udc40 Schau dir das Menu an und tippe auf \\"Condution dich selbst\\"","Warum solltest du auch nicht?","Super! \ud83d\ude09 Dies ist ein tolles Projekt!","Klicke auf die drei vertikalen Punkte \u2197","Das formt das Projekt in ein sequenzielles Projekt um!","In einem sequenziellen Projekt bin ich ausgegraut.","In diesem Fall sind wir blockiert.","Nur die oberste Aktion \u261d\ufe0f ist in einem sequenziellen Projekt verf\xfcgbar","Die ist nicht blockiert.","Ausgezeichnet. \ud83d\ude04 Nun klicke auf die \\"Aftercare\\" Ansicht im Menu!","Erstaunliche Physik im Gange...","Tasks in Ansichten","Aftercare","Produktivit\xe4t","Niedrige Energie","Unwichtig","Nachdem du fertig bist, klicke auf \\"Lass uns abh\xe4ngen\\" im Menu!","Bontehu","Dr\xfccke auf den Stift \u270f\ufe0f um zu sehen was ich alles filtere! \u2934","Bontehu","Aftercare","([#Aftercare]) ([#Niedrige Energie #Unwichtig])","Lass uns abh\xe4ngen!","Nutze Condution \xfcberall! \ud83c\udf0e: condution.shabang.cf","Besuche uns auf Discord! \ud83d\udcac: discord.gg/QgxUCyj","Unterst\xfctze Condution! \ud83c\udf97: patreon.comcondution","Von uns allen bei #!/Shabang + Condution, Viel Spa\xdf!","Warum liest du diese Beschreibung? Lass uns lieber produktiv sein!"]}')},516:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(45),i=a.n(s),o=a(1),c=a.n(o),u=a(4),l=a(9),p=a(10),d=a(7),m=a(11),f=a(12),h=a(6),g=(a(93),a(265),a(266),a(267),a(268),a(269),a(270),a(271),a(272),a(273),a(274),a(190),a(191),a(192),a(193),a(275),a(276),a(277),a(65)),b=a(41),v=a.n(b),y=a(15),k=a(47),w=a(22),x=a(28),j=a(99),_=j.a.cRef,E={select:{compare:function(e,t,a){switch(t){case"<":return e<a;case">":return e>a;case"<=":return e<=a;case">=":return e>=a;case"==":return e==a;case"!=":return e!=a;case"has":return e.includes(a);case"!has":return!e.includes(a);default:throw new TypeError("Unkown comparator "+t)}},all:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){var a=e.data();a.defer&&(a.defer=a.defer.seconds),a.due&&(a.due=a.due.seconds);var n,r=Object(x.a)(t);try{for(r.s();!(n=r.n()).done;){var s=Object(w.a)(n.value,3),i=s[0],o=s[1],c=s[2];if(!E.select.compare(a[i],o,c))return!1}}catch(u){r.e(u)}finally{r.f()}return!0}},any:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){var a=e.data();a.defer&&(a.defer=a.defer.seconds),a.due&&(a.due=a.due.seconds);var n,r=Object(x.a)(t);try{for(r.s();!(n=r.n()).done;){var s=Object(w.a)(n.value,3),i=s[0],o=s[1],c=s[2];if(E.select.compare(a[i],o,c))return!0}}catch(u){r.e(u)}finally{r.f()}return!1}},atLeast:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return function(t){var n=t.data();n.defer&&(n.defer=n.defer.seconds),n.due&&(n.due=n.due.seconds);var r,s=0,i=Object(x.a)(a);try{for(i.s();!(r=i.n()).done;){var o=Object(w.a)(r.value,3),c=o[0],u=o[1],l=o[2];if(E.select.compare(n[c],u,l)&&++s>=e)return!0}}catch(p){i.e(p)}finally{i.f()}return!1}},atMost:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return function(t){var n=t.data();n.defer&&(n.defer=n.defer.seconds),n.due&&(n.due=n.due.seconds);var r,s=0,i=Object(x.a)(a);try{for(i.s();!(r=i.n()).done;){var o=Object(w.a)(r.value,3),c=o[0],u=o[1],l=o[2];if(E.select.compare(n[c],u,l)&&++s>e)return!1}}catch(p){i.e(p)}finally{i.f()}return!0}}},debug:{log:function(e){return console.log(e),e},trace:function(e){return console.trace(e),e}}};function O(){return(O=Object(u.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_("users",t,"tasks").get().then((function(e){return e.docs.map((function(e){return e.id}))})).catch((function(e){console.error("Error getting documents",e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t){return S.apply(this,arguments)}function S(){return(S=Object(u.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("users",t,"tasks").get().then((function(e){return e.docs.filter(a)})).catch((function(e){console.error("Error getting documents",e)}));case 2:return n=e.sent,e.abrupt("return",n.map((function(e){return e.id})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return C.apply(this,arguments)}function C(){return(C=Object(u.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("users",t,"tasks").get().then((function(e){return e.docs.filter(E.select.all(["project","==",""],["isComplete","==",!1])).sort((function(e,t){return e.data().order-t.data().order}))})).catch((function(e){console.error("Error getting documents",e)}));case 2:return a=e.sent,e.abrupt("return",a.map((function(e){return e.id})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t,a){return P.apply(this,arguments)}function P(){return(P=Object(u.a)(c.a.mark((function e(t,a,n){var r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=n||new Date).setHours(r.getHours()+24),e.next=4,_("users",t,"tasks").get().then((function(e){return e.docs.filter((function(e){return!!e.data().due&&e.data().due.seconds<=r.getTime()/1e3&&(!e.data().defer||e.data().defer.seconds<(new Date).getTime()/1e3)&&!1===e.data().isComplete&&a[e.id]})).sort((function(e,t){return e.data().due.seconds-t.data().due.seconds}))})).catch(console.error);case 4:return s=e.sent,e.abrupt("return",s.map((function(e){return e.id})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,t,a){return M.apply(this,arguments)}function M(){return(M=Object(u.a)(c.a.mark((function e(t,a,n){var r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=n||new Date).setHours(23,59,59,999),e.next=4,_("users",t,"tasks").get().then((function(e){return e.docs.filter((function(e){return!!e.data().due&&e.data().due.seconds<=r.getTime()/1e3&&(!e.data().defer||e.data().defer.seconds<(new Date).getTime()/1e3)&&!1===e.data().isComplete&&a[e.id]})).sort((function(e,t){return e.data().due.seconds-t.data().due.seconds}))})).catch(console.error);case 4:return s=e.sent,e.abrupt("return",s.map((function(e){return e.id})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=Object(u.a)(c.a.mark((function e(t){var a,n,r,s,i=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:new Date(1900,1,1),n=i.length>2&&void 0!==i[2]?i[2]:new Date(2100,1,1),r=i.length>3&&void 0!==i[3]&&i[3],e.next=5,_("users",t,"tasks").get().then((function(e){return e.docs.filter((function(e){return!!e.data().due&&(!!e.data().defer&&(new Date(1e3*e.data().due.seconds)<=n&&new Date(1e3*e.data().due.seconds)>=a&&new Date>=new Date(1e3*e.data().defer.seconds)))})).filter((function(e){return!e.data().isComplete})).sort((function(e,t){return e.data().due.seconds-t.data().due.seconds}))})).catch(console.error);case 5:return s=e.sent,e.abrupt("return",r?s.map((function(e){return[e.id,e.data()]})):s.map((function(e){return e.id})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(u.a)(c.a.mark((function e(t,a){var n,r,s,i,o,u,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn("DEPERCATED: use instead selectTasksInRange"),e.next=3,N(t);case 3:n=e.sent,r=new Date,s=[],i=[],o=0;case 8:if(!(o<=7)){e.next=19;break}return e.next=11,z(t,a,r);case 11:u=e.sent,l=u,s.push(u.filter((function(e){return!i.includes(e)}))),i=l,r.setDate(r.getDate()+1);case 16:o++,e.next=8;break;case 19:return e.abrupt("return",s.map((function(e){return e.filter((function(e){return n.indexOf(e)<0}))})));case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Object(u.a)(c.a.mark((function e(t,a){var n,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t);case 2:return n=e.sent,e.next=5,T(t,a);case 5:return r=e.sent,s=r.filter((function(e){return n.indexOf(e)<0})),e.abrupt("return",[n,s]);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t){return A.apply(this,arguments)}function A(){return(A=Object(u.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("users",t,"tasks").get().then((function(e){return e.docs.filter((function(e){return e.id===a}))}));case 2:if(!(n=e.sent[0])){e.next=5;break}return e.abrupt("return",n.data());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=Object(u.a)(c.a.mark((function e(t,a,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t,a);case 2:return delete(r=e.sent)[n],e.next=6,_("users",t,"tasks",a).set(r).catch(console.error);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return U.apply(this,arguments)}function U(){return(U=Object(u.a)(c.a.mark((function e(t){var a,n,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},n={},r=[],e.next=5,_("users",t,"projects").get();case 5:return e.sent.docs.forEach((function(e){if(e.exists&&!0===e.data().top_level){n[e.id]=e.data().name,a[e.data().name]=e.id;var t={};t.id=e.id,t.name=e.data().name,t.sortOrder=e.data().order,r.push(t)}})),r.sort((function(e,t){return e.sortOrder-t.sortOrder})),s=[n,a,r],e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return(Y=Object(u.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,_("users",t,"tags").get().then((function(e){return e.docs.forEach((function(e){e.exists&&a.push(e.data())}))})).catch(console.error);case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(u.a)(c.a.mark((function e(t){var a,n,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},n={},e.next=4,_("users",t,"projects").get().then((function(e){return e.docs.forEach((function(e){e.exists&&(n[e.id]=e.data().name,a[e.data().name]=e.id)}))})).catch(console.error);case 4:return r={},s={},e.next=8,_("users",t,"tags").get().then((function(e){return e.docs.forEach((function(e){e.exists&&(s[e.id]=e.data().name,r[e.data().name]=e.id)}))})).catch(console.error);case 8:return e.abrupt("return",[[n,a],[s,r]]);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){return G.apply(this,arguments)}function G(){return(G=Object(u.a)(c.a.mark((function e(t){var a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},n={},r=[],e.next=5,_("users",t,"perspectives").get().then((function(e){return e.docs.forEach((function(e){e.exists&&(n[e.id]={name:e.data().name,query:e.data().query,avail:e.data().avail,tord:e.data().tord},a[e.data().name]={id:e.id,query:e.data().query,avail:e.data().avail,tord:e.data().tord},r.push(Object(k.a)({id:e.id},e.data())))}))})).catch(console.error);case 5:return r.sort((function(e,t){return e.order-t.order})),e.abrupt("return",[n,a,r]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return(V=Object(u.a)(c.a.mark((function e(t,a,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("users",t,"projects",a).update(n).catch(console.error);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e,t,a){return K.apply(this,arguments)}function K(){return(K=Object(u.a)(c.a.mark((function e(t,a,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("users",t,"tasks",a).update(n).catch(console.error);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return(J=Object(u.a)(c.a.mark((function e(t,a,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("users",t,"perspectives",a).update(n).catch(console.error);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e,t){return $.apply(this,arguments)}function $(){return($=Object(u.a)(c.a.mark((function e(t,a){var n,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==a.project){e.next=7;break}return e.next=3,N(t);case 3:n=e.sent.length,a.order=n,e.next=11;break;case 7:return e.next=9,be(t,a.project);case 9:r=e.sent.children.length,a.order=r;case 11:return a.defer||(a.defer=new Date),e.next=14,_("users",t,"tasks").add(a);case 14:return s=e.sent.id,e.abrupt("return",s);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e,t,a){return ee.apply(this,arguments)}function ee(){return(ee=Object(u.a)(c.a.mark((function e(t,a,n){var r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object.size=function(e){var t,a=0;for(t in e)e.hasOwnProperty(t)&&a++;return a},!n){e.next=8;break}return e.next=4,be(t,n);case 4:r=e.sent.children.length,a.parent=n,e.next=14;break;case 8:return e.t0=Object,e.next=11,B(t);case 11:e.t1=e.sent[0],r=e.t0.size.call(e.t0,e.t1),a.parent="";case 14:return a.order=r,a.children={},e.next=18,_("users",t,"projects").add(a);case 18:return s=e.sent.id,e.abrupt("return",s);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e,t){return ae.apply(this,arguments)}function ae(){return(ae=Object(u.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=_("users",t,"perspectives"),e.t1=k.a,e.next=4,H(t);case 4:return e.t2=e.sent[2].length,e.t3={order:e.t2},e.t4=a,e.t5=(0,e.t1)(e.t3,e.t4),e.next=10,e.t0.add.call(e.t0,e.t5);case 10:return e.abrupt("return",e.sent.id);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,t){return re.apply(this,arguments)}function re(){return(re=Object(u.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("users",t,"tags").add({name:a});case 2:return e.abrupt("return",e.sent.id);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(){return(se=Object(u.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("users",t,"tasks",a).update({isComplete:!0});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e,t,a){return oe.apply(this,arguments)}function oe(){return(oe=Object(u.a)(c.a.mark((function e(t,a,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("users",t,"projects").get().then(E.dump).then((function(e){return e.docs.filter((function(e){return e.id===n}))})).then(E.dump).then((function(e){return e[0].data().children}));case 2:return delete(r=e.sent)[a],e.next=6,_("users",t,"projects",n).update({children:r});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e,t,a){return ue.apply(this,arguments)}function ue(){return(ue=Object(u.a)(c.a.mark((function e(t,a,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("users",t,"projects").get().then((function(e){return e.docs.filter((function(e){return e.id===n}))[0].data().children}));case 2:return(r=e.sent)[a]="task",e.next=6,_("users",t,"projects",n).update({children:r});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(){return(le=Object(u.a)(c.a.mark((function e(t,a,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("users",t,"projects").get().then((function(e){return e.docs.filter((function(e){return e.id===n}))[0].data().children}));case 2:return(r=e.sent)[a]="project",e.next=6,_("users",t,"projects",n).update({children:r});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(){return(pe=Object(u.a)(c.a.mark((function e(t,a,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("users",t,"projects").get().then(E.dump).then((function(e){return e.docs.filter((function(e){return e.id===n}))})).then(E.dump).then((function(e){return e[0].data().children}));case 2:return delete(r=e.sent)[a],e.next=6,_("users",t,"projects",n).update({children:r});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(){return(de=Object(u.a)(c.a.mark((function e(t,a){var n,r,s=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(s.length>2&&void 0!==s[2])||s[2],e.next=3,_("users",t,"tasks").get().then((function(e){return e.docs.filter((function(e){return e.id===a}))[0].data()}));case 3:if(""===(r=e.sent).project||!n){e.next=7;break}return e.next=7,ie(t,a,r.project);case 7:return e.next=9,_("users",t,"tasks",a).delete().catch(console.error);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(){return(me=Object(u.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("users",t,"perspectives",a).delete();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e,t){return he.apply(this,arguments)}function he(){return(he=Object(u.a)(c.a.mark((function e(t,a){var n,r,s,i,o,u,l,p,d,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be(t,a);case 2:r=e.sent,s=Object(x.a)(r.children);try{for(s.s();!(i=s.n()).done;)"project"===(o=i.value).type?fe(t,o.content.id):Z(t,o.content,{project:""})}catch(c){s.e(c)}finally{s.f()}return e.next=7,ke(t);case 7:u=e.sent,l=(n=[]).concat.apply(n,Object(y.a)(u)),p=Object(x.a)(l),e.prev=10,p.s();case 12:if((d=p.n()).done){e.next=22;break}return m=d.value,e.next=16,F(t,m);case 16:if(e.t0=e.sent.project,e.t1=a,e.t0!==e.t1){e.next=20;break}Z(t,m,{project:""});case 20:e.next=12;break;case 22:e.next=27;break;case 24:e.prev=24,e.t2=e.catch(10),p.e(e.t2);case 27:return e.prev=27,p.f(),e.finish(27);case 30:return e.next=32,_("users",t,"projects",a).delete().catch(console.error);case 32:case"end":return e.stop()}}),e,null,[[10,24,27,30]])})))).apply(this,arguments)}function ge(){return(ge=Object(u.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("users",t,"tags",a).delete().catch(console.error);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(e,t){return ve.apply(this,arguments)}function ve(){return(ve=Object(u.a)(c.a.mark((function e(t,a){var n,r,s,i,o,u,l=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>2&&void 0!==l[2]&&l[2],r=[],e.next=4,_("users",t,"projects").get().then((function(e){return e.docs}));case 4:if(s=e.sent.filter((function(e){return e.id===a}))[0]){e.next=7;break}return e.abrupt("return",{id:a,children:[],is_sequential:!1,sortOrder:0,parentProj:0});case 7:i=c.a.mark((function e(){var a,s,i,l,p,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object(w.a)(u[o],2),s=a[0],"task"!==(i=a[1])){e.next=8;break}return e.next=4,F(t,s);case 4:(l=e.sent)&&(l.isComplete||r.push({type:"task",content:s,sortOrder:l.order})),e.next=20;break;case 8:if("project"!==i){e.next=20;break}if(!n){e.next=16;break}return e.next=12,be(t,s);case 12:(p=e.sent)&&r.push({type:"project",content:p,is_sequential:p.is_sequential,sortOrder:p.sortOrder}),e.next=20;break;case 16:return e.next=18,_("users",t,"projects").get().then((function(e){return e.docs}));case 18:(d=e.sent.filter((function(e){return e.id===s}))[0])&&r.push({type:"project",content:{id:s},is_sequential:d.data().is_sequential,sortOrder:d.data().order});case 20:case"end":return e.stop()}}),e)})),o=0,u=Object.entries(s.data().children);case 9:if(!(o<u.length)){e.next=14;break}return e.delegateYield(i(),"t0",11);case 11:o++,e.next=9;break;case 14:return r.sort((function(e,t){return e.sortOrder-t.sortOrder})),e.abrupt("return",{id:a,children:r,is_sequential:s.data().is_sequential,sortOrder:s.data().order,parentProj:s.data().parent});case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(){return(ye=Object(u.a)(c.a.mark((function e(t){var a,n,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=function(){return(s=Object(u.a)(c.a.mark((function e(t,a){var n,s,i,o,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.next=3,_("users",t,"projects").get().then((function(e){return e.docs}));case 3:return s=e.sent.filter((function(e){return e.id===a}))[0],e.next=6,be(t,a);case 6:if(i=e.sent,!s.data().is_sequential){e.next=23;break}if(!(o=i.children[0])){e.next=21;break}if("project"!==o.type){e.next=20;break}return e.t0=Object,e.t1=n,e.next=15,r(t,o.content.id);case 15:e.t2=e.sent,e.t0.assign.call(e.t0,e.t1,e.t2),n[o.content.id]=!0,e.next=21;break;case 20:"task"===o.type&&(n[o.content]=!0);case 21:e.next=26;break;case 23:return l=i.children,e.next=26,Promise.all(l.map(function(){var e=Object(u.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("project"!==a.type){e.next=10;break}return e.t0=Object,e.t1=n,e.next=5,r(t,a.content.id);case 5:e.t2=e.sent,e.t0.assign.call(e.t0,e.t1,e.t2),n[a.content.id]=!0,e.next=11;break;case 10:"task"===a.type&&(n[a.content]=!0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 26:return e.abrupt("return",n);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)},r=function(e,t){return s.apply(this,arguments)},new Date,e.next=5,B(t);case 5:return a=e.sent[2],n={},new Date,e.next=11,Promise.all(a.map(function(){var e=Object(u.a)(c.a.mark((function e(a){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n[a.id]=!0,e.next=3,r(t,a.id);case 3:s=e.sent,Object.assign(n,s);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:return e.next=13,N(t);case 13:return e.next=15,e.sent.forEach((function(e){return n[e]=!0}));case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(e){return we.apply(this,arguments)}function we(){return(we=Object(u.a)(c.a.mark((function e(t){var a,n,r,s,i,o,l,p,d,m,f,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t,E.select.all(["isComplete","==",!0]));case 2:return a=e.sent,n={},e.next=6,Promise.all(a.map(function(){var e=Object(u.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t,a);case 2:n[a]=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:return r=a.sort((function(e,t){var a=n[t],r=n[e];return a&&r?(a.completeDate?a.completeDate.seconds:1)-(r.completeDate?r.completeDate.seconds:1):1})),s=new Date,i=new Date,o=new Date,l=new Date,s.setHours(0,0,0,0),i.setDate(i.getDate()-1),i.setHours(0,0,0,0),o.setDate(o.getDate()-7),o.setHours(0,0,0,0),l.setMonth(l.getMonth()-1),l.setHours(0,0,0,0),p=r.filter((function(e){var t=n[e];return!!t.completeDate&&new Date(1e3*t.completeDate.seconds)>=s})),d=r.filter((function(e){var t=n[e];return!!t.completeDate&&(new Date(1e3*t.completeDate.seconds)>=i&&new Date(1e3*t.completeDate.seconds)<s)})),m=r.filter((function(e){var t=n[e];return!!t.completeDate&&(new Date(1e3*t.completeDate.seconds)>=o&&new Date(1e3*t.completeDate.seconds)<i)})),f=r.filter((function(e){var t=n[e];return!!t.completeDate&&(new Date(1e3*t.completeDate.seconds)>=l&&new Date(1e3*t.completeDate.seconds)<o)})),h=r.filter((function(e){var t=n[e];return!t.completeDate||new Date(1e3*t.completeDate.seconds)<l})),e.abrupt("return",[p,d,m,f,h]);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(){return(xe=Object(u.a)(c.a.mark((function e(t,a,n,r){var s,i,o,u,l,p,d,m,f,h,g,b,v,y,k,w,x,j,_,E;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(t,{name:r[0]+" ".concat(n,", ")+r[1],desc:r[2],isFlagged:!1,isFloating:!1,isComplete:!1,project:"",tags:[],timezone:a,repeat:{rule:"none"}});case 2:return e.next=4,Q(t,{name:r[3],desc:r[4],isFlagged:!1,isFloating:!1,isComplete:!1,project:"",tags:[],timezone:a,repeat:{rule:"none"}});case 4:return e.next=6,Q(t,{name:r[5],desc:r[6],isFlagged:!1,isFloating:!1,isComplete:!1,project:"",tags:[],timezone:a,repeat:{rule:"none"}});case 6:return e.next=8,X(t,{name:r[7],top_level:!0,is_sequential:!1});case 8:return s=e.sent,e.next=11,X(t,{name:r[8],top_level:!0,is_sequential:!1});case 11:return i=e.sent,o=new Date,u=new Date,o.setHours(o.getHours()-24),u.setHours(u.getHours()+20),e.next=18,Q(t,{name:r[9],desc:r[10],isFlagged:!1,isFloating:!1,isComplete:!1,project:i,tags:[],timezone:a,due:o,repeat:{rule:"none"}});case 18:return l=e.sent,e.next=21,Q(t,{name:r[11],desc:r[12],isFlagged:!1,isFloating:!1,isComplete:!1,project:i,tags:[],timezone:a,due:u,repeat:{rule:"none"}});case 21:return p=e.sent,e.next=24,ce(t,l,i);case 24:return e.next=26,ce(t,p,i);case 26:return u.setHours(u.getHours()+2),e.next=29,Q(t,{name:r[13],desc:r[14],isFlagged:!1,isFloating:!1,isComplete:!1,project:"",tags:[],timezone:a,repeat:{rule:"none"}});case 29:return e.sent,e.next=32,Q(t,{name:r[15],desc:"",isFlagged:!1,isFloating:!1,isComplete:!1,project:s,tags:[],timezone:a,repeat:{rule:"none"}});case 32:return d=e.sent,e.next=35,ce(t,d,s);case 35:return e.next=37,Q(t,{name:r[16],desc:r[17],isFlagged:!1,isFloating:!1,isComplete:!1,project:s,tags:[],timezone:a,repeat:{rule:"none"}});case 37:return m=e.sent,e.next=40,ce(t,m,s);case 40:return e.next=42,Q(t,{name:r[18],desc:r[19],isFlagged:!1,isFloating:!1,isComplete:!1,project:s,tags:[],timezone:a,repeat:{rule:"none"}});case 42:return f=e.sent,e.next=45,ce(t,f,s);case 45:return e.next=47,Q(t,{name:r[20],desc:r[21],isFlagged:!1,isFloating:!1,isComplete:!1,project:s,tags:[],timezone:a,repeat:{rule:"none"}});case 47:return h=e.sent,e.next=50,ce(t,h,s);case 50:return e.next=52,Q(t,{name:r[22],desc:r[23],isFlagged:!1,isFloating:!1,isComplete:!1,project:s,tags:[],timezone:a,repeat:{rule:"none"}});case 52:return g=e.sent,e.next=55,ce(t,g,s);case 55:return e.next=57,X(t,{name:r[24],top_level:!0,is_sequential:!1});case 57:return b=e.sent,e.next=60,Promise.all([ne(t,r[25]),ne(t,r[26]),ne(t,r[27]),ne(t,r[28])]);case 60:return v=e.sent,e.next=63,Q(t,{name:r[29],desc:r[30],isFlagged:!1,isFloating:!1,isComplete:!1,project:b,tags:[v[2],v[3]],timezone:a,repeat:{rule:"none"}});case 63:return y=e.sent,e.next=66,ce(t,y,b);case 66:return e.next=68,Q(t,{name:r[31],desc:r[32],isFlagged:!1,isFloating:!1,isComplete:!1,project:b,tags:[v[0]],timezone:a,repeat:{rule:"none"}});case 68:return k=e.sent,e.next=71,ce(t,k,b);case 71:return e.next=73,te(t,{name:r[33],query:r[34]});case 73:return e.next=75,X(t,{name:r[35],top_level:!0,is_sequential:!1});case 75:return w=e.sent,e.next=78,Q(t,{name:r[36],desc:"",isFlagged:!1,isFloating:!1,isComplete:!1,project:w,tags:[],timezone:a,repeat:{rule:"none"}});case 78:return x=e.sent,e.next=81,ce(t,x,w);case 81:return e.next=83,Q(t,{name:r[37],desc:"",isFlagged:!1,isFloating:!1,isComplete:!1,project:w,tags:[],timezone:a,repeat:{rule:"none"}});case 83:return j=e.sent,e.next=86,ce(t,j,w);case 86:return e.next=88,Q(t,{name:r[38],desc:"",isFlagged:!1,isFloating:!1,isComplete:!1,project:w,tags:[],timezone:a,repeat:{rule:"none"}});case 88:return _=e.sent,e.next=91,ce(t,_,w);case 91:return e.next=93,Q(t,{name:r[39],desc:r[40],isFlagged:!1,isFloating:!1,isComplete:!1,project:w,tags:[],timezone:a,repeat:{rule:"none"}});case 93:return E=e.sent,e.next=96,ce(t,E,w);case 96:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var je={util:E,getTasks:function(e){return O.apply(this,arguments)},getTasksWithQuery:D,getInboxTasks:N,getDSTasks:T,getInboxandDS:function(e,t){return L.apply(this,arguments)},removeParamFromTask:function(e,t,a){return q.apply(this,arguments)},getTopLevelProjects:B,getProjectsandTags:function(e){return W.apply(this,arguments)},getPerspectives:H,modifyProject:function(e,t,a){return V.apply(this,arguments)},modifyTask:Z,modifyPerspective:function(e,t,a){return J.apply(this,arguments)},newProject:X,newPerspective:te,newTag:ne,newTask:Q,completeTask:function(e,t){return se.apply(this,arguments)},dissociateTask:ie,associateTask:ce,associateProject:function(e,t,a){return le.apply(this,arguments)},dissociateProject:function(e,t,a){return pe.apply(this,arguments)},deleteTask:function(e,t){return de.apply(this,arguments)},deletePerspective:function(e,t){return me.apply(this,arguments)},deleteProject:fe,selectTasksInRange:function(e){return R.apply(this,arguments)},getProjectStructure:be,getItemAvailability:function(e){return ye.apply(this,arguments)},getTaskInformation:F,getDSRow:function(e,t){return I.apply(this,arguments)},deleteTag:function(e,t){return ge.apply(this,arguments)},getCompletedTasks:ke,onBoard:function(e,t,a,n){return xe.apply(this,arguments)},getTags:function(e){return Y.apply(this,arguments)}},_e=function(){var e={taskFilter:/([^\w\d\s\[]{1,2}[\w\s]+)/gi,taskCaptureGroup:/\[(([^\w\d\s]{1,2}[\w\s]+) *)*?\]/gi,logicCaptureGroup:/(.*) *([<=>]) *(.*)/gi,globalCaptureGroup:/\[(([^\w\d\s]{1,2}[\w\s]+) *)*?\](\$\w+)* *[<=>]* * *(\$\w+)*/gi,clear:function(){this.taskFilter.lastIndex=0,this.taskCaptureGroup.lastIndex=0,this.logicCaptureGroup.lastIndex=0,this.globalCaptureGroup.lastIndex=0}},t=function(e){return e.split("$").map((function(e){return e.trim()}))},a=function(){var e;switch(arguments.length<=0?void 0:arguments[0]){case"today":e=new Date}return e},n=function(){var t=Object(u.a)(c.a.mark((function t(a,r,s,i){var o,l,p,d;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=i?[i]:[],p=[],d=[],t.next=5,Promise.all(r.match(e.taskFilter).map(function(){var e=Object(u.a)(c.a.mark((function e(t){var o,u,m,f,h,g,b,v,k,w;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("!"===(t=t.trim())[0]){e.next=38;break}e.t0=t[0],e.next="."===e.t0?5:"#"===e.t0?35:36;break;case 5:return o=s[0][1][t.slice(1,t.length)],l.push(["project","==",o]),e.next=9,je.getProjectStructure(a,o);case 9:u=e.sent,m=Object(x.a)(u.children),e.prev=11,m.s();case 13:if((f=m.n()).done){e.next=26;break}if("project"!==(h=f.value).type){e.next=24;break}return e.t1=[],e.t2=Object(y.a)(p),e.t3=y.a,e.next=21,n(a,r.replace(t.slice(1,t.length),s[0][0][h.content.id]),s,i);case 21:e.t4=e.sent,e.t5=(0,e.t3)(e.t4),p=e.t1.concat.call(e.t1,e.t2,e.t5);case 24:e.next=13;break;case 26:e.next=31;break;case 28:e.prev=28,e.t6=e.catch(11),m.e(e.t6);case 31:return e.prev=31,m.f(),e.finish(31);case 34:return e.abrupt("break",36);case 35:l.push(["tags","has",s[1][1][t.slice(1,t.length)]]);case 36:e.next=72;break;case 38:e.t7=t[1],e.next="."===e.t7?41:"#"===e.t7?71:72;break;case 41:return g=s[0][1][t.slice(2,t.length)],l.push(["project","!=",g]),e.next=45,je.getProjectStructure(a,g);case 45:b=e.sent,v=Object(x.a)(b.children),e.prev=47,v.s();case 49:if((k=v.n()).done){e.next=62;break}if("project"!==(w=k.value).type){e.next=60;break}return e.t8=[],e.t9=Object(y.a)(d),e.t10=y.a,e.next=57,n(a,r.replace(t,"."+s[0][0][w.content.id]),s,i);case 57:e.t11=e.sent,e.t12=(0,e.t10)(e.t11),d=e.t8.concat.call(e.t8,e.t9,e.t12);case 60:e.next=49;break;case 62:e.next=67;break;case 64:e.prev=64,e.t13=e.catch(47),v.e(e.t13);case 67:return e.prev=67,v.f(),e.finish(67);case 70:return e.abrupt("break",72);case 71:l.push(["tags","!has",s[1][1][t.slice(2,t.length)]]);case 72:l.push(["isComplete","==",!1]);case 73:case"end":return e.stop()}}),e,null,[[11,28,31,34],[47,64,67,70]])})));return function(t){return e.apply(this,arguments)}}()));case 5:return t.t0=[],t.t1=Object(y.a)(p),t.t2=y.a,t.next=10,je.getTasksWithQuery(a,(o=je.util.select).all.apply(o,l));case 10:return t.t3=t.sent,t.t4=(0,t.t2)(t.t3),t.abrupt("return",t.t0.concat.call(t.t0,t.t1,t.t4).filter((function(e){return!d.includes(e)})));case 13:case"end":return t.stop()}}),t)})));return function(e,a,n,r){return t.apply(this,arguments)}}(),r=function(){var e=Object(u.a)(c.a.mark((function e(t,a,n,r,s){var i,o,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(a[0].map(function(){var e=Object(u.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.getTaskInformation(t,a);case 2:return e.t0=e.sent,e.t1=a,e.abrupt("return",[e.t0,e.t1]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:i=e.sent,a[1].includes("due")?o=i.map((function(e){return[e[1],e[0].due?new Date(1e3*e[0].due.seconds):void 0]})):a[1].includes("defer")&&(o=i.map((function(e){return[e[1],e[0].defer?new Date(1e3*e[0].defer.seconds):void 0]}))),l=function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},e.t0=n,e.next="="===e.t0?8:">"===e.t0?10:"<"===e.t0?12:">="===e.t0?14:"<="===e.t0?16:18;break;case 8:return o=o.filter((function(e){return l(e[1],r)})),e.abrupt("break",18);case 10:return o=s?o.filter((function(e){return e[1]>r})):o.filter((function(e){return e[1]<r})),e.abrupt("break",18);case 12:return o=s?o.filter((function(e){return e[1]<r})):o.filter((function(e){return e[1]>r})),e.abrupt("break",18);case 14:return o=s?o.filter((function(e){return e[1]>=r})):o.filter((function(e){return e[1]<=r})),e.abrupt("break",18);case 16:return o=s?o.filter((function(e){return e[1]<=r})):o.filter((function(e){return e[1]>=r})),e.abrupt("break",18);case 18:return e.abrupt("return",o.map((function(e){return e[0]})));case 19:case"end":return e.stop()}}),e)})));return function(t,a,n,r,s){return e.apply(this,arguments)}}();return{calc:function(){var s=Object(u.a)(c.a.mark((function s(i,o,l,p){var d,m,f,h,g,b;return c.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,je.getProjectsandTags(i);case 2:return d=s.sent,s.next=5,o.match(e.globalCaptureGroup);case 5:if(m=s.sent){s.next=8;break}return s.abrupt("return",[]);case 8:s.t0=l,s.next="avail"===s.t0?11:"flagged"===s.t0?13:15;break;case 11:return f=["defer","<",(new Date).getTime()/1e3],s.abrupt("break",15);case 13:return f=["isFlagged","==",!0],s.abrupt("break",15);case 15:return s.next=17,Promise.all(m.map(function(){var s=Object(u.a)(c.a.mark((function s(o){var u,l,p,m,h,g,b;return c.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(e.clear(),!(u=e.logicCaptureGroup.exec(o))){s.next=30;break}if(p=Object(w.a)(u,4),m=p[1],h=p[2],g=p[3],b=[t(m),t(g)],m=b[0],g=b[1],!e.taskCaptureGroup.test(m)){s.next=19;break}return s.next=10,n(i,m[0],d,f);case 10:return s.t0=s.sent,s.t1=m[1],m=[s.t0,s.t1],g=a(g[1]),s.next=16,r(i,m,h,g,!0);case 16:l=s.sent,s.next=28;break;case 19:return s.next=21,n(i,g[0],d,f);case 21:return s.t2=s.sent,s.t3=g[1],g=[s.t2,s.t3],m=a(m[1]),s.next=27,r(i,g,h,m,!1);case 27:l=s.sent;case 28:s.next=33;break;case 30:return s.next=32,n(i,o,d,f);case 32:l=s.sent;case 33:return s.abrupt("return",l);case 34:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()));case 17:return h=s.sent,h=Object(y.a)(new Set(h.flat(1))),s.next=21,Promise.all(h.map(function(){var e=Object(u.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=k.a,e.t1={id:t},e.next=4,je.getTaskInformation(i,t);case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){return e}));case 21:g=s.sent,s.t1=p,s.next="duas"===s.t1?25:"duds"===s.t1?27:"deas"===s.t1?29:"deds"===s.t1?31:33;break;case 25:return g.sort((function(e,t){return(e.due?e.due.seconds:1e10)-(t.due?t.due.seconds:1e10)})),s.abrupt("break",33);case 27:return g.sort((function(e,t){return(t.due?t.due.seconds:1)-(e.due?e.due.seconds:1)})),s.abrupt("break",33);case 29:return g.sort((function(e,t){return(e.defer?e.defer.seconds:1e10)-(t.defer?t.defer.seconds:1e10)})),s.abrupt("break",33);case 31:return g.sort((function(e,t){return(t.defer?t.defer.seconds:1)-(e.defer?e.defer.seconds:1)})),s.abrupt("break",33);case 33:return s.next=35,je.getItemAvailability(i);case 35:return b=s.sent,"avail"===l&&(g=g.filter((function(e){return void 0!==b[e.id]}))),s.abrupt("return",g.map((function(e){return e.id})));case 38:case"end":return s.stop()}}),s)})));return function(e,t,a,n){return s.apply(this,arguments)}}()}}(),Ee={start:j.a.__init__,use:j.a.useDb,db:je,perspective:_e,flush:j.a.flush},Oe=a(194).parseFromTimeZone,De=g.Plugins.LocalNotifications,Se=g.Plugins.Permissions,Ne=a(39),Ce=function(){function e(t){Object(l.a)(this,e),this.notifPermissionGranted=!1,Se.query({name:"notifications"}).then(function(){var e=Object(u.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("prompt"!==t.state){e.next=6;break}return e.next=3,De.requestPermission();case 3:this.notifPermissionGranted=e.sent.granted,e.next=7;break;case 6:"granted"===t.state&&(this.notifPermissionGranted=!0);case 7:a=Object(h.w)(),this.notifPermissionGranted&&!a.includes("mobileweb")&&a.includes("desktop"),De.addListener("localNotificationActionPerformed",this.handleNotificationAction);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}().bind(this)),this.hashCode=function(e){return Math.abs(e.split("").reduce((function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e}),0))},this.e=t,this.refresher=function(){},this.callbackRefresherReleased=!0,this.conflictResolution=1e3,this.releaseTimeout=void 0,this.doers={macro:{applyOrder:function(){var e=Object(u.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.items.length!==a.order.length&&console.error("Length of items and order length must be the same!"),e.next=3,Promise.all(a.order.map((function(e,n){var r=a.items[e];return"task"===r.type?t.db.modifyTask(a.uid,r.content,{order:n}):"project"===r.type?t.db.modifyProject(a.uid,r.content,{order:n}):void 0})));case 3:return e.abrupt("return",{uid:a.uid});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},tag:{create:function(){var e=Object(u.a)(c.a.mark((function e(a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.db.newTag(a.uid,a.name);case 2:return n=e.sent,e.abrupt("return",{uid:a.uid,id:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},task:{create:function(){var e=Object(u.a)(c.a.mark((function e(a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={desc:"",isFlagged:!1,isFloating:!1,isComplete:!1,project:a.pid?a.pid:"",tags:[],timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,repeat:{rule:"none"},name:a.name?a.name:""},a.due&&(n.due=a.due),a.defer&&(n.defer=a.defer),e.next=5,t.db.newTask(a.uid,n);case 5:return r=e.sent,a.pid&&""!=a.pid&&t.db.associateTask(a.uid,r,a.pid),e.abrupt("return",{uid:a.uid,tid:r});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(u.a)(c.a.mark((function e(a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.db.getTaskInformation(a.uid,a.tid);case 2:return n=e.sent,e.next=5,t.db.modifyTask(a.uid,a.tid,a.query);case 5:return e.abrupt("return",{uid:a.uid,tid:a.tid,tInfo:n});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update__project:function(){var e=Object(u.a)(c.a.mark((function e(a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.db.getTaskInformation(a.uid,a.tid);case 2:return n=e.sent,e.next=5,t.db.modifyTask(a.uid,a.tid,{project:a.project});case 5:if(!a.oldProject){e.next=8;break}return e.next=8,t.db.dissociateTask(a.uid,a.tid,a.oldProject);case 8:if(""===a.project){e.next=11;break}return e.next=11,t.db.associateTask(a.uid,a.tid,a.project);case 11:return e.abrupt("return",{uid:a.uid,tid:a.tid,tInfo:n});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update__uncomplete:function(){var e=Object(u.a)(c.a.mark((function e(a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.db.getTaskInformation(a.uid,a.tid);case 2:return n=e.sent,e.next=5,t.db.modifyTask(a.uid,a.tid,{isComplete:!1,completeDate:new Date});case 5:return e.abrupt("return",{uid:a.uid,tid:a.tid,taskInfo:n});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update__complete:function(){var e=Object(u.a)(c.a.mark((function e(a){var n,r,s,i,o,u,l,p,d,m,f,h,g,b,v,y,k,w,x,j,_;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.db.modifyTask(a.uid,a.tid,{isComplete:!0,completeDate:new Date});case 2:return e.next=4,t.db.getTaskInformation(a.uid,a.tid);case 4:if(n=e.sent,r=n.due?n.isFloating?new Date(1e3*n.due.seconds):Oe(new Date(1e3*n.due.seconds).toISOString(),{timeZone:n.timezone}):void 0,s=n.defer?n.isFloating?new Date(1e3*n.defer.seconds):Oe(new Date(1e3*n.defer.seconds).toISOString(),{timeZone:n.timezone}):void 0,"none"===(i=n.repeat).rule||!r){e.next=81;break}if("daily"!==(o=i.rule)){e.next=14;break}s?(u=r-s,r.setDate(r.getDate()+1),t.db.modifyTask(a.uid,a.tid,{isComplete:!1,due:r,defer:new Date(r-u)})):(r.setDate(r.getDate()+1),t.db.modifyTask(a.uid,a.tid,{isComplete:!1,due:r})),e.next=81;break;case 14:if("weekly"!==o){e.next=80;break}if(!s){e.next=49;break}if(l=i.on,p="",d=r-s,!l){e.next=44;break}case 20:if(l.includes(p)){e.next=42;break}r.setDate(r.getDate()+1),m=r.getDay(),e.t0=m,e.next=1===e.t0?26:2===e.t0?28:3===e.t0?30:4===e.t0?32:5===e.t0?34:6===e.t0?36:0===e.t0?38:40;break;case 26:return p="M",e.abrupt("break",40);case 28:return p="T",e.abrupt("break",40);case 30:return p="W",e.abrupt("break",40);case 32:return p="Th",e.abrupt("break",40);case 34:return p="F",e.abrupt("break",40);case 36:return p="S",e.abrupt("break",40);case 38:return p="Su",e.abrupt("break",40);case 40:e.next=20;break;case 42:e.next=46;break;case 44:r.setDate(r.getDate()+7),s.setDate(s.getDate()+7);case 46:t.db.modifyTask(a.uid,a.tid,{isComplete:!1,due:r,defer:new Date(r-d)}),e.next=78;break;case 49:if(!(f=i.on)){e.next=76;break}h="";case 52:if(f.includes(h)){e.next=74;break}r.setDate(r.getDate()+1),g=r.getDay(),e.t1=g,e.next=1===e.t1?58:2===e.t1?60:3===e.t1?62:4===e.t1?64:5===e.t1?66:6===e.t1?68:0===e.t1?70:72;break;case 58:return h="M",e.abrupt("break",72);case 60:return h="T",e.abrupt("break",72);case 62:return h="W",e.abrupt("break",72);case 64:return h="Th",e.abrupt("break",72);case 66:return h="F",e.abrupt("break",72);case 68:return h="S",e.abrupt("break",72);case 70:return h="Su",e.abrupt("break",72);case 72:e.next=52;break;case 74:e.next=77;break;case 76:r.setDate(r.getDate()+7);case 77:t.db.modifyTask(a.uid,a.tid,{isComplete:!1,due:r});case 78:e.next=81;break;case 80:if("monthly"===o)if(s){if(b=i.on,v=r.getDate(),y=r.getDate(),k=r-s,b)for(;!b.includes(v.toString())&&(!b.includes("Last")||new Date(r.getFullYear(),r.getMonth(),r.getDate()).getDate()!==new Date(r.getFullYear(),r.getMonth()+1,0).getDate())||y===v;)r.setDate(r.getDate()+1),v=r.getDate();else r.setMonth(r.getMonth()+1);t.db.modifyTask(a.uid,a.tid,{isComplete:!1,due:r,defer:new Date(r-k)})}else{if(w=i.on)for(x=r.getDate(),j=r.getDate();!w.includes(x.toString())&&(!w.includes("Last")||new Date(r.getFullYear(),r.getMonth(),r.getDate()).getDate()!==new Date(r.getFullYear(),r.getMonth()+1,0).getDate())||j===x;)r.setDate(r.getDate()+1),x=r.getDate();else r.setMonth(r.getMonth()+1);t.db.modifyTask(a.uid,a.tid,{isComplete:!1,due:r})}else"yearly"===o&&(s?(_=r-s,r.setFullYear(r.getFullYear()+1),t.db.modifyTask(a.uid,a.tid,{isComplete:!1,due:r,defer:new Date(r-_)})):(r.setFullYear(r.getFullYear()+1),t.db.modifyTask(a.uid,a.tid,{isComplete:!1,due:r})));case 81:return e.abrupt("return",{message:"Todo TODO TODO Todo: undo pack?"});case 82:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},project:{create:function(){var e=Object(u.a)(c.a.mark((function e(a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={name:"",top_level:void 0===a.parent,is_sequential:!1},!a.parent){e.next=7;break}return e.next=4,t.db.newProject(a.uid,n,a.parent);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,t.db.newProject(a.uid,n);case 9:e.t0=e.sent;case 10:return r=e.t0,a.parent&&t.db.associateProject(a.uid,r,a.parent),e.abrupt("return",{uid:a.uid,pid:r});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),delete:function(){var e=Object(u.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.db.deleteProject(a.uid,a.pid);case 2:return a.parent&&t.db.dissociateProject(a.uid,a.pid,a.parent),e.abrupt("return",{uid:a.uid,TODO:"TODO"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update__name:function(){var e=Object(u.a)(c.a.mark((function e(a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.db.getProjectsandTags(a.uid);case 2:return n=e.sent,r=n[0][0][a.id],e.next=6,t.db.modifyProject(a.uid,a.id,{name:a.name});case 6:return e.abrupt("return",{projectName:r,uid:a.uid});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update__pstate:function(){var e=Object(u.a)(c.a.mark((function e(a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.db.getProjectStructure(a.uid,a.id,!1);case 2:return n=e.sent,r=n,e.next=6,t.db.modifyProject(a.uid,a.id,{is_sequential:a.is_sequential});case 6:return e.abrupt("return",{is_sequential:r,uid:a.uid});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),associate:function(){var e=Object(u.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.db.associateTask(a.uid,a.tid,a.pid);case 2:return e.abrupt("return",{uid:a.uid,tid:a.tid});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dissociate:function(){var e=Object(u.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.db.dissociateTask(a.uid,a.tid,a.pid);case 2:return e.abrupt("return",{uid:a.uid,tid:a.tid});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},perspective:{create:function(){var e=Object(u.a)(c.a.mark((function e(a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:"",avail:"remain",tord:"duds",query:""},e.next=3,t.db.newPerspective(a.uid,n);case 3:return r=e.sent,e.abrupt("return",{uid:a.uid,pid:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update__perspective:function(){var e=Object(u.a)(c.a.mark((function e(a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.db.getPerspectives(a.uid);case 2:return n=e.sent,r=n[0][a.id],e.next=6,t.db.modifyPerspective(a.uid,a.id,a.payload);case 6:return e.abrupt("return",{perspectiveObject:r,uid:a.uid});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),delete__perspective:function(){var e=Object(u.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("perspective delete gruntman func"),e.next=3,t.db.deletePerspective(a.uid,a.id);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},this.undoers={task:{update:"task.set"}},this.backlog=[],this.undolog=[],this.taskLog={},this.canUndo={task:{update:!0}},this.schedulers={},this.updateLock=!1,this.updateInterval=void 0,this.secretLocalizedStrings={},Ne(this)}return Object(p.a)(e,[{key:"halt",value:function(){for(var e in this.schedulers)clearTimeout(this.schedulers[e]);this.updateInterval&&clearTimeout(this.updateInterval),this.updateInterval=void 0}},{key:"lockUpdates",value:function(){this.updateLock=!0,this.updateInterval&&clearTimeout(this.updateInterval),this.updateInterval=void 0}},{key:"unlockUpdates",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:580;this.updateLock=!1,this.updateInterval=setTimeout(this.refresher,e)}},{key:"requestRefresh",value:function(){!this.updateLock&&this.callbackRefresherReleased&&this.refresher()}},{key:"scheduleNotification",value:function(){var e=Object(u.a)(c.a.mark((function e(t,a,n,r,s){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De.schedule({notifications:[{title:n,body:r,schedule:{at:s},sound:null,id:this.hashCode(t),attachments:["".concat(t),"".concat(a)],extra:a}]});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r,s){return e.apply(this,arguments)}}()},{key:"handleNotificationAction",value:function(){var e=Object(u.a)(c.a.mark((function e(t){var a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(w.a)(t.notification.attachments,2),n=a[0],r=a[1],e.t0=t.actionId,e.next="complete"===e.t0?4:"snooze"===e.t0?6:9;break;case 4:return this.do("task.update__complete",{uid:r,tid:n},!0),e.abrupt("break",9);case 6:return n=t.notification.attachments,r=t.notification.extra,e.abrupt("break",9);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"cancelNotification",value:function(){var e=Object(u.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De.cancel({notifications:[{id:"".concat(this.hashCode(t))}]});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkNotification",value:function(){var e=Object(u.a)(c.a.mark((function e(t){var a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.hashCode(t),e.next=3,De.getPending();case 3:return n=e.sent,r=n.notifications.map((function(e){return e.id})).filter((function(e){return e==a})),e.abrupt("return",r.length>0);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"registerRefresher",value:function(e){var t=this;this.refresher=e,this.releaseTimeout&&clearTimeout(this.releaseTimeout),this.callbackRefresherReleased=!1,this.releaseTimeout=setTimeout((function(){t.callbackRefresherReleased=!0,t.releaseTimeout=void 0}),this.conflictResolution)}},{key:"registerScheduler",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;this.schedulers[t]&&clearTimeout(this.schedulers[t]),this.schedulers[t]=setTimeout(e,a)}},{key:"do",value:function(){var e=Object(u.a)(c.a.mark((function e(t,a,n,r,s){var i,o,u,l,p=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.releaseTimeout&&clearTimeout(this.releaseTimeout),this.callbackRefresherReleased=!1,this.releaseTimeout=setTimeout((function(){p.callbackRefresherReleased=!0,p.releaseTimeout=void 0}),this.conflictResolution),i=this.random(),o=t.split("."),u=this.doers;o.length>0;)u=u[o.shift()];return r?this.undolog.push(i):this.backlog.push(i),e.next=10,u(a);case 10:return l=e.sent,this.taskLog[i]=[t,l],this.updateLock||n||this.refresher(),s&&this.refresher(),e.next=16,l;case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r,s){return e.apply(this,arguments)}}()},{key:"random",value:function(){return(65536*(1+Math.random())|0).toString(16)+"-"+(65536*(1+Math.random())|0).toString(16)}},{key:"localizations",get:function(){return this.secretLocalizedStrings},set:function(e){this.secretLocalizedStrings=e}}]),e}(),Te=a(37),Pe=(a(201),a(307),a(310),a(39)),ze=(g.Plugins.Storage,function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;Object(l.a)(this,a);var r=(n=t.call(this,e)).props.localizations.greetings_setB;return n.state={authMode:0,showExtra:!1,greeting:r[Math.floor(Math.random()*r.length)]},Pe(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"doLogin",value:function(){var e=this;Te.auth().setPersistence(Te.auth.Auth.Persistence.LOCAL).then((function(){Te.auth().signInWithEmailAndPassword(v()("#email").val(),v()("#password").val()).then((function(){Te.auth().currentUser.emailVerified?e.props.dispatch({service:"firebase",operation:"login"}):e.setState({authMode:3})})).catch((function(e){e.code,e.message;console.log(e),v()(".auth-upf").addClass("wrong")}))}))}},{key:"doCreate",value:function(){var e=this,t=!1;Te.auth().createUserWithEmailAndPassword(v()("#email").val(),v()("#password").val()).catch((function(a){e.setState({showExtra:!0},(function(){return v()("#need-verify").html(a.message)})),t=!0})).then((function(){t||(Te.auth().currentUser.sendEmailVerification(),Te.auth().currentUser.updateProfile({displayName:v()("#name").val()}),e.setState({authMode:4,showExtra:!0}))}))}},{key:"dispatchCreate",value:function(){var e=this;Te.auth().currentUser.reload().then((function(){Te.auth().currentUser.emailVerified?e.props.dispatch({service:"firebase",operation:"create"}):v()("#need-verify").html("Please double-check that you tapped the verification link in your email.")}))}},{key:"doRecover",value:function(){var e=!1,t=this;Te.auth().sendPasswordResetEmail(v()("#email").val()).catch((function(a){t.setState({showExtra:!0}),v()("#need-verify").html(a.message),e=!0})).then((function(){e||t.setState({authMode:5})}))}},{key:"doLocal",value:function(){this.props.dispatch({service:"json",operation:"login"})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"auth-content-wrapper"},r.a.createElement("div",{id:"auth-left-menu"},r.a.createElement("div",{className:"menu-area",style:{height:"100%"}},r.a.createElement("div",{className:"auth-component"}),r.a.createElement("div",{className:"auth-component"}),r.a.createElement("span",{id:"auth-image-credit"},"Image by ",r.a.createElement("span",{style:{fontWeight:500}},"Tobias Keller/Pawe\u0142 Czerwi\u0144ski")))),r.a.createElement("div",{id:"authwall"},r.a.createElement("h1",{id:"greeting-auth"},this.state.greeting),r.a.createElement("span",{id:"welcome-auth-msg"},this.props.localizations.welcome_auth_msg),r.a.createElement("h3",{className:"greeting-auth-subtitle",id:"greeting-auth-normal"},function(){switch(e.state.authMode){case 2:return e.props.localizations.nowirres;default:return e.props.localizations.greeting_auth_normal}}()),r.a.createElement("input",{className:"auth-upf",id:"name",type:"text",autoComplete:"off",defaultValue:"",placeholder:this.props.localizations.what_should_we,style:{display:1===this.state.authMode?"block":"none"}}),r.a.createElement("input",{className:"auth-upf",id:"email",type:"email",autoComplete:"off",defaultValue:"",placeholder:this.props.localizations.email}),r.a.createElement("input",{className:"auth-upf",id:"password",type:"password",autoComplete:"off",defaultValue:"",placeholder:this.props.localizations.password,style:{display:2!==this.state.authMode?"block":"none"},onKeyPress:function(t){if("Enter"===t.key)switch(e.state.authMode){case 0:e.doLogin();break;case 1:e.doCreate();break;case 2:e.doRecover();break;case 4:e.dispatchCreate();break;case 5:e.doLogin()}}}),function(){if(3===e.state.authMode||4===e.state.authMode||5===e.state.authMode||e.state.showExtra)return r.a.createElement("span",{id:"need-verify"},function(){switch(e.state.authMode){case 3:return e.props.localizations.need_and_do;case 4:return e.props.localizations.need_verify;case 5:return e.props.localizations.need_and_login}}())}(),r.a.createElement("span",{id:"recover-password",style:{display:3===this.state.authMode?"none":"block"},onClick:function(){switch(e.state.authMode){case 2:return e.setState({authMode:0});default:return e.setState({authMode:2})}}},function(){switch(e.state.authMode){case 2:return e.props.localizations.remembered;default:return e.props.localizations.rec_pswd}}()),r.a.createElement("div",{id:"auth-actiongroup"},r.a.createElement("div",{id:"newuser",onClick:function(){switch(e.state.authMode){case 1:return e.setState({authMode:0});default:return e.setState({authMode:1})}}},function(){switch(e.state.authMode){case 1:return e.props.localizations.login;default:return e.props.localizations.newuser}}()),r.a.createElement("div",{id:"login",onClick:function(){switch(e.state.authMode){case 0:e.doLogin();break;case 1:e.doCreate();break;case 2:e.doRecover();break;case 4:e.dispatchCreate()}}},r.a.createElement("i",{className:"fas fa-snowboarding",style:{paddingRight:"5px"}}),r.a.createElement("span",{id:"login-text"},function(){switch(e.state.authMode){case 0:case 3:return e.props.localizations.lds;case 1:return e.props.localizations.verifem;case 2:return e.props.localizations.lerec;case 4:case 5:return e.props.localizations.proceed}}())),function(){if(2!==e.state.authMode)return r.a.createElement("div",{className:"convert-src",id:"ulac",onClick:e.doLocal},e.props.localizations.ulac)}())))}}]),a}(n.Component)),Me=a(235),Re=a.n(Me),Ie=(a(71),a(360));console.log(Ie);a(39);var Le={loop:!0,autoplay:!0,animationData:Ie,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}};var Fe=function(e){return r.a.createElement("div",{style:{width:"100%",height:"100%",position:"absolute",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(Re.a,{options:Le,height:50,width:50,isStopped:!1,isPaused:!1}),r.a.createElement("div",{style:{position:"absolute",bottom:15,color:"var(--decorative-light-alt)",fontSize:11}},"\xa92019-2020 Shabang Systems, LLC and the Condution Authors. Software released under GNU-GPLv3."))};a(39);var Ae=function(e){return r.a.createElement("div",{style:{width:"100%",height:"100%",position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",color:"var(--content-normal-accent)"}},r.a.createElement("div",{style:{marginRight:20,maxWidth:500}},r.a.createElement("b",null,"Condution v1.0.0-alpha.0")," ",r.a.createElement("br",null),r.a.createElement("i",null,"ONBOARDING VIEW!! Woo hoo!")," ",r.a.createElement("br",null),r.a.createElement("span",null,"Arn't you excited to get an account")," ",r.a.createElement("br",null),r.a.createElement("span",null,"at a random todo list app?")," ",r.a.createElement("br",null)),r.a.createElement("div",{style:{marginLeft:20,maxWidth:500}},r.a.createElement("br",null),r.a.createElement("pre",{style:{fontSize:10,color:"var(--content-normal-alt)"}},"\n    Copyright (C) 2019-2020. Shabang Systems, LLC\n\n    This program is free software: you can redistribute it and/or modify\n    it under the terms of the GNU General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program.  If not, see https://www.gnu.org/licenses/.\n                    ")))},qe=a(236),Be=a(249),Ue=a.n(Be),Ye=a(39),We=g.Plugins.Storage;Object(h.y)({swipeBackEnabled:!1});var He=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var r;Object(l.a)(this,n),r=t.call(this,e);var s=new Ue.a({en:a(513),zh:a(514),de:a(515)});return r.state={authMode:"loader",uid:"",displayName:"",localizations:s},window.matchMedia("(prefers-color-scheme:dark)").matches?(v()("body").removeClass(),v()("body").addClass("condutiontheme-default-dark")):(v()("body").removeClass(),v()("body").addClass("condutiontheme-default-light")),r.gruntman=new Ce(Ee),r.gruntman.localizations=s,Ye(Object(d.a)(r)),r}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(u.a)(c.a.mark((function e(){var t,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.next=3,Ee.start({firebase:Te},"firebase","json");case 3:We.get({key:"condution_stotype"}).then((function(e){switch(e.value){case"firebase":Te.auth().onAuthStateChanged((function(e){e?(Ee.use("firebase",t.gruntman.requestRefresh),t.setState({authMode:"firebase",uid:e.uid,displayName:e.displayName})):t.authDispatch({operation:"logout"})}));break;case"json":Ee.use("json",t.gruntman.requestRefresh),a.setState({authMode:"json",uid:"hard-storage-user"});break;default:a.setState({authMode:"none",uid:void 0})}}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"authDispatch",value:function(e){var t,a,n=this;switch(e.operation){case"login":switch(Ee.use(e.service,this.gruntman.requestRefresh),We.set({key:"condution_stotype",value:e.service}),e.service){case"firebase":t=Te.auth().currentUser.uid,a=Te.auth().currentUser.displayName;break;default:t="hard-storage-user",a=""}this.setState({authMode:e.service,uid:t,displayName:a});break;case"create":switch(Ee.use(e.service,this.gruntman.requestRefresh),We.set({key:"condution_stotype",value:e.service}),e.service){case"firebase":t=Te.auth().currentUser.uid,a=Te.auth().currentUser.displayName;break;default:t="hard-storage-user",a=""}this.setState({authMode:"onboarding",uid:t,displayName:a}),Ee.db.onBoard(t,Intl.DateTimeFormat().resolvedOptions().timeZone,"en"===this.gruntman.localizations.getLanguage()?"there":"",this.gruntman.localizations.onboarding_content).then((function(r){return n.setState({authMode:e.service,uid:t,displayName:a})}));break;case"logout":We.set({key:"condution_stotype",value:"none"}),Te.auth().signOut(),this.setState({authMode:"none",name:""})}}},{key:"render",value:function(){switch(this.state.authMode){case"loader":return r.a.createElement(Fe,null);case"none":return r.a.createElement(ze,{dispatch:this.authDispatch,localizations:this.state.localizations});case"firebase":case"json":return r.a.createElement(qe.a,{engine:Ee,uid:this.state.uid,dispatch:this.authDispatch,gruntman:this.gruntman,displayName:this.state.displayName,localizations:this.state.localizations});case"onboarding":return r.a.createElement(Ae,null);default:return console.error("CentralDispatchError: Wut Esta ".concat(this.state.authMode)),r.a.createElement(Fe,{isError:!0,error:this.state.authMode})}}}]),n}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(He,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},71:function(e,t,a){},99:function(e,t,a){"use strict";(function(e){var n,r,s,i,o,c,u=a(15),l=a(28),p=a(22),d=a(1),m=a.n(d),f=a(4),h=a(65),g=h.FilesystemDirectory,b=h.FilesystemEncoding,v=h.Plugins,y=(v.Device,v.Filesystem),k=function(){var e=new Map,t=new Map;function a(e){var t=s;console.assert("string"===typeof e[0]),t=e[0].includes("/")?t.collectionGroup(e[0]):t.collection(e[0]);var a,n=Object(l.a)(e.slice(1));try{for(n.s();!(a=n.n()).done;){var r=a.value;if("string"===typeof r)if(t instanceof i.DocumentReference)t=t.collection(r);else{if(!(t instanceof i.Query))throw new Error("Unknown reference",t.toString());t=t.doc(r)}else{if(!Array.isArray(r))throw new Error("Cannot parse",r.toString());if(!(t instanceof i.Query))throw new Error("Cannot query with",r.toString());var o;t=(o=t).where.apply(o,Object(u.a)(r)),console.assert(t instanceof i.Query)}}}catch(c){n.e(c)}finally{n.f()}return t}function c(){return Math.random().toString(36).substring(2)+Math.random().toString(36).substring(2)+Math.random().toString(36).substring(2)}function p(){return(p=Object(f.a)(m.a.mark((function n(r){var s,i;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=JSON.stringify(r),e.has(s)||(i=a(r),e.set(s,i.get()),t.set(s,i.onSnapshot({error:console.trace,next:function(t){e.set(s,t),o()}}))),n.next=4,e.get(s);case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var d=function(){var e=g.Data;return{read:function(){var t=Object(f.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.readFile({path:"condution.json",directory:e,encoding:b.UTF8});case 2:a=t.sent.data,r=JSON.parse(a);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),write:function(){var t=Object(f.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.writeFile({path:"condution.json",directory:e,data:JSON.stringify(r),encoding:b.UTF8});case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}}();function h(){return(h=Object(f.a)(m.a.mark((function e(t){var a,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"sqlite3"===n?console.error("Algobert go bontehu"):"json"===n&&(a=r,t.some((function(e){return void 0===(a=a[e])}))),s=function(e){var t=[],a=function(a){t.push({id:a,data:function(){return Object.assign({},e[a])},exists:!0})};for(var n in e)a(n);return{docs:t}}(a),e.abrupt("return",s);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=Object(f.a)(m.a.mark((function e(t,a){var s,i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("sqlite3"!==n){e.next=4;break}console.error("Algobert go bontehu"),e.next=13;break;case 4:if("json"!==n){e.next=13;break}for(s=r,t.forEach((function(e){s[e]||(s[e]={}),s=s[e]})),i=c();s[i];)i=c();for(o in a)a[o]instanceof Date&&(a[o]={seconds:Math.round(a[o].getTime()/1e3)-5});return s[i]=a,e.next=13,d.write();case 13:return e.abrupt("return",Object.assign({},{id:i,data:a,exists:!0}));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(f.a)(m.a.mark((function e(t){var a,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("sqlite3"!==n){e.next=4;break}console.error("Algobert go bontehu"),e.next=11;break;case 4:if("json"!==n){e.next=11;break}return a=r,s=t.pop(),t.forEach((function(e){a[e]||(a[e]={}),a=a[e]})),delete a[s],e.next=11,d.write();case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(f.a)(m.a.mark((function e(t,a){var s,i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("sqlite3"!==n){e.next=4;break}console.error("Algobert go bontehu"),e.next=12;break;case 4:if("json"!==n){e.next=12;break}for(o in s=r,i=t.pop(),t.forEach((function(e){s[e]||(s[e]={}),s=s[e]})),a)a[o]instanceof Date&&(a[o]={seconds:Math.round(a[o].getTime()/1e3)-5});return s[i]=a,e.next=12,d.write();case 12:return e.abrupt("return",Object.assign({},{id:void 0,data:a,exists:!0}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(f.a)(m.a.mark((function e(t,a){var s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("sqlite3"!==n){e.next=4;break}console.error("Algobert go bontehu"),e.next=11;break;case 4:if("json"!==n){e.next=11;break}for(i in s=r,t.forEach((function(e){s[e]||(s[e]={}),s=s[e]})),a)a[i]instanceof Date&&(a[i]={seconds:Math.round(a[i].getTime()/1e3)-5});return s=Object.assign(s,a),e.next=11,d.write();case 11:return e.abrupt("return",Object.assign(a,{id:void 0,data:a,exists:!0}));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return Object.assign(a(e),{get:function(){return function(e){return p.apply(this,arguments)}(e)}})}function _(){console.error("bad news bears")}function E(e){return{id:_,add:function(t){return function(e,t){return v.apply(this,arguments)}(e,t)},get:function(){return function(e){return h.apply(this,arguments)}(e)},set:function(t){return function(e,t){return w.apply(this,arguments)}(e,t)},update:function(t){return function(e,t){return x.apply(this,arguments)}(e,t)},delete:function(){return function(e){return k.apply(this,arguments)}(e)}}}return[function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];switch(n){case"firebase":return j(t);default:return E(t)}},function(){e=new Map,t=new Map}]}(),w=Object(p.a)(k,2),x=w[0],j=w[1];t.a={__init__:function(t){for(var n=[],o=arguments.length,u=new Array(o>1?o-1:0),l=1;l<o;l++)u[l-1]=arguments[l];if(u.includes("firebase")){var p=a(278);t.firebase.initializeApp(p.dbkeys.deploy);var d=[t.firebase.firestore(),t.firebase.firestore];s=d[0],i=d[1],s.enablePersistence({synchronizeTabs:!0}).catch(console.error),n.push(new Promise((function(e){return e(i)})))}if(u.includes("sqlite")){console.error("algobert come to the rescue!"),console.error("algobert come to the rescue!"),console.error("algobert come to the rescue!"),console.error("algobert come to the rescue!"),console.error("algobert come to the rescue!"),console.error("algobert come to the rescue!"),console.error("algobert come to the rescue!");var h=a(65),v=h.FilesystemDirectory,k=h.Plugins,w=k.Device;n.push(Object(f.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.getInfo();case 2:return t.t0=t.sent.platform,a="web"!==t.t0,a?v.Data:e.resourcesPath,"/condution.db",t.abrupt("return",void 0);case 7:case"end":return t.stop()}}),t)})))())}return u.includes("json")&&n.push(Object(f.a)(m.a.mark((function e(){var t,a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.Data,a="condution.json",e.prev=2,e.next=5,y.readFile({path:a,directory:t,encoding:b.UTF8});case 5:n=e.sent.data,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),n="{}",e.next=13,y.writeFile({path:a,directory:t,data:JSON.stringify({}),encoding:b.UTF8});case 13:r=JSON.parse(n);case 14:case"end":return e.stop()}}),e,null,[[2,8]])})))()),c=Promise.all(n)},cRef:x,flush:j,useDb:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return n=e,o=t,c}}}).call(this,a(54))}},[[253,3,4]]]);
//# sourceMappingURL=main.901267b7.chunk.js.map