(this.webpackJsonpCondution=this.webpackJsonpCondution||[]).push([[1],{101:function(e,t,a){"use strict";var n=a(16),r=a(0),s=a.n(r),i=a(244),o=a.n(i),c=a(187),u=a.n(c),l=a(245),p=a.n(l);a(494);t.a=function(e){var t=Object(r.useState)(u.a),a=Object(n.a)(t,2),i=a[0],c=a[1];return Object(r.useEffect)((function(){if(!e.visible){var t=[o.a,u.a,p.a];c(t[Math.floor(Math.random()*t.length)])}}),[e.visible]),s.a.createElement("div",{className:"blkArt",style:{display:e.visible?"flex":"none"}},s.a.createElement("img",{className:"blkArt-content",src:i}),s.a.createElement("div",{className:"blkArt-text"},s.a.createElement("span",{className:"blkArt-title"},e.title),s.a.createElement("span",{className:"blkArt-subtitle"},e.subtitle)))}},102:function(e,t,a){"use strict";(function(e){var n,r,s,i,o,c,u=a(13),l=a(28),p=a(16),d=a(1),m=a.n(d),h=a(3),f=a(55),g=f.FilesystemDirectory,v=f.FilesystemEncoding,b=f.Plugins,k=(b.Device,b.Filesystem),y=function(){var e=new Map,t=new Map;function a(e){var t=s;console.assert("string"===typeof e[0]),t=e[0].includes("/")?t.collectionGroup(e[0]):t.collection(e[0]);var a,n=Object(l.a)(e.slice(1));try{for(n.s();!(a=n.n()).done;){var r=a.value;if("string"===typeof r)if(t instanceof i.DocumentReference)t=t.collection(r);else{if(!(t instanceof i.Query))throw new Error("Unknown reference",t.toString());t=t.doc(r)}else{if(!Array.isArray(r))throw new Error("Cannot parse",r.toString());if(!(t instanceof i.Query))throw new Error("Cannot query with",r.toString());var o;t=(o=t).where.apply(o,Object(u.a)(r)),console.assert(t instanceof i.Query)}}}catch(c){n.e(c)}finally{n.f()}return t}function c(){return Math.random().toString(36).substring(2)+Math.random().toString(36).substring(2)+Math.random().toString(36).substring(2)}function p(){return(p=Object(h.a)(m.a.mark((function n(r){var s,i;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=JSON.stringify(r),e.has(s)||(i=a(r),e.set(s,i.get()),t.set(s,i.onSnapshot({error:console.trace,next:function(t){e.set(s,t),o()}}))),n.next=4,e.get(s);case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var d=function(){var e=g.Data;return{read:function(){var t=Object(h.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.readFile({path:"condution.json",directory:e,encoding:v.UTF8});case 2:a=t.sent.data,r=JSON.parse(a);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),write:function(){var t=Object(h.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.writeFile({path:"condution.json",directory:e,data:JSON.stringify(r),encoding:v.UTF8});case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}}();function f(){return(f=Object(h.a)(m.a.mark((function e(t){var a,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"sqlite3"===n?console.error("Algobert go bontehu"):"json"===n&&(a=r,t.some((function(e){return void 0===(a=a[e])}))),s=function(e){var t=[],a=function(a){t.push({id:a,data:function(){return Object.assign({},e[a])},exists:!0})};for(var n in e)a(n);return{docs:t}}(a),e.abrupt("return",s);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(h.a)(m.a.mark((function e(t,a){var s,i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("sqlite3"!==n){e.next=4;break}console.error("Algobert go bontehu"),e.next=13;break;case 4:if("json"!==n){e.next=13;break}for(s=r,t.forEach((function(e){s[e]||(s[e]={}),s=s[e]})),i=c();s[i];)i=c();for(o in a)a[o]instanceof Date&&(a[o]={seconds:Math.round(a[o].getTime()/1e3)-5});return s[i]=a,e.next=13,d.write();case 13:return e.abrupt("return",Object.assign({},{id:i,data:a,exists:!0}));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(h.a)(m.a.mark((function e(t){var a,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("sqlite3"!==n){e.next=4;break}console.error("Algobert go bontehu"),e.next=11;break;case 4:if("json"!==n){e.next=11;break}return a=r,s=t.pop(),t.forEach((function(e){a[e]||(a[e]={}),a=a[e]})),delete a[s],e.next=11,d.write();case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(h.a)(m.a.mark((function e(t,a){var s,i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("sqlite3"!==n){e.next=4;break}console.error("Algobert go bontehu"),e.next=12;break;case 4:if("json"!==n){e.next=12;break}for(o in s=r,i=t.pop(),t.forEach((function(e){s[e]||(s[e]={}),s=s[e]})),a)a[o]instanceof Date&&(a[o]={seconds:Math.round(a[o].getTime()/1e3)-5});return s[i]=a,e.next=12,d.write();case 12:return e.abrupt("return",Object.assign({},{id:void 0,data:a,exists:!0}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(h.a)(m.a.mark((function e(t,a){var s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("sqlite3"!==n){e.next=4;break}console.error("Algobert go bontehu"),e.next=11;break;case 4:if("json"!==n){e.next=11;break}for(i in s=r,t.forEach((function(e){s[e]||(s[e]={}),s=s[e]})),a)a[i]instanceof Date&&(a[i]={seconds:Math.round(a[i].getTime()/1e3)-5});return s=Object.assign(s,a),e.next=11,d.write();case 11:return e.abrupt("return",Object.assign(a,{id:void 0,data:a,exists:!0}));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return Object.assign(a(e),{get:function(){return function(e){return p.apply(this,arguments)}(e)}})}function E(){console.error("bad news bears")}function _(e){return{id:E,add:function(t){return function(e,t){return b.apply(this,arguments)}(e,t)},get:function(){return function(e){return f.apply(this,arguments)}(e)},set:function(t){return function(e,t){return w.apply(this,arguments)}(e,t)},update:function(t){return function(e,t){return x.apply(this,arguments)}(e,t)},delete:function(){return function(e){return y.apply(this,arguments)}(e)}}}return[function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];switch(n){case"firebase":return j(t);default:return _(t)}},function(){e=new Map,t=new Map}]}(),w=Object(p.a)(y,2),x=w[0],j=w[1];t.a={__init__:function(t){for(var n=[],o=arguments.length,u=new Array(o>1?o-1:0),l=1;l<o;l++)u[l-1]=arguments[l];if(u.includes("firebase")){var p=a(286);t.firebase.initializeApp(p.dbkeys.deploy);var d=[t.firebase.firestore(),t.firebase.firestore];s=d[0],i=d[1],s.enablePersistence({synchronizeTabs:!0}).catch(console.error),n.push(new Promise((function(e){return e(i)})))}if(u.includes("sqlite")){console.error("algobert come to the rescue!"),console.error("algobert come to the rescue!"),console.error("algobert come to the rescue!"),console.error("algobert come to the rescue!"),console.error("algobert come to the rescue!"),console.error("algobert come to the rescue!"),console.error("algobert come to the rescue!");var f=a(55),b=f.FilesystemDirectory,y=f.Plugins,w=y.Device;n.push(Object(h.a)(m.a.mark((function t(){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.getInfo();case 2:return t.t0=t.sent.platform,a="web"!==t.t0,a?b.Data:e.resourcesPath,"/condution.db",t.abrupt("return",void 0);case 7:case"end":return t.stop()}}),t)})))())}return u.includes("json")&&n.push(Object(h.a)(m.a.mark((function e(){var t,a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.Data,a="condution.json",e.prev=2,e.next=5,k.readFile({path:a,directory:t,encoding:v.UTF8});case 5:n=e.sent.data,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),n="{}",e.next=13,k.writeFile({path:a,directory:t,data:JSON.stringify({}),encoding:v.UTF8});case 13:r=JSON.parse(n);case 14:case"end":return e.stop()}}),e,null,[[2,8]])})))()),c=Promise.all(n)},cRef:x,flush:j,useDb:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return n=e,o=t,c}}}).call(this,a(54))},103:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(34),r=a(1),s=a.n(r),i=a(3),o=a(13),c=a(16),u=a(6),l=a(0),p=a.n(l),d=(a(170),a(80),a(27));function m(e){var t=Object(l.useState)(e.initialDate?e.initialDate:new Date),a=Object(c.a)(t,2),r=a[0],u=a[1],m=r.getMonth(),h=r.getFullYear(),f=new Date(h,m,1),g=new Date(h,m+1,0),v=new Date(h,m,0),b=f.getDay()+1;function k(e,t,a){var n=e,r=t,s=a,i=function(e){return 1==(e=e.toString(16)).length?"0"+e:e},o=Math.ceil(parseInt(n.substring(0,2),16)*s+parseInt(r.substring(0,2),16)*(1-s)),c=Math.ceil(parseInt(n.substring(2,4),16)*s+parseInt(r.substring(2,4),16)*(1-s)),u=Math.ceil(parseInt(n.substring(4,6),16)*s+parseInt(r.substring(4,6),16)*(1-s));return i(o)+i(c)+i(u)}var y=Object(o.a)(new Array(b-1)).map((function(e,t){return{type:"pre",content:t+v.getDate()-(b-1)+1}})),w=Object(o.a)(new Array(6-g.getDay()===-1?6:6-g.getDay())).map((function(e,t){return{type:"post",content:t+1}})),x=Object(o.a)(new Array(g.getDate())).map((function(e,t){return{type:"actual",content:t+1}})),j=Object(l.useState)({}),E=Object(c.a)(j,2),_=E[0],O=E[1];return Array.prototype.max=function(){return Math.max.apply(null,this)},Object(l.useEffect)((function(){Object(i.a)(s.a.mark((function t(){var a,n,r,i,o,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new Map,n={},t.next=4,e.engine.db.selectTasksInRange(e.uid,f,g,!0);case 4:t.sent.forEach((function(e){var t=Object(c.a)(e,2),n=(t[0],t[1]),r=new Date(1e3*n.due.seconds);r.setHours(0,0,0,0);var s=r.getDate();a.has(s)?a.set(s,a.get(s)+1):a.set(s,1)})),(r=Array.from(a.values())).length>0&&(i=r.max(),o=getComputedStyle(document.body),u=r.map((function(e){return k(o.getPropertyValue("--heatmap-darkest").trim().slice(1),o.getPropertyValue("--heatmap-lightest").trim().slice(1),e/i)})),Array.from(a.keys()).forEach((function(e,t){n[e]=u[t]}))),O(n);case 9:case"end":return t.stop()}}),t)})))()}),[r,e.initialDate]),p.a.createElement("div",{id:"calendar-page-calendar-wrapper",style:Object(n.a)({display:"inline-block"},e.style)},p.a.createElement("div",{id:"calendar-wrapper-popover"},p.a.createElement("div",{id:"calendar-daterow"},p.a.createElement("span",{className:"calendar-daterow-item"},"Sun"),p.a.createElement("span",{className:"calendar-daterow-item"},"Mon"),p.a.createElement("span",{className:"calendar-daterow-item"},"Tues"),p.a.createElement("span",{className:"calendar-daterow-item"},"Wed"),p.a.createElement("span",{className:"calendar-daterow-item"},"Thu"),p.a.createElement("span",{className:"calendar-daterow-item"},"Fri"),p.a.createElement("span",{className:"calendar-daterow-item"},"Sat")),p.a.createElement("div",{id:"calendar-container"},[].concat(Object(o.a)(y),Object(o.a)(x),Object(o.a)(w)).map((function(t){return p.a.createElement("span",{className:"calendar-container-item calendar-container-item-".concat(t.type," calendar-container-item-").concat(t.content),style:{backgroundColor:_[t.content]&&"actual"===t.type?"#".concat(_[t.content]):"inherit",border:"actual"===t.type&&t.content===r.getDate()?"2px solid var(--decorative-light)":"0"},onClick:function(a){var n;"pre"===t.type&&(n=new Date(v.getFullYear(),v.getMonth(),t.content)),"actual"===t.type&&(n=new Date(f.getFullYear(),f.getMonth(),t.content)),"post"===t.type&&(n=new Date(f.getFullYear(),f.getMonth()+1,t.content)),u(n),e.onDateSelected&&!e.disableOnclick&&e.onDateSelected(n)}},t.content)}))),p.a.createElement("div",{id:"calendar-infopanel"},p.a.createElement("div",{className:"calendar-infopanel-dateselected"},r.getDate()),p.a.createElement("div",{className:"calendar-infopanel-datename"},r.toLocaleString(e.gruntman.localizations.getLanguage(),{weekday:"long"})),p.a.createElement("div",{className:"calendar-infopanel-month"},r.toLocaleString(e.gruntman.localizations.getLanguage(),{month:"long"})),p.a.createElement("div",{className:"calendar-infopanel-year"},r.getFullYear())),function(){if(e.useTime)return p.a.createElement("div",{className:"calendar-timeunit"},p.a.createElement("span",{className:"calendar-time"},"Time"),p.a.createElement("input",{className:"calendar-timebox",defaultValue:r.toLocaleTimeString(),onKeyPress:function(t){var a=d.parseDate(t.target.value);if(a&&"Enter"===t.key){var n=new Date(r.getFullYear(),r.getMonth(),r.getDate(),a.getHours(),a.getMinutes(),a.getSeconds());u(n),t.target.value=n.toLocaleTimeString(),e.onDateSelected&&!e.disableOnclick&&e.onDateSelected(n)}}}))}(),p.a.createElement("div",{id:"calendar-tools"},p.a.createElement("a",{className:"fas fa-caret-left calendar-button",onClick:function(){var t=new Date(f.getFullYear(),f.getMonth()-1,1);u(t),e.onDateSelected&&!e.disableOnclick&&e.onDateSelected(t)}}),p.a.createElement("a",{className:"fas fa-caret-right calendar-button",onClick:function(){var t=new Date(f.getFullYear(),f.getMonth()+1,1);u(t),e.onDateSelected&&!e.disableOnclick&&e.onDateSelected(t)}}),p.a.createElement("div",{className:"calendar-today",onClick:function(){u(new Date),e.onDateSelected&&!e.disableOnclick&&e.onDateSelected(new Date)}},e.gruntman.localizations.clbtd),p.a.createElement("div",{className:"calendar-today",style:{marginRight:10,float:"right"},onClick:function(){r&&e.onDateSelected(r),e.onDidDismiss()}},"Done"))))}t.b=function(e){var t=Object(l.useState)(e.initialDate?e.initialDate:new Date),a=Object(c.a)(t,2),r=a[0],m=a[1],h=r.getMonth(),f=r.getFullYear(),g=new Date(f,h,1),v=new Date(f,h+1,0),b=new Date(f,h,0),k=g.getDay()+1;function y(e,t,a){var n=e,r=t,s=a,i=function(e){return 1==(e=e.toString(16)).length?"0"+e:e},o=Math.ceil(parseInt(n.substring(0,2),16)*s+parseInt(r.substring(0,2),16)*(1-s)),c=Math.ceil(parseInt(n.substring(2,4),16)*s+parseInt(r.substring(2,4),16)*(1-s)),u=Math.ceil(parseInt(n.substring(4,6),16)*s+parseInt(r.substring(4,6),16)*(1-s));return i(o)+i(c)+i(u)}var w=Object(o.a)(new Array(k-1)).map((function(e,t){return{type:"pre",content:t+b.getDate()-(k-1)+1}})),x=Object(o.a)(new Array(6-v.getDay()===-1?6:6-v.getDay())).map((function(e,t){return{type:"post",content:t+1}})),j=Object(o.a)(new Array(v.getDate())).map((function(e,t){return{type:"actual",content:t+1}})),E=Object(l.useState)({}),_=Object(c.a)(E,2),O=_[0],S=_[1];return Array.prototype.max=function(){return Math.max.apply(null,this)},Object(l.useEffect)((function(){Object(i.a)(s.a.mark((function t(){var a,n,r,i,o,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new Map,n={},t.next=4,e.engine.db.selectTasksInRange(e.uid,g,v,!0);case 4:t.sent.forEach((function(e){var t=Object(c.a)(e,2),n=(t[0],t[1]),r=new Date(1e3*n.due.seconds);r.setHours(0,0,0,0);var s=r.getDate();a.has(s)?a.set(s,a.get(s)+1):a.set(s,1)})),(r=Array.from(a.values())).length>0&&(i=r.max(),o=getComputedStyle(document.body),u=r.map((function(e){return y(o.getPropertyValue("--heatmap-darkest").trim().slice(1),o.getPropertyValue("--heatmap-lightest").trim().slice(1),e/i)})),Array.from(a.keys()).forEach((function(e,t){n[e]=u[t]}))),S(n);case 9:case"end":return t.stop()}}),t)})))()}),[r,e.initialDate]),p.a.createElement(u.f,{ref:e.reference,isOpen:e.isShown,onDidDismiss:function(){e.onDidDismiss&&e.onDidDismiss()},style:{borderRadius:5},cssClass:"calendar-popover"},p.a.createElement("div",{id:"calendar-page-calendar-wrapper",style:Object(n.a)({display:"inline-block"},e.style)},p.a.createElement("div",{id:"calendar-wrapper-popover"},p.a.createElement("div",{id:"calendar-daterow"},p.a.createElement("span",{className:"calendar-daterow-item"},"Sun"),p.a.createElement("span",{className:"calendar-daterow-item"},"Mon"),p.a.createElement("span",{className:"calendar-daterow-item"},"Tues"),p.a.createElement("span",{className:"calendar-daterow-item"},"Wed"),p.a.createElement("span",{className:"calendar-daterow-item"},"Thu"),p.a.createElement("span",{className:"calendar-daterow-item"},"Fri"),p.a.createElement("span",{className:"calendar-daterow-item"},"Sat")),p.a.createElement("div",{id:"calendar-container"},[].concat(Object(o.a)(w),Object(o.a)(j),Object(o.a)(x)).map((function(t){return p.a.createElement("span",{className:"calendar-container-item calendar-container-item-".concat(t.type," calendar-container-item-").concat(t.content),style:{backgroundColor:O[t.content]&&"actual"===t.type?"#".concat(O[t.content]):"inherit",border:"actual"===t.type&&t.content===r.getDate()?"2px solid var(--decorative-light)":"0"},onClick:function(a){var n;"pre"===t.type&&(n=new Date(b.getFullYear(),b.getMonth(),t.content)),"actual"===t.type&&(n=new Date(g.getFullYear(),g.getMonth(),t.content)),"post"===t.type&&(n=new Date(g.getFullYear(),g.getMonth()+1,t.content)),m(n),e.onDateSelected&&!e.disableOnclick&&e.onDateSelected(n)}},t.content)}))),p.a.createElement("div",{id:"calendar-infopanel"},p.a.createElement("div",{className:"calendar-infopanel-dateselected"},r.getDate()),p.a.createElement("div",{className:"calendar-infopanel-datename"},r.toLocaleString("en-us",{weekday:"long"})),p.a.createElement("div",{className:"calendar-infopanel-month"},r.toLocaleString("en-us",{month:"long"})),p.a.createElement("div",{className:"calendar-infopanel-year"},r.getFullYear())),function(){if(e.useTime)return p.a.createElement("div",{className:"calendar-timeunit"},p.a.createElement("span",{className:"calendar-time"},"Time"),p.a.createElement("input",{className:"calendar-timebox",defaultValue:r.toLocaleTimeString(),onKeyPress:function(t){var a=d.parseDate(t.target.value);if(a&&"Enter"===t.key){var n=new Date(r.getFullYear(),r.getMonth(),r.getDate(),a.getHours(),a.getMinutes(),a.getSeconds());m(n),t.target.value=n.toLocaleTimeString(),e.onDateSelected&&!e.disableOnclick&&e.onDateSelected(n)}}}))}(),p.a.createElement("div",{id:"calendar-tools"},p.a.createElement("a",{className:"fas fa-caret-left calendar-button",onClick:function(){var t=new Date(g.getFullYear(),g.getMonth()-1,1);m(t),e.onDateSelected&&!e.disableOnclick&&e.onDateSelected(t)}}),p.a.createElement("a",{className:"fas fa-caret-right calendar-button",onClick:function(){var t=new Date(g.getFullYear(),g.getMonth()+1,1);m(t),e.onDateSelected&&!e.disableOnclick&&e.onDateSelected(t)}}),p.a.createElement("div",{className:"calendar-today",onClick:function(){m(new Date),e.onDateSelected&&!e.disableOnclick&&e.onDateSelected(new Date)}},e.gruntman.localizations.clbtd),p.a.createElement("div",{className:"calendar-today",style:{marginRight:10,float:"right"},onClick:function(){r&&e.onDateSelected(r),e.onDidDismiss()}},"Done")))))}},135:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return h}));var n=a(1),r=a.n(n),s=a(13),i=a(3),o=a(16),c=a(0),u=a.n(c),l=a(186),p=a(51),d=(a(218),a(42)),m=function(e){var t=Object(c.useState)([]),a=Object(o.a)(t,2),n=a[0],m=a[1],h=Object(c.useRef)(),f=Object(c.useRef)(),g=Object(c.useRef)(),v=Object(c.useRef)(),b=Object(c.useState)(!0),k=Object(o.a)(b,2),y=k[0],w=k[1],x=e.list.map((function(e){return u.a.createRef()})),j=function(e,t,a,n,r){return function(s){return e===s?{y:42*((-1!==a.indexOf(s)?a.indexOf(s):s)-s)+(r?t-42*(a.indexOf(s)-s):0),zIndex:1e3,config:{tension:100,friction:2,mass:1,clamp:!0},immediate:n}:{y:42*((-1!==a.indexOf(s)?a.indexOf(s):s)-s),zIndex:0,immediate:n}}},E=Object(p.d)(e.list.length,j(-1,0,h.current,!0)),_=Object(o.a)(E,3),O=_[0],S=_[1];_[2];Object(c.useEffect)((function(){h.current=e.list.map((function(e,t){return t})),f.current=0,g.current=0,S(j(-1,0,h.current,!0))}),[e.list,e.uid]);var D=Object(l.a)(function(){var t=Object(i.a)(r.a.mark((function t(a){var i,c,u,l,p,d,v,b,k;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Object(o.a)(a.args,1),c=i[0],u=a.down,l=Object(o.a)(a.movement,2),l[0],p=l[1],d=a.first,v=a.last,a.tap,d&&(g.current=c,n.includes(c)||m([].concat(Object(s.a)(n),[c])),e.onSortStart&&e.onSortStart({sorted:c,sortedID:e.list[c],list:e.list})),b=(b=Math.floor(p/42))<=-c?-c:b>=e.list.length-c?e.list.length-1:b,Math.abs(b)>0&&b!==f.current&&(k=c+b,h.current.splice(g.current,1),h.current.splice(k,0,c),f.current=b,g.current=k),S(j(c,p,h.current,!1,u)),!v){t.next=13;break}return setTimeout((function(){return m(n.filter((function(e){return e!==c})))}),100),f.current=0,g.current=0,t.next=12,e.gruntman.do("macro.applyOrder",{uid:e.uid,order:h.current,items:e.list.map((function(e){return{type:"task",content:e}}))});case 12:e.onSortEnd&&e.onSortEnd({sorted:c,sortedID:e.list[c],newOrder:h.current,movementY:p,moveBy:b,list:e.list});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}().bind(void 0),{drag:{delay:100},filterTaps:!0,enabled:y});return e.list.map((function(t,a){var r=O[a];return u.a.createElement("div",{ref:function(e){v.current=e}},u.a.createElement(p.a.div,Object.assign({},D(a),{className:n.includes(a)?"drag-envelope dragging":"drag-envelope",style:{borderRadius:7,position:"relative",cursor:"pointer",zIndex:r.zIndex,transform:Object(p.b)([r.y],(function(e){return"translate3d(0,".concat(e,"px,0)")}))},onClickCapture:function(e){n.includes(a)&&e.stopPropagation()}}),u.a.createElement(d.a,{ref:x[a],tid:t,key:t+"-"+e.prefix,datapack:e.datapack,uid:e.uid,engine:e.engine,gruntman:e.gruntman,availability:e.availability[t],envelope:v,setDragEnabled:w})))}))},h=function(e){var t=Object(c.useState)([]),a=Object(o.a)(t,2),n=a[0],m=a[1],h=Object(c.useRef)(),f=Object(c.useRef)(),g=Object(c.useRef)(),v=Object(c.useRef)(),b=Object(c.useState)(!0),k=Object(o.a)(b,2),y=k[0],w=k[1],x=e.list.map((function(e){return u.a.createRef()})),j=function(e,t,a,n,r){return function(s){return e===s?{y:42*((-1!==a.indexOf(s)?a.indexOf(s):s)-s)+(r?t-42*(a.indexOf(s)-s):0),zIndex:1e3,config:{tension:100,friction:2,mass:1,clamp:!0},immediate:n}:{y:42*((-1!==a.indexOf(s)?a.indexOf(s):s)-s),zIndex:0,immediate:n}}},E=Object(p.d)(e.list.length,j(-1,0,h.current,!0)),_=Object(o.a)(E,3),O=_[0],S=_[1];_[2];Object(c.useEffect)((function(){h.current=e.list.map((function(e,t){return t})),f.current=0,g.current=0,S(j(-1,0,h.current,!0))}),[e.list,e.uid]);var D=Object(l.a)(function(){var t=Object(i.a)(r.a.mark((function t(a){var i,c,u,l,p,d,v,b,k;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Object(o.a)(a.args,1),c=i[0],u=a.down,l=Object(o.a)(a.movement,2),l[0],p=l[1],d=a.first,v=a.last,a.tap,d&&(g.current=c,n.includes(c)||m([].concat(Object(s.a)(n),[c])),e.onSortStart&&e.onSortStart({sorted:c,sortedID:e.list[c],list:e.list})),b=(b=Math.floor(p/42))<=-c?-c:b>=e.list.length-c?e.list.length-1:b,Math.abs(b)>0&&b!==f.current&&(k=c+b,h.current.splice(g.current,1),h.current.splice(k,0,c),f.current=b,g.current=k),S(j(c,p,h.current,!1,u)),!v){t.next=13;break}return setTimeout((function(){return m(n.filter((function(e){return e!==c})))}),100),f.current=0,g.current=0,t.next=12,e.gruntman.do("macro.applyOrder",{uid:e.uid,order:h.current,items:e.list.map((function(e){return{type:e.type,content:"project"===e.type?e.content.id:e.content}}))});case 12:e.onSortEnd&&e.onSortEnd({sorted:c,sortedID:e.list[c],newOrder:h.current,movementY:p,moveBy:b,list:e.list});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}().bind(void 0),{drag:{delay:100},filterTaps:!0,enabled:y});return e.list.map((function(t,a){var r=O[a];return"task"===t.type?u.a.createElement("div",{ref:v},u.a.createElement(p.a.div,Object.assign({},D(a),{className:n.includes(a)?"drag-envelope dragging":"drag-envelope",style:{borderRadius:7,position:"relative",cursor:"pointer",zIndex:r.zIndex,transform:Object(p.b)([r.y],(function(e){return"translate3d(0,".concat(e,"px,0)")}))},onClickCapture:function(e){n.includes(a)&&e.stopPropagation()}}),u.a.createElement(d.a,{ref:e.activeTaskID===t.content?e.activeTaskRef:x[a],tid:t.content,key:t.content+"-"+e.prefix,datapack:e.datapack,uid:e.uid,engine:e.engine,gruntman:e.gruntman,availability:e.availability[t.content],envelope:v,setDragEnabled:w}))):"project"===t.type?u.a.createElement("div",{ref:v},u.a.createElement(p.a.div,Object.assign({},D(a),{className:n.includes(a)?"drag-envelope dragging":"drag-envelope",style:{borderRadius:7,position:"relative",cursor:"pointer",zIndex:r.zIndex,transform:Object(p.b)([r.y],(function(e){return"translate3d(0,".concat(e,"px,0)")}))},onClickCapture:function(e){n.includes(a)&&e.stopPropagation()}}),u.a.createElement("a",{className:"subproject",style:{opacity:e.availability[t.content.id]?"1":"0.35"},onClick:function(){e.paginate("projects",t.content.id),e.history.push("/projects/".concat(t.content.id))}},u.a.createElement("div",null,u.a.createElement("i",{className:"far fa-arrow-alt-circle-right subproject-icon"}),u.a.createElement("div",{style:{display:"inline-block"}},e.possibleProjects[t.content.id]))))):void 0}))}},146:function(e,t,a){"use strict";(function(e){var n=a(13),r=a(1),s=a.n(r),i=a(3),o=a(9),c=a(10),u=a(7),l=a(11),p=a(12),d=a(6),m=a(39),h=a(95),f=a(61),g=a(20),v=a(35),b=a(0),k=a.n(b),y=a(240),w=a(246),x=a(249),j=a(250),E=a(252),_=a(253),O=a(254),S=a(259),D=a(255),N=(a(523),a(67)),C=a(37),T=Object(d.y)("electron")?Object(v.b)():Object(v.a)({basename:""}),P=function(t){Object(l.a)(r,t);var a=Object(p.a)(r);function r(e){var t;return Object(o.a)(this,r),(t=a.call(this,e)).switch=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.props.uid;"workspace"===e?t.props.engine.workspaceify():t.props.engine.userlandify(),t.setState({isWorkspace:"workspace"===e,workspace:a})},t.paginate=function(e,a){return t.setState({itemSelected:{item:e,id:a}})},t.state={projects:[],perspectives:[],itemSelected:{item:"upcoming",id:void 0},isWorkspace:!1,workspace:"workspace"===t.props.authType?t.props.workspace:t.props.uid,isWorkspaceRequestShown:[!1,null]},t.state.isWorkspace||"workspace"===t.props.authType?t.props.engine.workspaceify():t.props.engine.userlandify(),t.props.gruntman.registerGlobalRefresher(t.refresh.bind(Object(u.a)(t))),C(Object(u.a)(t)),t.abtibRef=k.a.createRef(),t.menu=k.a.createRef(),t}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=this,t=new URL(document.URL),a=t.pathname.split("/"),n=t.hash.split("/");""===a[1]?this.setState({itemSelected:{item:"upcoming",id:""}}):Object(d.y)("electron")?this.setState({itemSelected:{item:n[1],id:n[2]}}):this.setState({itemSelected:{item:a[1],id:a[2]}}),this.refresh().then((function(){"workspaces"===a[1]&&e.switch("workspace",a[2])}))}},{key:"componentDidUpdate",value:function(e,t,a){t.to!==this.state.to&&void 0!==this.state.to&&this.setState({sends:{to:void 0,id:void 0}}),t.workspace!==this.state.workspace&&this.refresh()}},{key:"refresh",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,n,r,i,o=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.engine.db.getTopLevelProjects(this.state.workspace);case 2:return t=e.sent,e.next=5,this.props.engine.db.getPerspectives(this.state.workspace);case 5:if(a=e.sent,"firebase"!==this.props.authType){e.next=36;break}return e.next=9,this.props.engine.db.getInvitations(this.props.email);case 9:if(n=e.sent,!(r=n.sort((function(e,t){return e.time.seconds<t.time.seconds}))[n.length-1])){e.next=36;break}if(this.props.gruntman.lockUpdates(),"revoke"!==r.type){e.next=24;break}return e.next=16,this.props.engine.db.getWorkspaces(this.props.uid);case 16:return i=e.sent.filter((function(e){return e!=r.workspace})),e.next=19,this.props.engine.db.updateWorkspaces(this.props.uid,i);case 19:return e.next=21,n.filter((function(e){return e.workspace===r.workspace})).forEach((function(e){return o.props.engine.db.resolveInvitation(e.id,o.props.email)}));case 21:this.switch("userland"),e.next=35;break;case 24:if("invite"!==r.type){e.next=35;break}return e.t0=this,e.t1=r.workspace,e.next=29,this.props.engine.db.getWorkspace(r.workspace);case 29:e.t2=e.sent.meta.name,e.t3=r.id,e.t4=[e.t1,e.t2,e.t3],e.t5=[!0,e.t4],e.t6={isWorkspaceRequestShown:e.t5},e.t0.setState.call(e.t0,e.t6);case 35:this.props.gruntman.unlockUpdates();case 36:this.setState({projects:t[2],perspectives:a[2]});case 37:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,a=Object(d.y)("electron")?h.a:h.b;return k.a.createElement(d.g,null,k.a.createElement(a,{history:T},k.a.createElement(S.a,{paginate:this.paginate,ref:this.keybindRef,perspectives:this.state.perspectives,projects:this.state.projects,abtib:this.abtibRef,engine:this.props.engine,uid:this.state.workspace,gruntman:this.props.gruntman}),k.a.createElement(N.a,null),k.a.createElement(d.b,{noBounce:!0,forceOverscroll:!1},k.a.createElement(d.n,{id:"main-split",contentId:"main",mode:"md"},k.a.createElement(d.d,{id:"main-menu",contentId:"main",ref:this.menu},k.a.createElement("br",null),k.a.createElement(d.b,{id:"menu-content",className:Object(d.y)("electron")?window.navigator.platform.includes("Mac")?"darwin":"win32"===e.platform?"windows":void 0:"normal"},k.a.createElement(f.a,{to:"/upcoming",onClick:function(){return t.setState({itemSelected:{item:"upcoming",id:void 0}})}}," ",k.a.createElement("div",{className:"menu-item "+("upcoming"===this.state.itemSelected.item?"menu-item-selected":""),style:{fontSize:18}},k.a.createElement(d.c,{style:{fontSize:20},icon:m.g}),this.props.localizations.upcoming)),k.a.createElement(f.a,{to:"/completed",onClick:function(){return t.setState({itemSelected:{item:"completed",id:void 0}})}}," ",k.a.createElement("div",{className:"menu-item "+("completed"===this.state.itemSelected.item?"menu-item-selected":""),style:{fontSize:18}},k.a.createElement(d.c,{style:{fontSize:20,transform:"translateY(3.5px)"},icon:m.d}),this.props.localizations.completed)),k.a.createElement(f.a,{to:"/calendar",onClick:function(){return t.setState({itemSelected:{item:"calendar",id:void 0}})}}," ",k.a.createElement("div",{className:"menu-item "+("calendar"===this.state.itemSelected.item?"menu-item-selected":""),style:{fontSize:18}},k.a.createElement(d.c,{style:{fontSize:20,transform:"translateY(3.5px)"},icon:m.b}),this.props.localizations.calendar)),k.a.createElement("div",{className:"menu-sublabel menu-decoration"},this.props.localizations.perspectives," ",k.a.createElement("a",{onClick:function(){t.menu.current&&t.menu.current.close(),Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.gruntman.do("perspective.create",{uid:this.state.workspace},!0);case 2:t=e.sent.pid,T.push("/perspectives/".concat(t,"/do")),this.paginate("perspectives",t),this.refresh();case 6:case"end":return e.stop()}}),e,this)}))).bind(t)()},className:"fa fa-plus add"})),this.state.perspectives.map((function(e){return k.a.createElement(f.a,{key:e.id,to:"/perspectives/".concat(e.id),onClick:function(){return t.setState({itemSelected:{item:"perspectives",id:e.id}})}}," ",k.a.createElement("div",{className:"menu-item "+("perspectives"===t.state.itemSelected.item&&t.state.itemSelected.id===e.id?"menu-item-selected":"")},k.a.createElement("i",{className:"fas fa-layer-group",style:{paddingRight:2}})," ",e.name))})),k.a.createElement("div",{className:"menu-sublabel menu-decoration"},this.props.localizations.projects,k.a.createElement("a",{onClick:function(){t.menu.current&&t.menu.current.close(),Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.gruntman.do("project.create",{uid:this.state.workspace});case 2:t=e.sent.pid,T.push("/projects/".concat(t,"/do")),this.paginate("projects",t),this.refresh();case 6:case"end":return e.stop()}}),e,this)}))).bind(t)()},className:"fa fa-plus add"})),this.state.projects.map((function(e){return k.a.createElement(f.a,{key:e.id,to:"/projects/".concat(e.id),onClick:function(){return t.setState({itemSelected:{item:"projects",id:e.id}})}}," ",k.a.createElement("div",{className:"menu-item "+("projects"===t.state.itemSelected.item&&t.state.itemSelected.id===e.id?"menu-item-selected":"")},k.a.createElement(d.c,{icon:m.k}),e.name))}))),k.a.createElement("div",{className:"menu-item",id:"logout",onClick:function(){T.push("/"),t.props.dispatch({operation:"logout"})}},k.a.createElement("i",{className:"fas fa-snowboarding",style:{paddingRight:5}}),"workspace"==this.props.authType?this.props.localizations.exitworkspace:this.props.localizations.logout)),k.a.createElement(d.g,{id:"main"},k.a.createElement(d.o,{mode:"ios",cssClass:"workspace-toast",isOpen:this.state.isWorkspaceRequestShown[0],message:"Invitation to join workspace ".concat(this.state.isWorkspaceRequestShown[1]?this.state.isWorkspaceRequestShown[1][1]:""),position:"bottom",buttons:[{text:"Reject",role:"cancel",handler:Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.engine.db.resolveInvitation(this.state.isWorkspaceRequestShown[1][2],this.props.email);case 2:this.setState({isWorkspaceRequestShown:[!1,null]});case 3:case"end":return e.stop()}}),e,this)}))).bind(this)},{text:"Accept",handler:Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.isWorkspaceRequestShown[1][0],e.t0=[],e.t1=n.a,e.next=5,this.props.engine.db.getWorkspaces(this.props.uid);case 5:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.t4=[t],a=e.t0.concat.call(e.t0,e.t3,e.t4),e.next=11,this.props.engine.db.updateWorkspaces(this.props.uid,a);case 11:return e.next=13,this.props.engine.db.resolveInvitation(this.state.isWorkspaceRequestShown[1][2],this.props.email);case 13:this.setState({isWorkspaceRequestShown:[!1,null]});case 14:case"end":return e.stop()}}),e,this)}))).bind(this)}]}),k.a.createElement(O.a,{reference:this.abtibRef,uid:this.state.workspace,gruntman:this.props.gruntman,localizations:this.props.localizations}),k.a.createElement(D.a,{authType:this.props.authType}),k.a.createElement("div",{id:"parking-lot"}),k.a.createElement(d.j,null,k.a.createElement(g.b,{render:function(){return k.a.createElement(g.a,{to:"/upcoming"})}}),k.a.createElement(g.b,{exact:!0,path:"/",render:function(){return k.a.createElement(g.a,{to:"/upcoming"})}}),k.a.createElement(g.d,null,k.a.createElement(g.b,{path:"/upcoming",exact:!0,render:function(){return k.a.createElement(y.a,{engine:t.props.engine,uid:t.state.workspace,gruntman:t.props.gruntman,displayName:t.props.displayName,localizations:t.props.localizations,actualUID:t.props.uid,switch:t.switch,authType:t.props.authType,email:t.props.email})}}),k.a.createElement(g.b,{path:"/calendar",exact:!0,render:function(){return k.a.createElement(w.a,{engine:t.props.engine,uid:t.state.workspace,gruntman:t.props.gruntman})},localizations:this.props.localizations}),k.a.createElement(g.b,{path:"/workspaces/:id",render:function(e){var a=e.match;return k.a.createElement(_.a,{engine:t.props.engine,paginate:t.paginate,id:a.params.id,actualUID:t.props.uid,gruntman:t.props.gruntman,menuRefresh:t.refresh,localizations:t.props.localizations,authType:t.props.authType,email:t.props.email})}}),k.a.createElement(g.b,{path:"/completed",exact:!0,render:function(){return k.a.createElement(x.a,{engine:t.props.engine,uid:t.state.workspace,gruntman:t.props.gruntman,localizations:t.props.localizations})}}),k.a.createElement(g.b,{path:"/perspectives/:id/:create?",render:function(e){var a=e.match;return k.a.createElement(j.a,{engine:t.props.engine,paginate:t.paginate,id:a.params.id,uid:t.state.workspace,gruntman:t.props.gruntman,menuRefresh:t.refresh,options:a.params.create,localizations:t.props.localizations})}}),k.a.createElement(g.b,{path:"/projects/:id/:create?",render:function(e){var a=e.match;return k.a.createElement(E.a,{engine:t.props.engine,id:a.params.id,uid:t.state.workspace,gruntman:t.props.gruntman,menuRefresh:t.refresh,paginate:t.paginate,options:a.params.create,localizations:t.props.localizations})}}))))))))}}]),r}(b.Component);t.a=P}).call(this,a(54))},170:function(e,t,a){},187:function(e,t,a){e.exports=a.p+"static/media/BlkArt_1.72c3f4f3.png"},194:function(e,t,a){},195:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){},218:function(e,t,a){},223:function(e,t,a){},236:function(e,t,a){},240:function(e,t,a){"use strict";(function(e){var n=a(16),r=a(28),s=a(1),i=a.n(s),o=a(3),c=a(9),u=a(10),l=a(7),p=a(11),d=a(12),m=a(6),h=a(0),f=a.n(h),g=(a(369),a(65),a(135)),v=a(42),b=a(101),k=a(260),y=a(37),w=function(t){Object(p.a)(s,t);var a=Object(d.a)(s);function s(e){var t;Object(c.a)(this,s),t=a.call(this,e);var n=new Date;n.setDate(n.getDate()+1);var r=t.props.localizations.greetings_setA;return t.state={inbox:[],dueSoon:[],possibleProjects:{},possibleTags:{},possibleProjectsRev:{},possibleTagsRev:{},availability:[],projectSelects:[],tagSelects:[],projectDB:{},timeline:[],timelineShown:!1,greeting:r[Math.floor(Math.random()*r.length)],workspaces:[],workspacesPopoverShown:[!1,null],workspaceModalShown:!1,currentlyEditedWorkspace:null,currentWorkspace:t.props.localizations.personal_workspace},t.updatePrefix=t.random(),t.workspaceButton=f.a.createRef(),y(Object(l.a)(t)),t}return Object(u.a)(s,[{key:"refresh",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a,n,s,c,u,l,p,d,m,h,f,g,v,b,k,y,w,x;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.engine.db.getItemAvailability(this.props.uid);case 2:return t=e.sent,e.next=5,this.props.engine.db.getInboxandDS(this.props.uid,t);case 5:return a=e.sent,e.next=8,this.props.engine.db.getProjectsandTags(this.props.uid);case 8:for(u in n=e.sent,s=[],c=[],n[1][0])c.push({value:u,label:n[1][0][u]});return l=this,e.next=15,Object(o.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,l.props.engine.db.getTopLevelProjects(l.props.uid);case 3:a=e.sent[0],e.t0=i.a.keys(a);case 5:if((e.t1=e.t0()).done){e.next=14;break}return n=e.t1.value,e.t2=t,e.next=10,l.props.engine.db.getProjectStructure(l.props.uid,n,!0);case 10:e.t3=e.sent,e.t2.push.call(e.t2,e.t3),e.next=5;break;case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e)})))();case 15:return p=e.sent,d=function e(t,a){if(a||(a=""),s.push({value:t.id,label:a+n[0][0][t.id]}),t.children){var i,o=Object(r.a)(t.children);try{for(o.s();!(i=o.n()).done;){var c=i.value;"project"===c.type&&e(c.content,a+":: ")}}catch(u){o.e(u)}finally{o.f()}}},p.map((function(e){return d(e)})),this.updatePrefix=this.random(),e.next=21,this.props.engine.db.selectTasksInRange(this.props.uid,new Date,new Date(2100,1,1),!0);case 21:m=(m=e.sent).filter((function(e){return!a[1].includes(e[0])})),Date.prototype.isSameDateAs=function(e){return this.getFullYear()===e.getFullYear()&&this.getMonth()===e.getMonth()&&this.getDate()===e.getDate()},h=new Date,f=[],g=Object(r.a)(m);try{for(g.s();!(v=g.n()).done;)b=v.value,(k=new Date(1e3*b[1].due.seconds)).isSameDateAs(h)||(f.push({type:"label",content:k}),h=k),f.push({type:"task",content:b[0]})}catch(j){g.e(j)}finally{g.f()}if(y=this.props.localizations.personal_workspace,w=[],"firebase"!==this.props.authType){e.next=37;break}return e.next=33,this.props.engine.db.getWorkspaces(this.props.actualUID);case 33:return x=e.sent,e.next=36,Promise.all(x.map(function(){var e=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.props.engine.db.getWorkspace(t);case 2:return a=e.sent.meta.name,t===l.props.uid&&(y=a),e.abrupt("return",[t,a]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 36:w=e.sent;case 37:this.setState({inbox:a[0],dueSoon:a[1],possibleProjects:n[0][0],possibleTags:n[1][0],possibleProjectsRev:n[0][1],possibleTagsRev:n[1][1],availability:t,projectSelects:s,tagSelects:c,projectDB:p,timeline:f,workspaces:w,currentWorkspace:y});case 38:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.refresh(),this.props.gruntman.registerRefresher(this.refresh.bind(this))}},{key:"componentDidUpdate",value:function(e,t,a){e.uid!=this.props.uid&&this.refresh()}},{key:"componentWillUnmount",value:function(){this.props.gruntman.halt()}},{key:"random",value:function(){return(65536*(1+Math.random())|0).toString(16)+"-"+(65536*(1+Math.random())|0).toString(16)}},{key:"render",value:function(){var t=this;return f.a.createElement(m.g,null,f.a.createElement("div",{style:{overflow:"hidden"}},f.a.createElement("div",{className:"page-invis-drag "+(Object(m.y)("electron")?window.navigator.platform.includes("Mac")?"darwin":"win32"===e.platform?"windows":void 0:"normal")},"\xa0"),f.a.createElement("div",{className:"page-content "+(Object(m.y)("electron")?window.navigator.platform.includes("Mac")?"darwin":"win32"===e.platform?"windows":void 0:"normal")},f.a.createElement(k.a,{engine:this.props.engine,gruntman:this.props.gruntman,isShown:this.state.workspaceModalShown,currentWorkspace:this.state.currentlyEditedWorkspace,onDidDismiss:function(){return t.setState({workspaceModalShown:!1})},getUserByEmail:this.props.getUserByEmail}),f.a.createElement("div",{className:"header-container",onTouchMove:function(e){return e.preventDefault()}},f.a.createElement("div",{style:{display:"inline-block"}},f.a.createElement(m.e,null,f.a.createElement("i",{className:"fas fa-bars",style:{marginLeft:20,color:"var(--page-header-sandwich)"}}))," ",f.a.createElement("h1",{className:"page-title"},f.a.createElement("i",{style:{paddingRight:10},className:"fas fa-chevron-circle-right"}),this.props.localizations.upcoming),f.a.createElement("div",{style:{display:"inline-block",background:"var(--decorative-light)",width:1,transform:"translate(-13.5px, 4px)",height:20}},"\xa0"),f.a.createElement("div",{className:"greeting-datewidget"},f.a.createElement("div",{style:{display:"inline-block"},className:"greeting-date"},(new Date).getDate()),f.a.createElement("div",{style:{display:"inline-block"},className:"greeting-datename"},(new Date).toLocaleString(this.props.localizations.getLanguage(),{weekday:"long"}))),f.a.createElement("div",{className:"greeting-container"},f.a.createElement("span",{id:"greeting"},this.state.greeting)," ",f.a.createElement("span",{id:"greeting-name",style:{fontWeight:600,marginRight:10}},this.props.displayName),f.a.createElement("a",{className:"workspace-name",style:{display:"firebase"===this.props.authType?"inline-block":"none"},onClick:function(e){return t.setState({workspacesPopoverShown:[!0,e.nativeEvent]})}},this.state.currentWorkspace)))),f.a.createElement(m.h,{showBackdrop:!1,ref:this.workspaceButton,isOpen:this.state.workspacesPopoverShown[0],cssClass:"workspaces-popover",mode:"md",onDidDismiss:function(e){return t.setState({workspacesPopoverShown:[!1,null]})},event:this.state.workspacesPopoverShown[1]},f.a.createElement("div",null,f.a.createElement("div",{className:"workspace-name-container"},f.a.createElement("div",{className:"workspace-name-selection",onClick:function(){t.workspaceButton.current.dismiss(),t.props.switch("personal"),t.setState({currentWorkspace:t.props.localizations.personal_workspace})}},f.a.createElement("i",{className:"fas fa-stream",style:{marginRight:10}}),this.props.localizations.personal_workspace)),this.state.workspaces.map((function(e){var a=Object(n.a)(e,2),r=a[0],s=a[1];return f.a.createElement("div",{className:"workspace-name-container"},f.a.createElement("div",{onClick:function(){t.workspaceButton.current.dismiss(),t.props.switch("workspace",r),t.setState({currentWorkspace:s})},className:"workspace-name-selection"},f.a.createElement("i",{className:"fas fa-stream",style:{marginRight:10}}),s),f.a.createElement("a",{className:"workspace-edit fas fa-pen",onClick:function(){t.workspaceButton.current.dismiss(),t.setState({currentlyEditedWorkspace:r,workspaceModalShown:!0})}}))})),f.a.createElement("div",{className:"workspace-name-container",style:{borderTop:"1px solid var(--decorative-light)",fontWeight:600}},f.a.createElement("div",{className:"workspace-name-selection",onClick:Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.engine.db.generateWorkspace(this.props.actualUID,this.props.email);case 2:t=e.sent,this.workspaceButton.current.dismiss(),this.props.switch("workspace",t),this.setState({currentlyEditedWorkspace:t,workspaceModalShown:!0});case 6:case"end":return e.stop()}}),e,this)}))).bind(this)},f.a.createElement("i",{className:"fas fa-plus-circle",style:{marginRight:10}}),this.props.localizations.new_workspace)))),f.a.createElement("div",{style:{marginLeft:10,marginRight:10,overflowY:"scroll",flexGrow:5}},f.a.createElement("div",null,function(){if(t.state.inbox.length>0)return f.a.createElement("div",{className:"page-label"},t.props.localizations.unsorted,f.a.createElement(m.a,{className:"count-badge"},t.state.inbox.length))}(),f.a.createElement(g.b,{list:this.state.inbox,prefix:this.updatePrefix,uid:this.props.uid,engine:this.props.engine,gruntman:this.props.gruntman,availability:this.state.availability,datapack:[this.state.tagSelects,this.state.projectSelects,this.state.possibleProjects,this.state.possibleProjectsRev,this.state.possibleTags,this.state.possibleTagsRev]})),f.a.createElement("div",null,function(){if(t.state.dueSoon.length>0)return f.a.createElement("div",{className:"page-label"},t.props.localizations.ds,f.a.createElement(m.a,{className:"count-badge"},t.state.dueSoon.length))}(),this.state.dueSoon.map((function(e){return f.a.createElement(v.a,{tid:e,key:e+"-"+t.updatePrefix,uid:t.props.uid,engine:t.props.engine,gruntman:t.props.gruntman,availability:t.state.availability[e],datapack:[t.state.tagSelects,t.state.projectSelects,t.state.possibleProjects,t.state.possibleProjectsRev,t.state.possibleTags,t.state.possibleTagsRev]})}))),f.a.createElement("div",null,f.a.createElement("div",{className:"timeline-button"},f.a.createElement("a",{onClick:function(){return t.setState({timelineShown:!t.state.timelineShown})},style:{marginLeft:15,marginTop:20,display:"inline-block",fontWeight:600,fontSize:13,cursor:"pointer"}},f.a.createElement("i",{className:"fas fa-calendar-week",style:{paddingRight:5}})," ",this.state.timelineShown?this.props.localizations.hide:this.props.localizations.show," ",this.props.localizations.timeline)),function(){if(t.state.timelineShown)return t.state.timeline.map((function(e){return"task"===e.type?f.a.createElement(v.a,{tid:e.content,key:e.content+"-"+t.updatePrefix,uid:t.props.uid,engine:t.props.engine,gruntman:t.props.gruntman,availability:t.state.availability[e.content],datapack:[t.state.tagSelects,t.state.projectSelects,t.state.possibleProjects,t.state.possibleProjectsRev,t.state.possibleTags,t.state.possibleTagsRev]}):"label"===e.type?f.a.createElement("div",{className:"timeline-box"},f.a.createElement("div",{className:"timeline-line-container"},f.a.createElement("div",{className:"timeline-line"},"\xa0")),f.a.createElement("div",{className:"timeline-text"},f.a.createElement("span",{className:"timeline-weekname"},e.content.toLocaleDateString(t.props.localizations.getLanguage(),{weekday:"long",year:"numeric",month:"long",day:"numeric"})))):void 0}))}(),function(){if(t.state.timelineShown)return f.a.createElement("span",{style:{fontSize:8,color:"var(--commitid)",paddingLeft:10,paddingTop:10}},"Commit ID: ","48ed17cacc87266ab57f5e7ab969d806a3bc628f")}()),f.a.createElement(b.a,{visible:this.state.inbox.length+this.state.dueSoon.length==0&&!this.state.timelineShown,title:"Nothing upcoming.",subtitle:"Expand the timeline to see more!"}),f.a.createElement("div",{className:"bottom-helper"},"\xa0")))))}}]),s}(h.Component);t.a=w}).call(this,a(54))},244:function(e,t,a){e.exports=a.p+"static/media/BlkArt_0.d05a2ddc.png"},245:function(e,t,a){e.exports=a.p+"static/media/BlkArt_2.ae3a9a3c.png"},246:function(e,t,a){"use strict";(function(e){var n=a(28),r=a(9),s=a(10),i=a(7),o=a(11),c=a(12),u=a(34),l=a(1),p=a.n(l),d=a(3),m=a(13),h=a(16),f=a(6),g=a(0),v=a.n(g),b=a(247),k=(a(170),a(65),a(67)),y=a(42),w=a(103),x=a(248),j=a(37),E=0;function _(e){function t(e,t,a){var n=e,r=t,s=a,i=function(e){return 1==(e=e.toString(16)).length?"0"+e:e},o=Math.ceil(parseInt(n.substring(0,2),16)*s+parseInt(r.substring(0,2),16)*(1-s)),c=Math.ceil(parseInt(n.substring(2,4),16)*s+parseInt(r.substring(2,4),16)*(1-s)),u=Math.ceil(parseInt(n.substring(4,6),16)*s+parseInt(r.substring(4,6),16)*(1-s));return i(o)+i(c)+i(u)}var a=Object(g.useState)(new Date),n=Object(h.a)(a,2),r=n[0],s=n[1],i=r.getMonth(),o=r.getFullYear(),c=new Date(o,i,1),l=new Date(o,i+1,0),f=new Date(o,i,0),b=c.getDay()+1,k=Object(m.a)(new Array(b-1)).map((function(e,t){return{type:"pre",content:t+f.getDate()-(b-1)+1}})),y=Object(m.a)(new Array(6-l.getDay()===-1?6:6-l.getDay())).map((function(e,t){return{type:"post",content:t+1}})),w=Object(m.a)(new Array(l.getDate())).map((function(e,t){return{type:"actual",content:t+1}})),j=Object(g.useState)({}),_=Object(h.a)(j,2),O=_[0],S=_[1],D=Object(g.useState)(!1),N=Object(h.a)(D,2),C=N[0],T=N[1],P=Object(g.useState)([]),R=Object(h.a)(P,2),z=R[0],I=R[1];Array.prototype.max=function(){return Math.max.apply(null,this)};var M=function(){var a=Object(d.a)(p.a.mark((function a(){var n,r,s,i,o,u,d,f,g,v;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=new Map,r=new Map,s=new Map,i={},a.next=6,e.engine.db.selectTasksInRange(e.uid,c,l,!0);case 6:a.sent.forEach((function(e){var t=Object(h.a)(e,2),a=t[0],i=t[1],o=new Date(1e3*i.due.seconds);o.setHours(0,0,0,0);var c=o.getDate();n.has(c)?n.set(c,n.get(c)+1):n.set(c,1),r.has(c)?r.set(c,[].concat(Object(m.a)(r.get(c)),[i.name])):r.set(c,[i.name]),s.has(c)?s.set(c,[].concat(Object(m.a)(s.get(c)),[a])):s.set(c,[a])})),o=Array.from(n.values()),u=Array.from(r.values()),d=Array.from(s.values()),o.length>0&&(f=o.max(),g=getComputedStyle(document.body),v=o.map((function(e){return t(g.getPropertyValue("--heatmap-darkest").trim().slice(1),g.getPropertyValue("--heatmap-lightest").trim().slice(1),e/f)})),Array.from(n.keys()).forEach((function(e,t){i[e]={color:v[t],value:o[t],names:u[t],ids:d[t]}}))),S(i);case 13:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(g.useEffect)((function(){M()}),[r,E]),v.a.createElement("div",{id:"calendar-page-bigol-calendar-wrapper",style:Object(u.a)({display:"inline-block",height:"85%",width:"95%"},e.style)},v.a.createElement(x.a,{uid:e.uid,engine:e.engine,isShown:C,onDidDismiss:function(){return T(!1)},list:z,availability:e.availability,datapack:e.datapack,gruntman:e.gruntman,currentDate:r}),v.a.createElement("div",{id:"bigol-calendar-wrapper"},v.a.createElement("div",{id:"bigol-calendar-daterow"},v.a.createElement("span",{className:"bigol-calendar-daterow-item"},"Sun"),v.a.createElement("span",{className:"bigol-calendar-daterow-item"},"Mon"),v.a.createElement("span",{className:"bigol-calendar-daterow-item"},"Tues"),v.a.createElement("span",{className:"bigol-calendar-daterow-item"},"Wed"),v.a.createElement("span",{className:"bigol-calendar-daterow-item"},"Thu"),v.a.createElement("span",{className:"bigol-calendar-daterow-item"},"Fri"),v.a.createElement("span",{className:"bigol-calendar-daterow-item"},"Sat")),v.a.createElement("div",{id:"bigol-calendar-container"},[].concat(Object(m.a)(k),Object(m.a)(w),Object(m.a)(y)).map((function(t){return v.a.createElement("span",{className:"bigol-calendar-container-item calendar-container-item-".concat(t.type," calendar-container-item-").concat(t.content),style:{backgroundColor:O[t.content]&&"actual"===t.type?"#".concat(O[t.content].color):"inherit"},onClick:function(a){var n;"pre"===t.type&&(n=new Date(f.getFullYear(),f.getMonth(),t.content)),"actual"===t.type&&(n=new Date(c.getFullYear(),c.getMonth(),t.content)),"post"===t.type&&(n=new Date(c.getFullYear(),c.getMonth()+1,t.content)),s(n),O[t.content]?I(O[t.content].ids):I([]),T(!0),e.onDateSelected&&e.onDateSelected(n)}},v.a.createElement("div",{className:"calendar-date-text"},t.content,v.a.createElement("span",{className:"calendar-date-value"},O[t.content]&&"actual"===t.type?"".concat(O[t.content].value," Tasks"):null)),v.a.createElement("div",{style:{marginLeft:6,marginRight:5,marginBottom:2}},(O[t.content]&&"actual"===t.type?O[t.content].names:[]).map((function(e){return v.a.createElement("span",{className:"calendar-date-taskname"},v.a.createElement("div",{className:"calendar-task-circle"},"\xa0"),e)}))))}))),v.a.createElement("div",{id:"bigol-calendar-tools"},v.a.createElement("a",{className:"fas fa-caret-left calendar-button",onClick:function(){var t=new Date(c.getFullYear(),c.getMonth()-1,1);s(t),e.onDateSelected&&e.onDateSelected(t)}}),v.a.createElement("a",{className:"fas fa-caret-right calendar-button",onClick:function(){var t=new Date(c.getFullYear(),c.getMonth()+1,1);s(t),e.onDateSelected&&e.onDateSelected(t)}}),v.a.createElement("div",{className:"calendar-today",onClick:function(){s(new Date),e.onDateSelected&&e.onDateSelected(new Date)}},e.gruntman.localizations.clbtd)),v.a.createElement("div",{id:"bigol-calendar-infopanel"},v.a.createElement("div",{id:"bigol-calendar-dategroup"},v.a.createElement("div",{className:"bigol-calendar-infopanel-dateselected"},r.getDate()),v.a.createElement("div",{className:"bigol-calendar-infopanel-datename"},r.toLocaleString(e.gruntman.localizations.getLanguage(),{weekday:"long"})),v.a.createElement("div",{className:"bigol-calendar-infopanel-month"},r.toLocaleString(e.gruntman.localizations.getLanguage(),{month:"long"})),v.a.createElement("div",{className:"bigol-calendar-infopanel-year"},r.getFullYear())))))}var O=function(t){Object(o.a)(u,t);var a=Object(c.a)(u);function u(e){var t;Object(r.a)(this,u),t=a.call(this,e);var n=new Date;return n.setHours(0,0,0,0),t.state={possibleProjects:{},possibleTags:{},possibleProjectsRev:{},possibleTagsRev:{},availability:[],projectSelects:[],tagSelects:[],projectDB:{},currentDate:n,taskList:[],popoverIsVisible:!1},t.updatePrefix=t.random(),t.repeater=v.a.createRef(),j(Object(i.a)(t)),t}return Object(s.a)(u,[{key:"showEdit",value:function(){this.setState({showEdit:!0})}},{key:"hideEdit",value:function(){this.setState({showEdit:!1})}},{key:"componentWillUnmount",value:function(){this.props.gruntman.halt()}},{key:"refresh",value:function(){var e=Object(d.a)(p.a.mark((function e(){var t,a,r,s,i,o,c,u,l,m;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.engine.db.getItemAvailability(this.props.uid);case 2:return t=e.sent,e.next=5,this.props.engine.db.getProjectsandTags(this.props.uid);case 5:for(i in a=e.sent,r=[],s=[],a[1][0])s.push({value:i,label:a[1][0][i]});return o=this,e.next=12,Object(d.a)(p.a.mark((function e(){var t,a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,o.props.engine.db.getTopLevelProjects(o.props.uid);case 3:a=e.sent[0],e.t0=p.a.keys(a);case 5:if((e.t1=e.t0()).done){e.next=14;break}return n=e.t1.value,e.t2=t,e.next=10,o.props.engine.db.getProjectStructure(o.props.uid,n,!0);case 10:e.t3=e.sent,e.t2.push.call(e.t2,e.t3),e.next=5;break;case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e)})))();case 12:return c=e.sent,u=function e(t,s){if(s||(s=""),r.push({value:t.id,label:s+a[0][0][t.id]}),t.children){var i,o=Object(n.a)(t.children);try{for(o.s();!(i=o.n()).done;){var c=i.value;"project"===c.type&&e(c.content,s+":: ")}}catch(u){o.e(u)}finally{o.f()}}},c.map((function(e){return u(e)})),(l=new Date(this.state.currentDate)).setHours(23,59,59,60),e.next=19,this.props.engine.db.selectTasksInRange(this.props.uid,this.state.currentDate,l);case 19:m=e.sent,E++,this.setState({possibleProjects:a[0][0],possibleTags:a[1][0],possibleProjectsRev:a[0][1],possibleTagsRev:a[1][1],availability:t,projectSelects:r,tagSelects:s,projectDB:c,taskList:m});case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.refresh(),this.props.gruntman.registerRefresher(this.refresh.bind(this))}},{key:"random",value:function(){return(65536*(1+Math.random())|0).toString(16)+"-"+(65536*(1+Math.random())|0).toString(16)}},{key:"render",value:function(){var t=this;return v.a.createElement(f.g,null,v.a.createElement("div",{className:"page-invis-drag "+(Object(f.y)("electron")?window.navigator.platform.includes("Mac")?"darwin":"win32"===e.platform?"windows":void 0:"normal")},"\xa0"),v.a.createElement("div",{className:"page-content "+(Object(f.y)("electron")?window.navigator.platform.includes("Mac")?"darwin":"win32"===e.platform?"windows":void 0:"normal")},v.a.createElement("div",{className:"header-container"},v.a.createElement("div",{style:{display:"inline-block"}},v.a.createElement("div",null,v.a.createElement(f.e,null,v.a.createElement("i",{className:"fas fa-bars",style:{marginLeft:20,color:"var(--page-header-sandwich)"}})),v.a.createElement("h1",{className:"page-title"},v.a.createElement("i",{style:{paddingRight:10},className:"fas fa-calendar-alt"}),this.props.gruntman.localizations.calendar),v.a.createElement(k.a,{effect:"solid",offset:{top:3},backgroundColor:"black",className:"tooltips"})))),v.a.createElement("div",{style:{marginLeft:10,marginRight:10,overflowY:"scroll",height:"100%"}},v.a.createElement("div",{id:"calendar-page-wrapper"},t.props.isMobile()?v.a.createElement(w.a,{gruntman:t.props.gruntman,uid:t.props.uid,engine:t.props.engine,isShown:t.state.popoverIsVisible,onDidDismiss:function(){return t.setState({popoverIsVisible:!1})},onDateSelected:function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Date(t.getTime())).setHours(23,59,59,60),e.next=4,this.props.engine.db.selectTasksInRange(this.props.uid,t,a);case 4:n=e.sent,this.setState({currentDate:t,taskList:n});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}().bind(t)}):v.a.createElement(_,{gruntman:t.props.gruntman,uid:t.props.uid,engine:t.props.engine,availability:t.state.availability,datapack:[t.state.tagSelects,t.state.projectSelects,t.state.possibleProjects,t.state.possibleProjectsRev,t.state.possibleTags,t.state.possibleTagsRev]}),function(){if(t.props.isMobile())return v.a.createElement("div",{id:"calendar-page-taskpage-wrapper"},v.a.createElement("span",{id:"calendar-page-header"},v.a.createElement("div",{class:"calendar-page-count"},t.state.taskList.length),v.a.createElement("div",{class:"calendar-page-title"},"tasks due on"),v.a.createElement("div",{class:"calendar-page-date"},t.state.currentDate.toLocaleString("en-us",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))),t.state.taskList.map((function(e){return v.a.createElement(y.a,{tid:e,key:e+"-"+t.updatePrefix,uid:t.props.uid,engine:t.props.engine,gruntman:t.props.gruntman,availability:t.state.availability[e],datapack:[t.state.tagSelects,t.state.projectSelects,t.state.possibleProjects,t.state.possibleProjectsRev,t.state.possibleTags,t.state.possibleTagsRev]})})))}(),v.a.createElement("div",{className:"bottom-helper"},"\xa0")))))}}]),u}(g.Component);t.a=Object(b.withGetScreen)(O,{mobileLimit:720,tabletLimit:768,shouldListenOnResize:!0})}).call(this,a(54))},248:function(e,t,a){"use strict";var n=a(6),r=a(0),s=a.n(r),i=(a(170),a(80),a(27),a(42));t.a=function(e){var t=Object(r.useRef)([]);return Object(r.useEffect)((function(){t.current=e.list.map((function(e){return Object(r.createRef)()}))}),[e.list]),s.a.createElement(n.f,{ref:e.reference,isOpen:e.isShown,onDidDismiss:function(){e.onDidDismiss&&e.onDidDismiss()},style:{borderRadius:5},cssClass:"calendar-list-popover"},s.a.createElement("div",{id:"airplane-hanger"})," ",s.a.createElement("div",{className:"popover-list"},s.a.createElement("span",{id:"calendar-page-header"},s.a.createElement("div",{class:"calendar-page-count"},e.list.length),s.a.createElement("div",{class:"calendar-page-title"},"tasks due on"),s.a.createElement("div",{class:"calendar-page-date"},e.currentDate.toLocaleString("en-us",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))),e.list.map((function(a,n){return s.a.createElement("div",{ref:t.current[n]},s.a.createElement(i.a,{tid:a,key:a,uid:e.uid,engine:e.engine,gruntman:e.gruntman,availability:e.availability[a],datapack:e.datapack,envelope:t.current[n],onModal:!0}))})),s.a.createElement("div",{style:{marginTop:10}},s.a.createElement("a",{className:"newbutton",onClick:function(){e.gruntman.do("task.create",{uid:e.uid,pid:"",name:""}).then((function(e){}))}},s.a.createElement("div",null,s.a.createElement("i",{className:"fas fa-plus-circle subproject-icon"}),s.a.createElement("div",{style:{display:"inline-block",fontWeight:500}},"wheee"))),s.a.createElement("div",{className:"bottom-helper"},"\xa0")),s.a.createElement("div",{className:"bottom-helper",style:{height:150}},"\xa0")))}},249:function(e,t,a){"use strict";(function(e){var n=a(28),r=a(1),s=a.n(r),i=a(3),o=a(9),c=a(10),u=a(7),l=a(11),p=a(12),d=a(6),m=a(0),h=a.n(m),f=(a(517),a(65),a(42)),g=a(37);function v(e,t){this.type=e,this.contents=t}var b=function(t){Object(l.a)(r,t);var a=Object(p.a)(r);function r(e){var t;return Object(o.a)(this,r),(t=a.call(this,e)).state={taskList:[],tasksShown:1,taskCats:["Today","Yesterday","This Week","This Month","Even Before"],rendering:!0,possibleProjects:{},possibleTags:{},possibleProjectsRev:{},possibleTagsRev:{},availability:[],projectSelects:[],tagSelects:[],projectDB:{}},t.updatePrefix=t.random(),g(Object(u.a)(t)),t}return Object(c.a)(r,[{key:"componentWillUnmount",value:function(){this.props.gruntman.halt()}},{key:"refresh",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,r,o,c,u,l,p,d,m,h=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,this.props.engine.db.getCompletedTasks(this.props.uid);case 3:return a=e.sent,e.next=6,this.props.engine.db.getItemAvailability(this.props.uid);case 6:return r=e.sent,e.next=9,this.props.engine.db.getProjectsandTags(this.props.uid);case 9:for(l in o=e.sent,a.forEach((function(e,a){t.push(new v("label",h.state.taskCats[a])),e.forEach((function(e){t.push(new v("task",e))}))})),c=[],u=[],o[1][0])u.push({value:l,label:o[1][0][l]});return p=this,e.next=17,Object(i.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,p.props.engine.db.getTopLevelProjects(p.props.uid);case 3:a=e.sent[0],e.t0=s.a.keys(a);case 5:if((e.t1=e.t0()).done){e.next=14;break}return n=e.t1.value,e.t2=t,e.next=10,p.props.engine.db.getProjectStructure(p.props.uid,n,!0);case 10:e.t3=e.sent,e.t2.push.call(e.t2,e.t3),e.next=5;break;case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e)})))();case 17:d=e.sent,m=function e(t,a){if(a||(a=""),c.push({value:t.id,label:a+o[0][0][t.id]}),t.children){var r,s=Object(n.a)(t.children);try{for(s.s();!(r=s.n()).done;){var i=r.value;"project"===i.type&&e(i.content,a+":: ")}}catch(u){s.e(u)}finally{s.f()}}},d.map((function(e){return m(e)})),this.setState({taskList:t,rendering:!1,possibleProjects:o[0][0],possibleTags:o[1][0],possibleProjectsRev:o[0][1],possibleTagsRev:o[1][1],availability:r,projectSelects:c,tagSelects:u,projectDB:d});case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.refresh(),this.props.gruntman.registerRefresher(this.refresh.bind(this));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleFetchMore",value:function(){var e=this;this.setState({rendering:!0});setTimeout((function(){e.setState({rendering:!1})}),2),setTimeout((function(){e.setState({tasksShown:e.state.tasksShown+1}),e.setState({rendering:!1})}),1)}},{key:"random",value:function(){return(65536*(1+Math.random())|0).toString(16)+"-"+(65536*(1+Math.random())|0).toString(16)}},{key:"render",value:function(){var t=this;return h.a.createElement(d.g,null,h.a.createElement("div",{style:{overflowY:"scroll"}},h.a.createElement("div",{className:"page-invis-drag "+(Object(d.y)("electron")?window.navigator.platform.includes("Mac")?"darwin":"win32"===e.platform?"windows":void 0:"normal")},"\xa0"),h.a.createElement("div",{className:"page-content "+(Object(d.y)("electron")?window.navigator.platform.includes("Mac")?"darwin":"win32"===e.platform?"windows":void 0:"normal")},h.a.createElement("div",{className:"header-container"},h.a.createElement("div",{style:{display:"inline-block"}},h.a.createElement(d.e,null,h.a.createElement("i",{class:"fas fa-bars",style:{marginLeft:20,color:"var(--page-header-sandwich)"}})),h.a.createElement("h1",{className:"page-title"},h.a.createElement("i",{style:{paddingRight:10},className:"fas fa-check-circle"}),"Completed"))),h.a.createElement("div",{style:{overflowY:"scroll"}},this.state.taskList.slice(0,10*this.state.tasksShown).map((function(e,a){return h.a.createElement("div",{style:{marginLeft:10,marginRight:10}},"label"==e.type?t.state.taskList[a+1]?"label"==t.state.taskList[a+1].type||t.state.taskList.slice(0,10*t.state.tasksShown).length==a+1?"":h.a.createElement("p",{className:"page-label",style:{marginBottom:0}},e.contents):"":h.a.createElement(f.a,{tid:e.contents,startingCompleted:!0,key:e.contents+"-"+t.updatePrefix,uid:t.props.uid,engine:t.props.engine,gruntman:t.props.gruntman,availability:t.state.availability[e.contents],datapack:[t.state.tagSelects,t.state.projectSelects,t.state.possibleProjects,t.state.possibleProjectsRev,t.state.possibleTags,t.state.possibleTagsRev]}))})),h.a.createElement("div",{className:"fetch-more"},this.state.rendering?h.a.createElement("p",{className:"loader"},"Loading..."):h.a.createElement("p",{onClick:this.handleFetchMore},"Fetch more...")),h.a.createElement("div",{className:"bottom-helper"},"\xa0")))))}}]),r}(m.Component);t.a=b}).call(this,a(54))},250:function(e,t,a){"use strict";(function(e){var n=a(28),r=a(1),s=a.n(r),i=a(3),o=a(9),c=a(10),u=a(7),l=a(11),p=a(12),d=a(6),m=a(0),h=a.n(m),f=(a(236),a(65),a(67)),g=a(20),v=a(101),b=a(42),k=a(251),y=a(37),w=function(t){Object(l.a)(r,t);var a=Object(p.a)(r);function r(e){var t;return Object(o.a)(this,r),(t=a.call(this,e)).state={taskList:[],perspectiveName:"",perspectiveQuery:"",perspectiveAvail:{},perspectiveTord:{},showEdit:"do"===t.props.options,possibleProjects:{},possibleTags:{},possibleProjectsRev:{},possibleTagsRev:{},availability:[],projectSelects:[],tagSelects:[],projectDB:{}},t.updatePrefix=t.random(),t.repeater=h.a.createRef(),y(Object(u.a)(t)),t}return Object(c.a)(r,[{key:"showEdit",value:function(){this.setState({showEdit:!0})}},{key:"hideEdit",value:function(){this.setState({showEdit:!1})}},{key:"componentWillUnmount",value:function(){this.props.gruntman.halt()}},{key:"refresh",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,r,o,c,u,l,p,d,m,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.engine.db.getPerspectives(this.props.uid);case 2:return t=e.sent,a=t[0][this.props.id],e.next=6,this.props.engine.perspective.calc(this.props.uid,a.query,a.avail,a.tord);case 6:return r=e.sent,e.next=9,this.props.engine.db.getItemAvailability(this.props.uid);case 9:return o=e.sent,e.next=12,this.props.engine.db.getProjectsandTags(this.props.uid);case 12:for(p in c=e.sent,u=[],l=[],c[1][0])l.push({value:p,label:c[1][0][p]});return d=this,e.next=19,Object(i.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,d.props.engine.db.getTopLevelProjects(d.props.uid);case 3:a=e.sent[0],e.t0=s.a.keys(a);case 5:if((e.t1=e.t0()).done){e.next=14;break}return n=e.t1.value,e.t2=t,e.next=10,d.props.engine.db.getProjectStructure(d.props.uid,n,!0);case 10:e.t3=e.sent,e.t2.push.call(e.t2,e.t3),e.next=5;break;case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e)})))();case 19:m=e.sent,h=function e(t,a){if(a||(a=""),u.push({value:t.id,label:a+c[0][0][t.id]}),t.children){var r,s=Object(n.a)(t.children);try{for(s.s();!(r=s.n()).done;){var i=r.value;"project"===i.type&&e(i.content,a+":: ")}}catch(o){s.e(o)}finally{s.f()}}},m.map((function(e){return h(e)})),this.setState({taskList:r,perspectiveName:a.name,perspectiveQuery:a.query,perspectiveAvail:a.avail,perspectiveTord:a.tord,possibleProjects:c[0][0],possibleTags:c[1][0],possibleProjectsRev:c[0][1],possibleTagsRev:c[1][1],availability:o,projectSelects:u,tagSelects:l,projectDB:m});case 23:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateName",value:function(e){var t=this;e&&(this.props.gruntman.registerScheduler((function(){t.props.gruntman.do("perspective.update__perspective",{uid:t.props.uid,id:t.props.id,payload:{name:e.target.value}}).then(t.props.menuRefresh)}),"perspective.this.".concat(this.props.id,"-update")),this.setState({perspectiveName:e.target.value}))}},{key:"handleDelete",value:function(){var e=this;this.props.history.push("/upcoming"),this.props.paginate("upcoming"),this.props.gruntman.do("perspective.delete__perspective",{uid:this.props.uid,id:this.props.id}).then((function(){e.props.menuRefresh()}))}},{key:"componentDidMount",value:function(){this.refresh(),this.props.gruntman.registerRefresher(this.refresh.bind(this))}},{key:"componentDidUpdate",value:function(e,t,a){e.id!==this.props.id&&(this.setState({taskList:[],perspectiveName:"",perspectiveQuery:"",perspectiveAvail:{},perspectiveTord:{},showEdit:"do"===this.props.options,possibleProjects:{},possibleTags:{},possibleProjectsRev:{},possibleTagsRev:{},availability:[],projectSelects:[],tagSelects:[],projectDB:{}}),this.refresh()),e.id!==this.props.id&&"do"===this.props.options&&this.setState({showEdit:!0})}},{key:"random",value:function(){return(65536*(1+Math.random())|0).toString(16)+"-"+(65536*(1+Math.random())|0).toString(16)}},{key:"render",value:function(){var t=this;return h.a.createElement(d.g,null,h.a.createElement(k.a,{reference:this.repeater,isShown:this.state.showEdit,onDidDismiss:this.hideEdit,uid:this.props.uid,engine:this.props.engine,gruntman:this.props.gruntman,id:this.props.id,perspectiveName:this.state.perspectiveName,query:this.state.perspectiveQuery,avail:this.state.perspectiveAvail,tord:this.state.perspectiveTord,menuRefresh:this.props.menuRefresh,updateName:this.updateName,startHighlighted:"do"===this.props.options}),h.a.createElement("div",{className:"page-invis-drag "+(Object(d.y)("electron")?window.navigator.platform.includes("Mac")?"darwin":"win32"===e.platform?"windows":void 0:"normal")},"\xa0"),h.a.createElement("div",{className:"page-content "+(Object(d.y)("electron")?window.navigator.platform.includes("Mac")?"darwin":"win32"===e.platform?"windows":void 0:"normal")},h.a.createElement("div",{className:"header-container"},h.a.createElement("div",{style:{display:"inline-block"}},h.a.createElement("div",null,h.a.createElement(d.e,null,h.a.createElement("i",{className:"fas fa-bars",style:{marginLeft:20,color:"var(--page-header-sandwich)"}})),h.a.createElement("h1",{className:"page-title"},h.a.createElement("i",{style:{paddingRight:10},className:"fas fa-layer-group"}),h.a.createElement("input",{className:"editable-title",onChange:function(e){e.persist(),t.updateName(e)},value:this.state.perspectiveName})),h.a.createElement(f.a,{effect:"solid",offset:{top:3},backgroundColor:"black",className:"tooltips"}),h.a.createElement("div",{className:"greeting-container",style:{marginLeft:11,marginTop:7,marginBottom:5}},h.a.createElement("a",{onClick:this.showEdit,"data-tip":"LOCALIZE: Edit",className:"perspective-icon",style:{borderColor:"var(--task-icon-ring)",cursor:"pointer"}},h.a.createElement("i",{className:"fas fa-edit",style:{margin:3,color:"var(--task-icon-text)",fontSize:10,transform:"translate(2px, -2px)"}})),h.a.createElement("a",{onClick:this.handleDelete,"data-tip":"LOCALIZE: Delete",className:"perspective-icon",style:{borderColor:"var(--task-icon-ring)",cursor:"pointer",marginLeft:5}},h.a.createElement("i",{className:"fas fa-trash",style:{margin:3,color:"var(--task-icon-text)",fontSize:10,transform:"translate(2px, -2px)"}})))))),h.a.createElement("div",{style:{marginLeft:10,marginRight:10,overflowY:"scroll"}},this.state.taskList.map((function(e){return h.a.createElement(b.a,{tid:e,key:e+"-"+t.updatePrefix,uid:t.props.uid,engine:t.props.engine,gruntman:t.props.gruntman,availability:t.state.availability[e],datapack:[t.state.tagSelects,t.state.projectSelects,t.state.possibleProjects,t.state.possibleProjectsRev,t.state.possibleTags,t.state.possibleTagsRev]})})),h.a.createElement(v.a,{visible:0==this.state.taskList.length,title:"Nothing in this perspective.",subtitle:"Add some more filters?"}),h.a.createElement("div",{className:"bottom-helper"},"\xa0"))))}}]),r}(m.Component);t.a=Object(g.g)(w)}).call(this,a(54))},251:function(e,t,a){"use strict";var n=a(1),r=a.n(n),s=a(16),i=a(13),o=a(3),c=a(9),u=a(10),l=a(7),p=a(11),d=a(12),m=a(6),h=a(0),f=a.n(h),g=(a(223),a(236),a(80),a(27),a(37)),v=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),n=t.call(this,e),g(Object(l.a)(n)),n.state={inputEvent:"",expanded:!1,items:[],inited:!1,query:"",selected:0,inputValue:"",idStore:""},n.name=f.a.createRef(),n.currentlySelected=f.a.createRef(),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.setState({idStore:this.props.id}),this.props.startHighlighted&&this.name.current.focus(),this.setState({inputValue:this.props.query}),console.log(this.props.query)}},{key:"componentDidUpdate",value:function(){this.props.id!=this.state.idStore&&this.setState({inited:!1,idStore:this.props.id,inputEvent:"",inputValue:""}),this.props.query==this.state.inputValue||this.state.inited||(this.props.query?(this.setState({inputValue:this.props.query,inited:!0}),console.log("qury")):(this.setState({inputValue:"",inited:!0}),console.log("notquery")))}},{key:"getItems",value:function(){var e=Object(o.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.engine.db.getProjectsandTags(this.props.uid);case 2:t=e.sent,(a=[]).push.apply(a,Object(i.a)(Object.entries(t[1][0]).map((function(e){var t=Object(s.a)(e,2),a=t[0];return["#"+t[1],"tags",a,"fas fa-tags"]})))),a.push.apply(a,Object(i.a)(Object.entries(t[0][0]).map((function(e){var t=Object(s.a)(e,2),a=t[0];return["."+t[1],"projects",a,"fas fa-tasks"]})))),this.setState({items:a,query:""});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"filterItems",value:function(e){return this.state.items.filter((function(t){return t[0].toLowerCase().indexOf(e.toLowerCase())>-1}))}},{key:"handleQueryChange",value:function(e){var t=this;this.props.gruntman.registerScheduler((function(){t.props.gruntman.do("perspective.update__perspective",{uid:t.props.uid,id:t.props.id,payload:{query:e}})}),"perspective.this.".concat(this.props.id,"-update"))}},{key:"handleHelp",value:function(){window.open("https://condutiondocs.shabang.cf/Perspective-Menus-408aae7988a345c0912644267ccda4d2#35a4686c83eb4cc589d3570a05de6b5a")}},{key:"handleAppend",value:function(e){var t="[".concat(e[0],"]");this.setState({inputValue:this.state.inputValue+=t}),this.handleQueryChange(this.state.inputValue)}},{key:"handleKeydown",value:function(e){var t=this,a=e.key;if("Enter"==a){var n=this.filterItems(this.state.query)[this.state.selected];console.log(n),this.handleAppend(n)}else{var r=this.state.selected,s=this.filterItems(this.state.query).length-1;"ArrowUp"==a||e.ctrlKey&&"p"==a?(r>0?this.setState({selected:r-1}):this.setState({selected:s}),this.currentlySelected&&this.currentlySelected.current.scrollIntoView({behavior:"smooth",block:"end"})):("ArrowDown"==a||e.ctrlKey&&"n"==a)&&(r==s?this.setState({selected:0}):this.setState({selected:r+1}),this.currentlySelected&&(this.name.current.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout((function(){t.currentlySelected.current.scrollIntoView({block:"end"})}),10)))}}},{key:"render",value:function(){var e=this;return f.a.createElement(m.f,{ref:this.props.reference,isOpen:this.props.isShown,onWillPresent:function(){e.props.gruntman.lockUpdates(),e.getItems()},onDidDismiss:function(){e.props.gruntman.unlockUpdates(),e.props.updateName(e.state.inputEvent),e.props.onDidDismiss&&e.props.onDidDismiss()},style:{borderRadius:5},cssClass:"perspective-modal ".concat(this.state.expanded?"expanded":"")},f.a.createElement("div",{className:"inner-content"},f.a.createElement("div",null,f.a.createElement("div",{className:"perspective-header"},f.a.createElement("span",{style:{display:"flex",alignItems:"center",width:"100%",whiteSpace:"nowrap"}},f.a.createElement("b",{className:"bold-prefix"},this.props.gruntman.localizations.perspective_build_callout),f.a.createElement("input",{className:"editable-title pbuilder-pname",ref:this.name,defaultValue:this.props.perspectiveName,onChange:function(t){t.persist(),e.props.updateName(t),e.setState({inputEvent:t})},style:{minWidth:0},placeholder:"@NEEDLOC Tap to set name"}),f.a.createElement("div",{className:"repeat-task-name"},this.state.name)),f.a.createElement("a",{className:"edit-close",onClick:this.props.onDidDismiss,style:{transform:"translate(-5px, 5px)"}},f.a.createElement("i",{className:"fa fa-check check"}))),f.a.createElement("div",{className:"build-input"},f.a.createElement("span",{className:"bold-prefix",style:{minWidth:"70px",marginTop:"4px"}},"Filter by")," ",f.a.createElement("input",{className:"build-input-edit",value:this.state.inputValue,onChange:function(t){t.persist(),t&&e.handleQueryChange(t.target.value),e.setState({inputValue:t.target.value})},placeholder:"LOCALIZE: perspective query"}),f.a.createElement("i",{className:"fas fa-plus-circle check",style:{marginTop:"10px",marginLeft:"8px"},onClick:function(){return e.setState({expanded:!e.state.expanded})}})),f.a.createElement("div",{className:"perspective-basic-row"},f.a.createElement("span",{className:"pbasic-container",style:{marginRight:"25px"}},f.a.createElement("span",null,f.a.createElement("i",{className:"repeat-label fas fa-exchange-alt"}),f.a.createElement("span",{className:"perspective-label"},this.props.gruntman.localizations.perspective_include)),f.a.createElement(m.l,{className:"perspective-select",interface:"popover",value:this.props.avail,mode:"ios",onIonChange:function(t){e.props.gruntman.do("perspective.update__perspective",{uid:e.props.uid,id:e.props.id,payload:{avail:t.detail.value}})}},f.a.createElement(m.m,{className:"repeat-select__option",value:"remain"},this.props.gruntman.localizations.psp_rem),f.a.createElement(m.m,{className:"repeat-select__option",value:"avail"},this.props.gruntman.localizations.psp_avil),f.a.createElement(m.m,{className:"repeat-select__option",value:"flagged"},this.props.gruntman.localizations.psp_flg))),f.a.createElement("span",{className:"pbasic-container"},f.a.createElement("span",null,f.a.createElement("i",{className:"repeat-label fas fa-sort-amount-down-alt"}),f.a.createElement("span",{className:"perspective-label"},this.props.gruntman.localizations.perspective_order)),f.a.createElement(m.l,{className:"perspective-select",interface:"popover",value:this.props.tord,mode:"ios",onIonChange:function(t){e.props.gruntman.do("perspective.update__perspective",{uid:e.props.uid,id:e.props.id,payload:{tord:t.detail.value}})}},f.a.createElement(m.m,{className:"repeat-select__option",value:"duas"},this.props.gruntman.localizations.psp_abd),f.a.createElement(m.m,{className:"repeat-select__option",value:"duds"},this.props.gruntman.localizations.psp_dbd),f.a.createElement(m.m,{className:"repeat-select__option",value:"deas"},this.props.gruntman.localizations.psp_abe),f.a.createElement(m.m,{className:"repeat-select__option",value:"deds"},this.props.gruntman.localizations.psp_dbe),f.a.createElement(m.m,{className:"repeat-select__option",value:"alph"},this.props.gruntman.localizations.psp_alpha)),f.a.createElement("div",{className:"help-icon",onClick:this.handleHelp},f.a.createElement("i",{className:"far fa-question-circle"}))))),f.a.createElement("div",{className:"dropdown"},this.state.expanded?f.a.createElement("div",{style:{overflowY:"hidden"}},f.a.createElement("div",{className:"pmodal-content-wrapper"},f.a.createElement(m.k,{autoFocus:!0,animated:!0,spellcheck:!0,className:"search-add",placeholder:"Add 'OR' relation..   see '?' for more",onIonChange:function(t){return e.setState({query:t.detail.value,selected:0})},debounce:0,onKeyDown:this.handleKeydown}),f.a.createElement("div",{className:"option-wrapper"},this.filterItems(this.state.query).map((function(t,a){return f.a.createElement("div",{className:"poption-line ".concat(e.state.selected==a?"poption-text-hover":""),ref:e.state.selected==a?e.currentlySelected:null,onMouseEnter:function(){e.setState({selected:a})},onClick:function(){e.handleAppend(t)}},f.a.createElement("i",{className:"".concat(t[3]," option-icon"),style:{}}),f.a.createElement("p",{className:"option-text"},t[0]))}))))):null)))}}]),a}(h.Component);t.a=v},252:function(e,t,a){"use strict";(function(e){var n=a(28),r=a(1),s=a.n(r),i=a(3),o=a(9),c=a(10),u=a(7),l=a(11),p=a(12),d=a(6),m=a(0),h=a.n(m),f=(a(218),a(65),a(67)),g=(a(42),a(101)),v=a(20),b=a(135),k=a(37),y=function(t){Object(l.a)(r,t);var a=Object(p.a)(r);function r(e){var t;return Object(o.a)(this,r),(t=a.call(this,e)).state={name:"",possibleProjects:{},possibleTags:{},possibleProjectsRev:{},possibleTagsRev:{},availability:[],projectSelects:[],tagSelects:[],projectDB:{},parent:"",is_sequential:!1,currentProject:{children:[]},activeTask:""},t.updatePrefix=t.random(),t.activeTask=h.a.createRef(),t.name=h.a.createRef(),k(Object(u.a)(t)),t}return Object(c.a)(r,[{key:"componentWillUnmount",value:function(){this.props.gruntman.halt()}},{key:"componentDidUpdate",value:function(e,t,a){e.id!==this.props.id&&this.refresh(),e.id!==this.props.id&&"do"===this.props.options&&this.name.current.focus()}},{key:"refresh",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,r,o,c,u,l,p,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.engine.db.getItemAvailability(this.props.uid);case 2:return t=e.sent,e.next=5,this.props.engine.db.getProjectsandTags(this.props.uid);case 5:for(c in a=e.sent,r=[],o=[],a[1][0])o.push({value:c,label:a[1][0][c]});return u=this,e.next=12,Object(i.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,u.props.engine.db.getTopLevelProjects(u.props.uid);case 3:a=e.sent[0],e.t0=s.a.keys(a);case 5:if((e.t1=e.t0()).done){e.next=14;break}return n=e.t1.value,e.t2=t,e.next=10,u.props.engine.db.getProjectStructure(u.props.uid,n,!0);case 10:e.t3=e.sent,e.t2.push.call(e.t2,e.t3),e.next=5;break;case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e)})))();case 12:return l=e.sent,p=function e(t,s){if(s||(s=""),r.push({value:t.id,label:s+a[0][0][t.id]}),t.children){var i,o=Object(n.a)(t.children);try{for(o.s();!(i=o.n()).done;){var c=i.value;"project"===c.type&&e(c.content,s+":: ")}}catch(u){o.e(u)}finally{o.f()}}},l.map((function(e){return p(e)})),this.updatePrefix=this.random(),e.next=18,u.props.engine.db.getProjectStructure(this.props.uid,this.props.id,!1);case 18:d=e.sent,this.setState({name:a[0][0][this.props.id],possibleProjects:a[0][0],possibleTags:a[1][0],possibleProjectsRev:a[0][1],possibleTagsRev:a[1][1],availability:t,projectSelects:r,tagSelects:o,projectDB:l,currentProject:d,is_sequential:d.is_sequential,parent:d.parentProj});case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.props.gruntman.registerRefresher(this.refresh.bind(this)),this.refresh(),"do"===this.props.options&&this.name.current.focus()}},{key:"random",value:function(){return(65536*(1+Math.random())|0).toString(16)+"-"+(65536*(1+Math.random())|0).toString(16)}},{key:"updateName",value:function(e){var t=this;e?(this.props.gruntman.registerScheduler((function(){t.props.gruntman.do("project.update__name",{uid:t.props.uid,id:t.props.id,name:e.target.value}).then(t.props.menuRefresh)}),"project.this.".concat(this.props.id,"-update")),this.setState({name:e.target.value})):console.log(e)}},{key:"render",value:function(){var t=this;return h.a.createElement(d.g,null,h.a.createElement("div",{className:"page-invis-drag "+(Object(d.y)("electron")?window.navigator.platform.includes("Mac")?"darwin":"win32"===e.platform?"windows":void 0:"normal")},"\xa0"),h.a.createElement("div",{className:"page-content "+(Object(d.y)("electron")?window.navigator.platform.includes("Mac")?"darwin":"win32"===e.platform?"windows":void 0:"normal")},h.a.createElement("div",{className:"header-container"},h.a.createElement("div",{style:{display:"inline-block"}},h.a.createElement("div",null,h.a.createElement(d.e,null,h.a.createElement("i",{className:"fas fa-bars",style:{marginLeft:20,color:"var(--page-header-sandwich)"}})),h.a.createElement("h1",{className:"page-title"},function(){if(""!==t.state.parent)return h.a.createElement("a",{className:"fas fa-chevron-left backbutton",onClick:function(){t.props.paginate("projects",t.state.parent),t.props.history.push("/projects/".concat(t.state.parent))}})}(),h.a.createElement("i",{style:{paddingRight:4},className:"fas fa-tasks"}),h.a.createElement("input",{className:"editable-title",onChange:function(e){e.persist(),t.updateName(e)},value:this.state.name,style:{transform:"transformY(-2px)"},ref:this.name})),h.a.createElement(f.a,{effect:"solid",offset:{top:3},backgroundColor:"black",className:"tooltips"}),h.a.createElement("div",{className:"greeting-container",style:{marginLeft:5,marginTop:7,marginBottom:5}},h.a.createElement("a",{onClick:function(){t.setState({is_sequential:!t.state.currentProject.is_sequential},(function(){t.props.gruntman.do("project.update__pstate",{uid:t.props.uid,id:t.props.id,is_sequential:t.state.is_sequential})}))},"data-tip":"LOCALIZE: Sequencial/Paralellel",className:"perspective-icon",style:{borderColor:"var(--task-icon-ring)",cursor:"pointer",marginLeft:5}},h.a.createElement("i",{className:this.state.is_sequential?"fas fa-arrows-alt-v":"fas fa-arrows-alt-h",style:{margin:3,color:"var(--task-icon-text)",fontSize:13,transform:this.state.is_sequential?"translate(3.5px, -1px)":"translate(0.25px, -1px)"}})),h.a.createElement("a",{"data-tip":"LOCALIZE: Delete",className:"perspective-icon",onClick:function(){t.props.gruntman.do("project.delete",{uid:t.props.uid,pid:t.props.id,parent:""===t.state.parent||void 0===t.state.parent?void 0:t.state.parent}).then((function(){t.props.menuRefresh(),t.props.history.push(""===t.state.parent||void 0===t.state.parent?"/upcoming/":"/projects/".concat(t.state.parent)),t.props.paginate(""===t.state.parent||void 0===t.state.parent?"upcoming":"projects",""===t.state.parent||void 0===t.state.parent?void 0:t.state.parent)}))},style:{borderColor:"var(--task-icon-ring)",cursor:"pointer",marginLeft:5}},h.a.createElement("i",{className:"fas fa-trash",style:{margin:3,color:"var(--task-icon-text)",fontSize:10,transform:"translate(2px, -2px)"}})))))),h.a.createElement("div",{style:{marginLeft:10,marginRight:10,overflowY:"scroll",overflowX:"hidden"}},h.a.createElement(b.a,{list:this.state.currentProject.children,prefix:this.updatePrefix,uid:this.props.uid,engine:this.props.engine,gruntman:this.props.gruntman,availability:this.state.availability,datapack:[this.state.tagSelects,this.state.projectSelects,this.state.possibleProjects,this.state.possibleProjectsRev,this.state.possibleTags,this.state.possibleTagsRev],possibleProjects:this.state.possibleProjects,history:this.props.history,paginate:this.props.paginate,activeTaskRef:this.activeTask,activeTaskID:this.state.activeTask}),h.a.createElement("div",{style:{marginTop:10}},h.a.createElement("a",{className:"newbutton",onClick:function(){t.props.gruntman.do("task.create",{uid:t.props.uid,pid:t.props.id},!0).then((function(e){var a=t.state.currentProject,n=t.state.availability;n[e.tid]=!0,a.children.push({type:"task",content:e.tid}),t.setState({activeTask:e.tid,currentProject:a,availability:n},(function(){return t.activeTask.current._explode()}))}))}},h.a.createElement("div",null,h.a.createElement("i",{className:"fas fa-plus-circle subproject-icon"}),h.a.createElement("div",{style:{display:"inline-block",fontWeight:500}},this.props.localizations.nb_at))),h.a.createElement("a",{className:"newbutton",onClick:Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.gruntman.do("project.create",{uid:this.props.uid,parent:this.props.id});case 2:t=e.sent.pid,this.props.history.push("/projects/".concat(t,"/do"));case 4:case"end":return e.stop()}}),e,this)}))).bind(this)},h.a.createElement("div",null,h.a.createElement("i",{className:"fas fa-plus-circle subproject-icon"}),h.a.createElement("div",{style:{display:"inline-block",fontWeight:500}},this.props.localizations.nb_ap))),h.a.createElement(g.a,{visible:0==this.state.currentProject.children.length,title:"Nothing in this project.",subtitle:"Add a task?"}),h.a.createElement("div",{className:"bottom-helper"},"\xa0")))))}}]),r}(m.Component);t.a=Object(d.A)(Object(v.g)(y))}).call(this,a(54))},253:function(e,t,a){"use strict";var n=a(13),r=a(1),s=a.n(r),i=a(3),o=a(9),c=a(10),u=a(7),l=a(11),p=a(12),d=a(6),m=a(0),h=a.n(m),f=(a(518),a(65),a(42),a(20)),g=a(37),v=function(e){Object(l.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={name:"",error:!1,loaded:!1},n.updatePrefix=n.random(),n.props.gruntman.registerRefresher(n.refresh.bind(Object(u.a)(n))),g(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"refresh",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.props.engine.db.getWorkspace(this.props.id);case 3:t=e.sent,this.setState({name:t.meta.name,loaded:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({error:!0,loaded:!0});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.refresh()}},{key:"componentWillUnmount",value:function(){this.props.gruntman.halt()}},{key:"random",value:function(){return(65536*(1+Math.random())|0).toString(16)+"-"+(65536*(1+Math.random())|0).toString(16)}},{key:"render",value:function(){return h.a.createElement(d.g,null,h.a.createElement("div",{className:"workspace-welcome-container",style:{overflowY:"scroll"}},this.state.loaded?this.state.error?h.a.createElement("div",{className:"workspace-error"},h.a.createElement("div",{style:{fontSize:26}},"\ud83e\udd37 ",h.a.createElement("b",null,this.props.localizations.nahman)," ",h.a.createElement("span",{style:{fontSize:20}},this.props.localizations.where_workspace)),h.a.createElement("div",{className:"workspace-forbidden"},this.props.localizations.workspace_forbidden)):h.a.createElement("div",{style:{margin:"0 30px",width:"min(650px, 80vw)"}},h.a.createElement("h1",{className:"workspace-title"},this.props.localizations.workspace_welcome,h.a.createElement("span",{className:"workspace-name",style:{fontSize:20}},this.state.name)),h.a.createElement("p",{className:"workspace-subtitle"},this.props.localizations.workspace_explanation," "),h.a.createElement("div",{className:"continue-button",onClick:Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.history.push("/upcoming/"),this.props.paginate("upcoming"),"firebase"!==this.props.authType){e.next=9;break}return e.next=5,this.props.engine.db.getWorkspaces(this.props.actualUID);case 5:if((t=e.sent).includes(this.props.id)){e.next=9;break}return e.next=9,this.props.engine.db.updateWorkspaces(this.props.actualUID,[].concat(Object(n.a)(t),[this.props.id]));case 9:case"end":return e.stop()}}),e,this)}))).bind(this)},h.a.createElement("i",{className:"fas fa-snowboarding button-right"}),"Let's do this!")):null))}}]),a}(m.Component);t.a=Object(f.g)(v)},254:function(e,t,a){"use strict";var n=a(16),r=a(0),s=a.n(r),i=(a(519),a(27)),o=a(51);t.a=function(e){var t=e.localizations.qa_content,a=Object(r.useState)(!1),c=Object(n.a)(a,2),u=c[0],l=c[1],p=Object(r.useState)(!1),d=Object(n.a)(p,2),m=d[0],h=d[1],f=Object(o.c)({to:m?{width:280,color:"var(--quickadd-successtext)",backgroundColor:"var(--quickadd-success)"}:{width:u?280:250,color:"var(--quickadd-text)",backgroundColor:"var(--quickadd)"}});return s.a.createElement(o.a.input,{id:"abtib",readOnly:!1,type:"text",defaultValue:"",style:f,className:"attib",ref:e.reference,onFocus:function(e){e.target.value="",l(!0)},onBlur:function(e){l(!1),h(!1),e.target.value=""},onKeyUp:function(t){if("Enter"===t.key){t.persist(),h(!0);var a=t.target.value,n=i.parse(a),r=void 0,s=void 0;n.length>0&&(n[0].end?(r=n[0].end.date(),s=n[0].start.date(),a=a.replace(n[0].text,"").trim()):(r=n[0].start.date(),a=a.replace(n[0].text,"").trim()));var o={uid:e.uid,pid:"",due:r,defer:s,name:a};e.gruntman.do("task.create",o).then((function(){t.target.blur()}))}},placeholder:t+(128*Math.random()<1?" ^-^":"")})}},255:function(e,t,a){"use strict";var n=a(16),r=a(6),s=a(0),i=a.n(s),o=a(55),c=(a(522),o.Plugins.Storage);t.a=function(e){var t=Object(s.useState)(!1),a=Object(n.a)(t,2),o=a[0],u=a[1];return Object(s.useEffect)((function(){c.get({key:"condution_release"}).then((function(t){"onezerozero"!==t.value&&"workspace"!==e.authType&&(u(!0),c.set({key:"condution_release",value:"onezerozero"}))}))}),[]),i.a.createElement(r.f,{ref:e.reference,isOpen:o,onDidDismiss:function(){},style:{borderRadius:5},cssClass:"releasenote-popover auto-height"},i.a.createElement("div",{className:"inner-content releasenote-inside"},i.a.createElement("div",{className:"condution-callout"},i.a.createElement("span",{className:"condution-name"},"Condution"),i.a.createElement("span",{className:"condution-vn"},"alpha-v1.0.0")),i.a.createElement("div",{className:"releasenotes"},"Release Notes"),i.a.createElement("h1",{className:"header"},"\ud83d\udc4b Hey, it's been a while."),i.a.createElement("p",{className:"content"},"Thanks for entrusting Condution for your task management. After a few months of working on the app, we are ready to release our ",i.a.createElement("b",null,"next major version.")),i.a.createElement("p",{className:"content"},"We promised to be a community driven task-management solution, and in 1.0, we aim do deliver on some of those promises. All of the features of 1.0 are proposed by our community ",i.a.createElement("a",{href:"https://discord.gg/3hS7yv3"},"on Discord")," and ",i.a.createElement("a",{href:"https://github.com/Shabang-Systems/Condution"},"on GitHub"),"."),i.a.createElement("h1",{className:"header"},"\ud83c\udfc3 tl;dr"),i.a.createElement("p",{className:"content"},"A refreshed interface, tag weights, and shared workspaces comes to this all-new release of Condution. We are also building out an API so that you could customize it even further. Enjoy!"),i.a.createElement("p",{className:"content"},"Now, here's a rundown of some major features added."),i.a.createElement("div",{style:{borderTop:"solid 1px var(--background-feature)",width:"100%",height:1}},"\xa0"),i.a.createElement("h1",{className:"header"},"\ud83e\udd1d Shared Workspaces"),i.a.createElement("p",{className:"content"},"On the Upcoming page, you will notice a new ",i.a.createElement("a",{className:"workspace-name",style:{display:"inline-block",margin:0}},"Personal Workspace")," icon. Tapping on that icon allows you to create, share, and open a workspace."),i.a.createElement("p",{className:"content"},"Here at Condution, we use workspaces to help manage our tasks too. We each have our own accounts, but share a collaborative Condution workspace."),i.a.createElement("h1",{className:"header"},"\ud83c\udff7  Weighted Tags"),i.a.createElement("p",{className:"content"},"Throughout the interface, you will notice that we sprinkled some indicators (heatmaps, progressbars, etc.) of how much a project/group of tasks are completed. The weights of those indicators are driven by user-specificed tag weights!"),i.a.createElement("p",{className:"content"},"The tag pane ",i.a.createElement("i",{className:"fas fa-tags"})," accessible from every task allows you to pick tags and set their weights. These serve as the foundation of calculating the weight of a tag (and by extension, a project)."),i.a.createElement("p",{className:"content"},'A "High Energy" tag, for instance, could have a higher weight; so, tasks tagged with that tag will be weighted more heavily.'),i.a.createElement("div",{style:{borderTop:"solid 1px var(--background-feature)",width:"100%",height:1}},"\xa0"),i.a.createElement("h1",{className:"header"},"\ud83d\ude4c Cheerio"),i.a.createElement("p",{className:"content"},"Building Condution has been great fun for all of us; we hope you enjoy the app as well. As always, let us know if you have any feedback ",i.a.createElement("a",{href:"https://discord.gg/3hS7yv3"},"on Discord")," or ",i.a.createElement("a",{href:"https://github.com/Shabang-Systems/Condution"},"on GitHub"),"."),i.a.createElement("p",{className:"content"},"If you would like to support our Development, we would be incredibly happy if you would pitch in on ",i.a.createElement("a",{href:"https://www.patreon.com/condution"},"Patreon"),". Your contribution will help us keep servers running and features going."),i.a.createElement("p",{className:"content"},"As always, with \u2764\ufe0f  and \ud83e\udd57, thanks for using Condution.")))}},259:function(e,t,a){"use strict";var n=a(13),r=a(9),s=a(10),i=a(7),o=a(11),c=a(12),u=a(0),l=a.n(u),p=a(75),d=a.n(p),m=(a(520),a(95),a(20)),h=a(29),f=a(1),g=a.n(f),v=a(16),b=a(3),k=a(6),y=(a(521),a(65),a(37)),w=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(r.a)(this,a),n=t.call(this,e),y(Object(i.a)(n)),n.state={items:[],filteredList:[],query:"",direction:!0,selected:0,prop_store:"",projs:[]},n.searcher=l.a.createRef(),n.currentlySelected=l.a.createRef(),n}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(){this.state.prop_store!=this.props&&this.processItems()}},{key:"componentDidMount",value:function(){this.processItems(),this.setState({prop_store:this.props}),this.getProjs()}},{key:"getProjs",value:function(){var e=Object(b.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.engine.db.getProjectsandTags(this.props.uid);case 2:t=e.sent[0][0],a=Object.entries(t).map((function(e){var t=Object(v.a)(e,2),a=t[0];return["."+t[1],"projects",a,"fas fa-tasks"]})),this.setState({projs:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"focusRef",value:function(){this.searcher.current&&this.searcher.current.setFocus(),this.setState({query:"",selected:0}),this.getProjs()}},{key:"filterItems",value:function(e){return this.state.items.filter((function(t){return t[0].toLowerCase().indexOf(e.toLowerCase())>-1}))}},{key:"processItems",value:function(){this.setState({items:[[":upcoming","upcoming","","fas fa-chevron-circle-right"],[":completed","completed","","fas fa-check-circle"],[":calendar","calendar","","fas fa-calendar-alt"]].concat(Object(n.a)(this.props.items[0].map((function(e){return["!"+e.name,"perspectives",e.id,"fas fa-layer-group"]}))),Object(n.a)(this.state.projs)),prop_store:this.props})}},{key:"handleKeydown",value:function(e){var t=e.key;if("Enter"==t){var a=this.filterItems(this.state.query)[this.state.selected];if(a&&this.state.query||0!=this.state.selected){var r,s=a.slice(1);this.props.history.push("/".concat(a[1],"/").concat(a[2])),(r=this.props).paginate.apply(r,Object(n.a)(s)),this.props.updateIdx(s)}else this.state.direction&&this.props.history.length>2?this.props.history.goBack():this.props.history.length>2&&this.props.history.goForward(),this.setState({direction:!this.state.direction});this.props.dismiss()}else{var i=this.state.selected,o=this.filterItems(this.state.query).length-1;"ArrowUp"==t||e.ctrlKey&&"p"==t?(i>0?this.setState({selected:i-1}):this.setState({selected:o}),this.currentlySelected&&this.currentlySelected.current.scrollIntoView({behavior:"smooth",block:"end"})):("ArrowDown"==t||e.ctrlKey&&"n"==t)&&(i==o?this.setState({selected:0}):this.setState({selected:i+1}),this.currentlySelected&&this.currentlySelected.current.scrollIntoView({behavior:"smooth",block:"start"}))}}},{key:"render",value:function(){var e=this;return l.a.createElement(k.f,{isOpen:this.props.qs_show,animated:!1,cssClass:"qs_modal",autoFocus:!0,onDidPresent:this.focusRef,onDidDismiss:this.props.dismiss},l.a.createElement("div",{className:"modal-content-wrapper"},l.a.createElement(k.k,{autoFocus:!0,ref:this.searcher,animated:!0,spellcheck:!0,className:"search-bar",placeholder:"Let's go to..".concat(0==this.state.selected&&""==this.state.query?"   |   Previous":""),onIonChange:function(t){return e.setState({query:t.detail.value,selected:0})},debounce:0,onKeyDown:this.handleKeydown}),l.a.createElement("div",{className:"option-wrapper"},this.filterItems(this.state.query).map((function(t,a){var r;return l.a.createElement("div",(r={className:"option-line"},Object(h.a)(r,"className","option-line ".concat(e.state.selected==a?"option-text-hover":"")),Object(h.a)(r,"ref",e.state.selected==a?e.currentlySelected:null),Object(h.a)(r,"onMouseEnter",(function(){e.setState({selected:a})})),Object(h.a)(r,"onClick",(function(){var a;e.props.history.push("/".concat(t[1],"/").concat(t[2])),(a=e.props).paginate.apply(a,Object(n.a)(t.slice(1))),e.props.dismiss()})),r),l.a.createElement("i",{className:"".concat(t[3]," option-icon"),style:{}}),l.a.createElement("p",{className:"option-text"},t[0]))})))))}}]),a}(u.Component),x=Object(m.g)(w),j=a(37),E=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).bindings=[["alt+1",function(){n.sidebar_switcher(Object(i.a)(n),0)}],["alt+2",function(){n.sidebar_switcher(Object(i.a)(n),1)}],["alt+3",function(){n.sidebar_switcher(Object(i.a)(n),2)}],["alt+4",function(){n.sidebar_switcher(Object(i.a)(n),3)}],["alt+5",function(){n.sidebar_switcher(Object(i.a)(n),4)}],["alt+6",function(){n.sidebar_switcher(Object(i.a)(n),5)}],["alt+7",function(){n.sidebar_switcher(Object(i.a)(n),6)}],["alt+8",function(){n.sidebar_switcher(Object(i.a)(n),7)}],["alt+9",function(){n.sidebar_switcher(Object(i.a)(n),8)}],["alt+0",function(){n.sidebar_switcher(Object(i.a)(n),n.state.sidebar_list.length-1)}],["alt+j",function(){n.sidebar_incrimentor(Object(i.a)(n),1)}],["alt+k",function(){n.sidebar_incrimentor(Object(i.a)(n),-1)}],["mod+enter",function(){n.focusElement(n.props.abtib)}]],n.globalBindings=[["mod+k",function(){n.manageQs(Object(i.a)(n))}]],j(Object(i.a)(n)),n.state={sidebar_list:[],sidebar_index:0,prop_store:"",qs_show:!1},n}return Object(s.a)(a,[{key:"sidebar_switcher",value:function(e,t){var a,r=this.state.sidebar_list[t];e.props.history.push("/".concat(r[0],"/").concat(r[1])),(a=e.props).paginate.apply(a,Object(n.a)(r)),this.setState({sidebar_index:t})}},{key:"sidebar_incrimentor",value:function(e,t){this.state.sidebar_list[this.state.sidebar_index+t]?this.sidebar_switcher(e,this.state.sidebar_index+t):this.state.sidebar_index==this.state.sidebar_list.length-1?this.sidebar_switcher(e,0):this.sidebar_switcher(e,this.state.sidebar_list.length-1)}},{key:"setSidebarIndex",value:function(e){var t,a=this;this.state.sidebar_list.forEach((function(n,r){a.arraysAreIdentical(n,e)&&(t=r)})),this.setState({sidebar_index:t})}},{key:"arraysAreIdentical",value:function(e,t){for(var a=0,n=e.length;a<n;a++)if(e[a]!==t[a])return!1;return!0}},{key:"manageQs",value:function(e){this.setState({qs_show:!this.state.qs_show})}},{key:"focusElement",value:function(e){e&&e.current.focus()}},{key:"componentDidUpdate",value:function(){this.state.prop_store!=this.props&&this.setState({sidebar_list:[["upcoming",""],["completed",""],["calendar",""]].concat(Object(n.a)(this.props.perspectives.map((function(e){return["perspectives",e.id]}))),Object(n.a)(this.props.projects.map((function(e){return["projects",e.id]})))),prop_store:this.props})}},{key:"componentDidMount",value:function(){this.setState({prop_store:this.props}),this.bindings.map((function(e){d.a.bind.apply(d.a,Object(n.a)(e))})),this.globalBindings.map((function(e){d.a.bindGlobal.apply(d.a,Object(n.a)(e))}))}},{key:"componentWillUnmount",value:function(){this.bindings.map((function(e){d.a.unbind.apply(d.a,Object(n.a)(e))}))}},{key:"render",value:function(){var e=this;return l.a.createElement(x,{qs_show:this.state.qs_show,dismiss:function(){return e.setState({qs_show:!1})},items:[this.props.perspectives],paginate:this.props.paginate,updateIdx:this.setSidebarIndex,engine:this.props.engine,uid:this.props.uid,gruntman:this.props.gruntman})}}]),a}(u.Component);t.a=Object(m.g)(E)},260:function(e,t,a){"use strict";var n=a(1),r=a.n(n),s=a(3),i=a(16),o=a(68),c=a(6),u=a(0),l=a.n(u),p=(a(80),a(34)),d=a(29),m=a(9),h=a(10),f=a(7),g=a(11),v=a(12),b=a(37);var k={className:"react-tagsinput-input",placeholder:"Add a tag"},y=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;return Object(m.a)(this,a),e=t.call(this),b(Object(f.a)(e)),e.state={tag:"",isFocused:!1},e.focus=e.focus,e.blur=e.blur,e}return Object(h.a)(a,[{key:"_getTagDisplayValue",value:function(e){var t=this.props.tagDisplayProp;return t?e[t]:e}},{key:"_makeTag",value:function(e){var t=this.props.tagDisplayProp;return t?Object(d.a)({},t,e):e}},{key:"_removeTag",value:function(e){var t=this.props.value.concat([]);if(e>-1&&e<t.length){var a=t.splice(e,1);this.props.onChange(t,a,[e])}}},{key:"_clearInput",value:function(){this.hasControlledInput()?this.props.onChangeInput(""):this.setState({tag:""})}},{key:"_tag",value:function(){return this.hasControlledInput()?this.props.inputValue:this.state.tag}},{key:"_addTags",value:function(e){var t=this,a=this.props,n=a.onChange,r=a.onValidationReject,s=a.onlyUnique,i=a.maxTags,o=a.value;s&&(e=(e=function(e){for(var t=[],a=0;a<e.length;a++)-1===t.indexOf(e[a])&&t.push(e[a]);return t}(e)).filter((function(e){return o.every((function(a){return t._getTagDisplayValue(a)!==t._getTagDisplayValue(e)}))})));var c=e.filter((function(e){return!t._validate(t._getTagDisplayValue(e))}));if(e=(e=e.filter((function(e){return t._validate(t._getTagDisplayValue(e))}))).filter((function(e){var a=t._getTagDisplayValue(e);return"function"===typeof a.trim?a.trim().length>0:a})),i>=0){var u=Math.max(i-o.length,0);e=e.slice(0,u)}if(r&&c.length>0&&r(c),e.length>0){for(var l=o.concat(e),p=[],d=0;d<e.length;d++)p.push(o.length+d);return n(l,e,p),this._clearInput(),!0}return c.length>0||this._clearInput(),!1}},{key:"_validate",value:function(e){var t=this.props,a=t.validate,n=t.validationRegex;return a(e)&&n.test(e)}},{key:"_shouldPreventDefaultEventOnAdd",value:function(e,t,a){return!!e||13===a&&(this.props.preventSubmit||!this.props.preventSubmit&&!t)}},{key:"focus",value:function(){this.input&&"function"===typeof this.input.focus&&this.input.focus(),this.handleOnFocus()}},{key:"blur",value:function(){this.input&&"function"===typeof this.input.blur&&this.input.blur(),this.handleOnBlur()}},{key:"accept",value:function(){var e=this._tag();return""!==e&&(e=this._makeTag(e),this._addTags([e]))}},{key:"addTag",value:function(e){return this._addTags([e])}},{key:"clearInput",value:function(){this._clearInput()}},{key:"handlePaste",value:function(e){var t=this,a=this.props,n=a.addOnPaste,r=a.pasteSplit;if(n){e.preventDefault();var s=r(function(e){return window.clipboardData?window.clipboardData.getData("Text"):e.clipboardData?e.clipboardData.getData("text/plain"):""}(e)).map((function(e){return t._makeTag(e)}));this._addTags(s)}}},{key:"handleKeyDown",value:function(e){if(!e.defaultPrevented){var t=this.props,a=t.value,n=t.removeKeys,r=t.addKeys,s=""===this._tag(),i=e.keyCode,o=e.key,c=-1!==r.indexOf(i)||-1!==r.indexOf(o),u=-1!==n.indexOf(i)||-1!==n.indexOf(o);if(c){var l=this.accept();this._shouldPreventDefaultEventOnAdd(l,s,i)&&e.preventDefault()}u&&a.length>0&&s&&(e.preventDefault(),this._removeTag(a.length-1))}}},{key:"handleClick",value:function(e){e.target===this.div&&this.focus()}},{key:"handleChange",value:function(e){var t=this.props.onChangeInput,a=this.props.inputProps.onChange,n=e.target.value;a&&a(e),this.hasControlledInput()?t(n):this.setState({tag:n})}},{key:"handleOnFocus",value:function(e){var t=this.props.inputProps.onFocus;t&&t(e),this.setState({isFocused:!0})}},{key:"handleOnBlur",value:function(e){var t=this.props.inputProps.onBlur;if(this.setState({isFocused:!1}),null!=e&&(t&&t(e),this.props.addOnBlur)){var a=this._makeTag(e.target.value);this._addTags([a])}}},{key:"handleRemove",value:function(e){this._removeTag(e)}},{key:"inputProps",value:function(){var e=this.props.inputProps,t=(e.onChange,e.onFocus,e.onBlur,Object(o.a)(e,["onChange","onFocus","onBlur"])),a=Object(p.a)(Object(p.a)({},k),t);return this.props.disabled&&(a.disabled=!0),a}},{key:"inputValue",value:function(e){return e.currentValue||e.inputValue||""}},{key:"hasControlledInput",value:function(){var e=this.props,t=e.inputValue;return"function"===typeof e.onChangeInput&&"string"===typeof t}},{key:"componentDidMount",value:function(){this.hasControlledInput()||this.setState({tag:this.inputValue(this.props)})}},{key:"componentDidUpdate",value:function(e,t,a){this.hasControlledInput()||this.inputValue(this.props)&&this.setState({tag:this.inputValue(this.props)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.value,n=(t.onChange,t.tagProps),r=t.renderLayout,s=t.renderTag,i=t.renderInput,c=(t.addKeys,t.removeKeys,t.className),u=t.focusedClassName,d=(t.addOnBlur,t.addOnPaste,t.inputProps,t.pasteSplit,t.onlyUnique,t.maxTags,t.validate,t.validationRegex,t.disabled);t.tagDisplayProp,t.inputValue,t.onChangeInput,Object(o.a)(t,["value","onChange","tagProps","renderLayout","renderTag","renderInput","addKeys","removeKeys","className","focusedClassName","addOnBlur","addOnPaste","inputProps","pasteSplit","onlyUnique","maxTags","validate","validationRegex","disabled","tagDisplayProp","inputValue","onChangeInput"]);this.state.isFocused&&(c+=" "+u);var m=a.map((function(t,a){return s(Object(p.a)({key:a,tag:t,onRemove:e.handleRemove,disabled:d,getTagDisplayValue:e._getTagDisplayValue},n))})),h=i(Object(p.a)({ref:function(t){e.input=t},value:this._tag(),onPaste:this.handlePaste,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onFocus:this.handleOnFocus,onBlur:this.handleOnBlur,addTag:this.addTag},this.inputProps()));return l.a.createElement("div",{ref:function(t){e.div=t},onClick:this.handleClick,className:c},r(m,h))}}]),a}(l.a.Component);y.defaultProps={className:"react-tagsinput",focusedClassName:"react-tagsinput--focused",addKeys:[9,13],addOnBlur:!1,addOnPaste:!1,inputProps:{},removeKeys:[8],renderInput:function(e){e.addTag;var t=Object(o.a)(e,["addTag"]),a=t.onChange,n=t.value,r=Object(o.a)(t,["onChange","value"]);return l.a.createElement("input",Object.assign({type:"text",onChange:a,value:n},r))},renderTag:function(e){var t=e.tag,a=e.key,n=e.disabled,r=e.onRemove,s=e.classNameRemove,i=e.getTagDisplayValue,c=Object(o.a)(e,["tag","key","disabled","onRemove","classNameRemove","getTagDisplayValue"]);return l.a.createElement("span",Object.assign({key:a},c),i(t),!n&&l.a.createElement("a",{className:s,onClick:function(e){return r(a)}}))},renderLayout:function(e,t){return l.a.createElement("span",null,e,t)},pasteSplit:function(e){return e.split(" ").map((function(e){return e.trim()}))},tagProps:{className:"react-tagsinput-tag",classNameRemove:"react-tagsinput-remove"},onlyUnique:!1,maxTags:-1,validate:function(){return!0},validationRegex:/.*/,disabled:!1,tagDisplayProp:null,preventSubmit:!0};var w=y,x=a(94),j=a.n(x);a(495),a(496);function E(e){e.addTag;var t=Object(o.a)(e,["addTag"]),a=t.onChange,n=t.value,r=Object(o.a)(t,["onChange","value"]);return l.a.createElement(j.a,Object.assign({style:{border:0},name:"react-tagsinput-actualinput",type:"text",onChange:a,value:n},r))}t.a=function(e){var t=Object(u.useState)(""),a=Object(i.a)(t,2),n=a[0],o=a[1],p=Object(u.useState)([]),d=Object(i.a)(p,2),m=d[0],h=d[1],f=Object(u.useState)(!1),g=Object(i.a)(f,2),v=g[0],b=g[1],k=function(){var t=Object(s.a)(r.a.mark((function t(){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.currentWorkspace){t.next=7;break}return t.next=3,e.engine.db.getWorkspace(e.currentWorkspace);case 3:a=t.sent,o(a.meta.name),h(a.meta.editors),b(a.meta.is_public);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(u.useEffect)((function(){k()}),[e.currentWorkspace]),l.a.createElement(c.f,{ref:e.reference,isOpen:e.isShown,onDidPresent:function(){k()},onDidDismiss:function(){e.onDidDismiss&&e.onDidDismiss()},style:{borderRadius:5},cssClass:"workspace-popover auto-height"},l.a.createElement("div",{className:"inner-content workspace-inside"},l.a.createElement("div",{className:"workspace-header"},l.a.createElement("span",{className:"workspace-callout"},e.gruntman.localizations.perspective_build_callout),l.a.createElement("input",{className:"editable-title workspace-input",value:n,style:{minWidth:0},placeholder:"@NEEDLOC Tap to set name",onChange:function(t){o(t.target.value),t.persist(),e.gruntman.registerScheduler((function(){return e.engine.db.editWorkspace(e.currentWorkspace,{meta:{editors:m,name:t.target.value,is_public:!!v}})}),"workspace-".concat(e.currentWorkspace,"-update"))}})),l.a.createElement("div",{style:{display:"flex",alignItems:"center",marginLeft:5}},l.a.createElement("i",{className:"fas fa-user-edit",style:{color:"var(--content-normal-alt)"}}),l.a.createElement(w,{value:m,onChange:function(t){var a=!0;t.filter((function(e){return!m.includes(e)})).forEach((function(t){/\w+@\w+\.\w+/.test(t)?e.engine.db.inviteToWorkspace(e.currentWorkspace,t):a=!1})),m.filter((function(e){return!t.includes(e)})).forEach((function(t){e.engine.db.revokeToWorkspace(e.currentWorkspace,t)})),a&&(e.engine.db.editWorkspace(e.currentWorkspace,{meta:{editors:t,name:n,is_public:!!v}}),h(t))},renderInput:E,inputProps:{placeholder:e.gruntman.localizations.workspace_email}})),l.a.createElement("div",{style:{display:"flex",alignItems:"center",marginLeft:5,marginTop:5}},v?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{class:"fas fa-link",style:{color:"var(--content-normal-alt)"}}),l.a.createElement("input",{value:"https://".concat(""!==window.location.host?window.location.host:"cuttingedge.condution.com","/workspaces/").concat(e.currentWorkspace),className:"workspace-link",readOnly:!0,onClick:function(e){e.nativeEvent.target.select(),e.nativeEvent.target.setSelectionRange(0,99999),document.execCommand("copy")}}),l.a.createElement("i",{class:"fas fa-unlink",style:{marginLeft:10,marginRight:5,color:"var(--decorative-light-alt)",cursor:"pointer"},onClick:function(){e.engine.db.editWorkspace(e.currentWorkspace,{meta:{editors:m,name:n,is_public:!1}}),b(!1)}})):l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{class:"fas fa-link",style:{color:"var(--decorative-light-alt)"}}),l.a.createElement("a",{className:"linkaccess",onClick:function(){e.engine.db.editWorkspace(e.currentWorkspace,{meta:{editors:m,name:n,is_public:!0}}),b(!0)}},e.gruntman.localizations.publicify)))))}},261:function(e,t,a){e.exports=a(529)},267:function(e,t,a){var n={"./ion-action-sheet.entry.js":[535,5],"./ion-alert.entry.js":[536,6],"./ion-app_8.entry.js":[537,7],"./ion-avatar_3.entry.js":[538,18],"./ion-back-button.entry.js":[539,19],"./ion-backdrop.entry.js":[540,43],"./ion-button_2.entry.js":[541,20],"./ion-card_5.entry.js":[542,21],"./ion-checkbox.entry.js":[543,22],"./ion-chip.entry.js":[544,23],"./ion-col_3.entry.js":[545,44],"./ion-datetime_3.entry.js":[546,10],"./ion-fab_3.entry.js":[547,24],"./ion-img.entry.js":[548,45],"./ion-infinite-scroll_2.entry.js":[549,46],"./ion-input.entry.js":[550,25],"./ion-item-option_3.entry.js":[551,26],"./ion-item_8.entry.js":[552,27],"./ion-loading.entry.js":[553,28],"./ion-menu_3.entry.js":[554,29],"./ion-modal.entry.js":[555,8],"./ion-nav_2.entry.js":[556,15],"./ion-popover.entry.js":[557,9],"./ion-progress-bar.entry.js":[558,30],"./ion-radio_2.entry.js":[559,31],"./ion-range.entry.js":[560,32],"./ion-refresher_2.entry.js":[561,11],"./ion-reorder_2.entry.js":[562,17],"./ion-ripple-effect.entry.js":[563,47],"./ion-route_4.entry.js":[564,33],"./ion-searchbar.entry.js":[565,34],"./ion-segment_2.entry.js":[566,35],"./ion-select_3.entry.js":[567,36],"./ion-slide_2.entry.js":[568,48],"./ion-spinner.entry.js":[569,13],"./ion-split-pane.entry.js":[570,49],"./ion-tab-bar_2.entry.js":[571,37],"./ion-tab_2.entry.js":[572,16],"./ion-text.entry.js":[573,38],"./ion-textarea.entry.js":[574,39],"./ion-toast.entry.js":[575,40],"./ion-toggle.entry.js":[576,12],"./ion-virtual-scroll.entry.js":[577,50]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a(r)}))}r.keys=function(){return Object.keys(n)},r.id=267,e.exports=r},269:function(e,t,a){var n={"./ion-icon.entry.js":[581,57]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a(r)}))}r.keys=function(){return Object.keys(n)},r.id=269,e.exports=r},283:function(e,t,a){},284:function(e,t,a){},285:function(e,t,a){},286:function(e){e.exports=JSON.parse('{"dbkeys":{"deploy":{"apiKey":"AIzaSyDfQ-VPxf8hqNl3c4Y7sTQQu2teURAhK0c","authDomain":"condution-90c60.firebaseapp.com","databaseURL":"https://condution-90c60.firebaseio.com","projectId":"condution-90c60","storageBucket":"condution-90c60.appspot.com","messagingSenderId":"998610092056","appId":"1:998610092056:web:ece7b6443b36f817ab436d"},"debug":{"apiKey":"AIzaSyDFv40o-MFNy4eVfQzLtPG-ATkBUOHPaSI","authDomain":"condution-7133f.firebaseapp.com","databaseURL":"https://condution-7133f.firebaseio.com","projectId":"condution-7133f","storageBucket":"condution-7133f.appspot.com","messagingSenderId":"544684450810","appId":"1:544684450810:web:9b1caf7ed9285890fa3a43"}}}')},318:function(e,t,a){},368:function(e){e.exports=JSON.parse('{"v":"5.5.8","fr":15,"ip":0,"op":30,"w":100,"h":100,"nm":"03-01","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Shape Layer 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":5,"s":[0]},{"t":29.89453125,"s":[360]}],"ix":10},"p":{"a":0,"k":[50,50,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[77,77,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[100,100],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.2627450980392157,0.30196078431372547,0.37254901960784315,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":12.8,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":12,"s":[0]},{"t":29.89453125,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":5,"s":[1]},{"t":20,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":5,"op":256,"st":6,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Shape Layer 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":3,"s":[0]},{"t":27.89453125,"s":[360]}],"ix":10},"p":{"a":0,"k":[50,50,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[77,77,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[100,100],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.37254901960784315,0.44313725490196076,0.5647058823529412,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":11.8,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":10,"s":[0]},{"t":27.89453125,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":3,"s":[1]},{"t":18,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":3,"op":254,"st":4,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Shape Layer 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":1,"s":[0]},{"t":25.89453125,"s":[360]}],"ix":10},"p":{"a":0,"k":[50,50,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[77,77,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[100,100],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.6470588235294118,0.7176470588235294,0.8392156862745098,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":11.6,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":8,"s":[0]},{"t":25.89453125,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":1,"s":[1]},{"t":16,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":1,"op":252,"st":2,"bm":0}],"markers":[]}')},369:function(e,t,a){},42:function(e,t,a){"use strict";var n=a(34),r=a(29),s=a(1),i=a.n(s),o=a(3),c=a(9),u=a(10),l=a(7),p=a(11),d=a(12),m=a(6),h=a(0),f=a.n(h),g=a(104),v=a(183),b=a.n(v),k=(a(80),a(27)),y=a(83),w=a(241),x=(a(223),a(37)),j=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),n=t.call(this,e),x(Object(l.a)(n)),n.state={name:"",rule:"none",advanced:!1,on:void 0},n}return Object(u.a)(a,[{key:"loadTask",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.engine.db.getTaskInformation(this.props.uid,this.props.tid);case 2:t=e.sent,this.setState({name:t.name,rule:t.repeat?t.repeat.rule:"none",advanced:!!t.repeat&&void 0!==t.repeat.on,on:t.repeat?t.repeat.on:void 0});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.loadTask()}},{key:"render",value:function(){var e=this;return f.a.createElement(m.f,{ref:this.props.reference,isOpen:this.props.isShown,onDidDismiss:function(){e.props.onDidDismiss&&e.props.onDidDismiss()},style:{borderRadius:5},cssClass:"task-repeat "+function(){switch(e.state.rule){case"none":case"daily":return"task-repeat__default";case"weekly":return e.state.advanced?"task-repeat__advanced-weekly":"task-repeat__default";case"monthly":return e.state.advanced?"task-repeat__advanced-monthly":"task-repeat__default";case"yearly":return"task-repeat__default"}}()},f.a.createElement("div",null,f.a.createElement("div",{className:"repeat-header"},f.a.createElement("span",{style:{display:"flex",alignItems:"center",width:"100%"}},f.a.createElement("b",{className:"bold-prefix"},this.props.gruntman.localizations.repeat_word),f.a.createElement("div",{className:"repeat-task-name"},this.state.name)),f.a.createElement("a",{className:"repeat-close",onClick:this.props.onDidDismiss},f.a.createElement("i",{className:"fa fa-times"}))),f.a.createElement("div",null,f.a.createElement("div",{className:"repeat-basic-row"},f.a.createElement("div",{className:"repeat-rule-selector"},f.a.createElement("span",null,f.a.createElement("i",{className:"repeat-label fa fa-redo"}),f.a.createElement("span",{className:"repeat-label"},this.props.gruntman.localizations.repeat_word)),f.a.createElement(m.l,{className:"repeat-select",interface:"popover",value:this.state.rule,mode:"ios",onIonChange:function(t){e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{repeat:{rule:t.detail.value}}}),e.setState({rule:t.detail.value,advanced:!1,on:void 0})}},f.a.createElement(m.m,{className:"repeat-select__option",value:"none"},"@NEEDLOC None"),f.a.createElement(m.m,{className:"repeat-select__option",value:"daily"},this.props.gruntman.localizations.repeat_every_day),f.a.createElement(m.m,{className:"repeat-select__option",value:"weekly"},this.props.gruntman.localizations.repeat_every_week),f.a.createElement(m.m,{className:"repeat-select__option",value:"monthly"},this.props.gruntman.localizations.repeat_every_month),f.a.createElement(m.m,{className:"repeat-select__option",value:"yearly"},this.props.gruntman.localizations.repeat_every_year))),f.a.createElement("a",{style:{color:"var(--decorative-light-alt)",float:"right",cursor:"pointer",display:["weekly","monthly"].includes(this.state.rule)?"inline":"none"},className:"fas "+(this.state.advanced?"fa-caret-down":"fa-caret-up"),onClick:function(){e.state.advanced?(e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{repeat:{rule:e.state.rule}}}),e.setState({rule:e.state.rule,advanced:!1,on:void 0})):(e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{repeat:{rule:e.state.rule,on:[]}}}),e.setState({rule:e.state.rule,advanced:!0,on:[]}))}}))),f.a.createElement("div",{style:{margin:"10px 20px",color:"var(--content-normal-alt)"}},function(){if(e.state.advanced)switch(e.state.rule){case"weekly":return f.a.createElement("div",{className:"repeat-weekgrid"},[["M",e.props.gruntman.localizations.repeat_datework_weekname_m],["T",e.props.gruntman.localizations.repeat_datework_weekname_tu],["W",e.props.gruntman.localizations.repeat_datework_weekname_w],["Th",e.props.gruntman.localizations.repeat_datework_weekname_th],["F",e.props.gruntman.localizations.repeat_datework_weekname_f],["S",e.props.gruntman.localizations.repeat_datework_weekname_sa],["Su",e.props.gruntman.localizations.repeat_datework_weekname_su]].map((function(t){return f.a.createElement("a",{key:t,className:"repeat-weekgrid-number "+(e.state.on&&e.state.on.includes(t[0])?"repeat-weekgrid-number-selected":""),onClick:function(){if(e.state.on.includes(t[0])){var a=e.state.on.filter((function(e){return e!==t[0]}));e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{repeat:{rule:e.state.rule,on:a}}}),e.setState({on:a})}else{var n=e.state.on;n.push(t[0]);var r=n;e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{repeat:{rule:e.state.rule,on:r}}}),e.setState({on:r})}}},t[1])})));case"monthly":return f.a.createElement("div",{className:"repeat-dategrid"},["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","Last"].map((function(t){return f.a.createElement("a",{key:t,className:"repeat-dategrid-number "+(e.state.on&&e.state.on.includes(t.toLowerCase())?"repeat-dategrid-number-selected":""),onClick:function(){if(e.state.on.includes(t.toLowerCase())){var a=e.state.on.filter((function(e){return e!==t.toLowerCase()}));e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{repeat:{rule:e.state.rule,on:a}}}),e.setState({on:a})}else{var n=e.state.on;n.push(t.toLowerCase());var r=n;e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{repeat:{rule:e.state.rule,on:r}}}),e.setState({on:r})}}},t)})))}}())))}}]),a}(h.Component),E=(a(431),a(37),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={tagList:[]},n}return Object(u.a)(a,[{key:"setTagState",value:function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.engine.db.getTags(this.props.uid);case 2:this.state.tagList=e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.setTagState()}},{key:"tagClicked",value:function(e){console.log(this.state.tagList.length)}},{key:"tagDeleteClicked",value:function(e,t){this.props.engine.db.deleteTag(this.props.uid,this.state.tagList[t].id);var a=this.state.tagList;a.splice(t,1),this.setState({tagList:a}),e.stopPropagation()}},{key:"render",value:function(){var e=this;return f.a.createElement(m.f,{ref:this.props.reference,isOpen:this.props.isShown,onDidPresent:function(){e.setTagState()},onDidDismiss:function(){e.props.onDidDismiss&&e.props.onDidDismiss()},style:{borderRadius:5,border:"1px solid red"},cssClass:"tag-editor"},f.a.createElement("div",{className:"TagEditor-header"},f.a.createElement("span",{style:{display:"inline-flex",alignItems:"center"}},f.a.createElement("b",{className:"bold-prefix"},"Tags")),f.a.createElement("a",{className:"TagEditor-close",onClick:this.props.onDidDismiss},f.a.createElement("i",{className:"fa fa-times"}))),f.a.createElement("div",{className:"tag-pane-container"},f.a.createElement("div",{className:"tag-list"},this.state.tagList.map((function(t,a){return f.a.createElement("div",{className:"tag-in-list",onClick:function(){e.tagClicked(a)}},f.a.createElement("div",{className:"tag-name"},t.name),f.a.createElement("a",{className:"TagEditor-close",onClick:function(t){return e.tagDeleteClicked(t,a)}},f.a.createElement("i",{className:"fa fa-times x"})))}))),f.a.createElement("div",{className:"tag-settings"})))}}]),a}(h.Component)),_=a(103),O=(a(432),a(67),a(198).parseFromTimeZone),S=a(37),D=g.Keyframes.Spring({hide:{to:{taskHeight:38,taskMargin:"2px 8px",taskBackground:"",taskPadding:3,taskEditOpacity:0,taskEditMaxHeight:0,taskOpacity:1,taskNameDecoration:"",taskPosition:"",taskDisplay:"",taskMaxHeight:40},config:{tension:200,friction:25,mass:1},reset:!1},show:{to:{taskHeight:38,taskMargin:"15px 25px",taskBackground:"var(--task-selected)",taskPadding:10,taskEditOpacity:1,taskDisplay:"",taskOpacity:1,taskEditMaxHeight:300,taskNameDecoration:"",taskPosition:"",taskMaxHeight:500},config:{tension:200,friction:25,mass:1},reset:!1},complete:[{to:{taskMargin:"14px 8px",taskNameDecoration:"line-through",taskOpacity:1,taskPosition:""},config:{tension:200,friction:25,mass:1}},{to:{taskMaxHeight:0,taskHeight:0,taskOpacity:0,taskMargin:"0px 8px",taskPadding:0,taskPosition:"absolute"},config:{tension:800,friction:50,mass:1}}]}),N=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).componentWillUnmount=function(){return document.removeEventListener("mousedown",n.detectOutsideClick,!1)},n.toggleTask=function(){return n.setState((function(e){return{expanded:!e.expanded}}))},S(Object(l.a)(n)),n.state={expanded:!1,deferDate:void 0,dueDate:void 0,name:"",desc:"",isFlagged:!1,isFloating:!1,project:"",tags:[],decoration:"",availability:!0,isComplete:!1,showRepeat:!1,showTagEditor:!1,deferPopoverShown:!1,duePopoverShown:!1,startingCompleted:n.props.startingCompleted,possibleTags:n.props.datapack[0],haveBeenExpanded:void 0!==n.props.startOpen&&!1!==n.props.startOpen,notificationPopoverShown:[!1,null],notificationCalendarShown:!1,hasNotification:!1},n.initialRenderDone=!1,n.me=f.a.createRef(),n.repeater=f.a.createRef(),n.checkbox=f.a.createRef(),n.TagEditorRef=f.a.createRef(),n.actualCheck=f.a.createRef(),n.duePopover=f.a.createRef(),n.deferPopover=f.a.createRef(),n.notificationPopover=f.a.createRef(),n.notificationCalender=f.a.createRef(),n}return Object(u.a)(a,[{key:"showRepeat",value:function(){this.setState({showRepeat:!0})}},{key:"hideRepeat",value:function(){this.setState({showRepeat:!1})}},{key:"showTagEditor",value:function(){this.setState({showTagEditor:!0})}},{key:"showTageEditor",value:function(){this.setState({showTageEditor:!1})}},{key:"showNotificationPopover",value:function(e){this.state.hasNotification?this.setState({notificationPopoverShown:[!0,e.nativeEvent]}):this.setState({notificationCalendarShown:!0})}},{key:"loadTask",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.engine.db.getTaskInformation(this.props.uid,this.props.tid);case 2:return t=e.sent,e.t0=this,e.t1=t.name,e.t2=t.desc,e.t3=t.project,e.t4=t.tags,e.t5=t.isFloating,e.t6=t.isFlagged,e.t7=t.isComplete,e.t8=t.due?t.isFloating?new Date(1e3*t.due.seconds):O(new Date(1e3*t.due.seconds).toISOString(),{timeZone:t.timezone}):void 0,e.t9=t.defer?t.isFloating?new Date(1e3*t.defer.seconds):O(new Date(1e3*t.defer.seconds).toISOString(),{timeZone:t.timezone}):void 0,e.next=15,this.props.gruntman.checkNotification(this.props.tid);case 15:e.t10=e.sent,e.t11={name:e.t1,desc:e.t2,project:e.t3,tags:e.t4,isFloating:e.t5,isFlagged:e.t6,isComplete:e.t7,dueDate:e.t8,deferDate:e.t9,hasNotification:e.t10},e.t0.setState.call(e.t0,e.t11),this.refreshDecorations(),this.initialRenderDone=!0;case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"refreshDecorations",value:function(){this.state.dueDate&&(this.state.dueDate-new Date<0?this.setState({decoration:"od"}):this.state.dueDate-new Date<864e5?this.setState({decoration:"ds"}):this.setState({decoration:""})),this.state.deferDate&&(this.state.deferDate-new Date>0?this.setState({availability:!1}):!0===this.props.availability?this.setState({availability:!0}):this.props.availability||this.setState({availability:!1}))}},{key:"componentDidMount",value:function(){this.loadTask(),document.addEventListener("mousedown",this.detectOutsideClick,!1)}},{key:"closeTask",value:function(){this.setState({expanded:!1})}},{key:"openTask",value:function(){var e=this;this.state.haveBeenExpanded?this.setState({expanded:!0}):this.setState({haveBeenExpanded:!0},(function(){return e.setState({expanded:!0})}))}},{key:"_explode",value:function(){var e=this;this.initialRenderDone=!0,this.setState({haveBeenExpanded:!0},(function(){return e.setState({expanded:!0})}))}},{key:"detectOutsideClick",value:function(e){this.me.current&&this.me.current.contains(e.target)||this.repeater.current&&this.repeater.current.contains(e.target)||this.duePopover.current&&this.duePopover.current.contains(e.target)||this.deferPopover.current&&this.deferPopover.current.contains(e.target)||this.notificationPopover.current&&this.notificationPopover.current.contains(e.target)||this.notificationCalender.current&&this.notificationCalender.current.contains(e.target)||this.TagEditorRef.current&&this.TagEditorRef.current.contains(e.target)||document.getElementById("parking-lot").contains(e.target)||this.props.onModal&&document.getElementById("airplane-hanger").contains(e.target)||this.state.showRepeat||this.state.showTagEditor||this.closeTask()}},{key:"componentDidUpdate",value:function(e,t,a){t.deferDate!==this.state.deferDate&&this.refreshDecorations(),t.dueDate!==this.state.dueDate&&this.refreshDecorations(),t.expanded!==this.state.expanded&&!0===this.state.expanded?(Object(m.x)().includes("mobile")&&(document.getElementById("abtib").style.display="none"),this.props.setDragEnabled&&this.props.setDragEnabled(!1),this.props.gruntman.lockUpdates()):t.expanded!==this.state.expanded&&!1===this.state.expanded&&(Object(m.x)().includes("mobile")&&(document.getElementById("abtib").style.display="block"),this.props.setDragEnabled&&this.props.setDragEnabled(!0),this.props.gruntman.unlockUpdates()),e.startOpen!==this.props.startOpen&&this.props.startOpen&&this.openTask()}},{key:"render",value:function(){var e=this;return f.a.createElement("div",null,f.a.createElement(D,{native:!0,state:this.initialRenderDone?this.state.isComplete?this.state.startingCompleted?this.state.expanded?"show":"hide":"complete":this.state.startingCompleted?"complete":this.state.expanded?"show":"hide":"hide"},(function(t){return f.a.createElement(g.animated.div,{onClick:function(t){e.state.expanded||t.target===e.checkbox.current||t.target===e.actualCheck.current||e.props.freeze||e.state.isComplete&&!e.state.startingCompleted||e.openTask()},className:"task "+(e.state.expanded?"expanded":"collapsed"),ref:e.me,style:{minHeight:t.taskHeight,maxHeight:t.taskMaxHeight,margin:t.taskMargin,background:t.taskBackground,opacity:t.taskOpacity,overflow:"hidden",display:t.taskDisplay,position:g.animated.taskPosition,padding:t.taskPadding}},f.a.createElement(j,{tid:e.props.tid,reference:e.repeater,isShown:e.state.showRepeat,onDidDismiss:e.hideRepeat,uid:e.props.uid,engine:e.props.engine,gruntman:e.props.gruntman}),f.a.createElement(E,{reference:e.TagEditorRef,isShown:e.state.showTagEditor,onDidDismiss:function(){return e.setState({showTagEditor:!1})},uid:e.props.uid,engine:e.props.engine,gruntman:e.props.gruntman}),f.a.createElement("div",{style:{display:"inline-block",transform:"translateY(-3px)"}},f.a.createElement("input",{type:"checkbox",ref:e.actualCheck,id:"task-check-"+e.props.tid,className:"task-check",defaultChecked:e.props.startingCompleted,onChange:function(){e.state.isComplete?(e.props.gruntman.lockUpdates(),e.setState({isComplete:!1}),e.props.gruntman.do("task.update__uncomplete",{uid:e.props.uid,tid:e.props.tid},!0),e.props.gruntman.unlockUpdates(1e3)):e.state.isComplete||(e.props.gruntman.lockUpdates(),e.setState({isComplete:!0}),e.props.gruntman.do("task.update__complete",{uid:e.props.uid,tid:e.props.tid},!0),e.props.gruntman.unlockUpdates(1e3))},style:{opacity:e.state.availability?1:.35}}),f.a.createElement("label",{ref:e.checkbox,className:"task-pseudocheck "+e.state.decoration,id:"task-pseudocheck-"+e.props.tid,htmlFor:"task-check-"+e.props.tid},"\u200c")),f.a.createElement(g.animated.input,{defaultValue:e.state.name,onChange:function(t){t.persist(),e.props.gruntman.registerScheduler((function(){return e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{name:t.target.value}})}),"task-name-".concat(e.props.tid,"-update"))},onFocus:function(t){e.state.expanded||Object(m.x)().includes("mobile")&&t.target.blur()},className:"task-name "+(e.state.expanded?"":"no-select"),readOnly:!e.state.expanded,type:"text",autoComplete:"off",placeholder:e.props.gruntman.localizations.nt,style:{opacity:e.state.availability?1:.35,textDecoration:t.taskNameDecoration},onKeyDown:function(t){return"Enter"==t.key?e.setState({expanded:!1}):void 0}}),function(){if(!0===e.state.haveBeenExpanded)return f.a.createElement(g.animated.div,{className:"task-edit",style:{opacity:t.taskEditOpacity,overflow:"hidden",maxHeight:t.taskEditMaxHeight}},f.a.createElement("textarea",{tabIndex:"0",placeholder:e.props.gruntman.localizations.desc,className:"task-desc",style:{marginBottom:10},defaultValue:e.state.desc,onChange:function(t){t.persist(),e.props.gruntman.registerScheduler((function(){return e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{desc:t.target.value}})}),"task-desc-".concat(e.props.tid,"-update"))}}),f.a.createElement("div",{style:{display:"inline-block",marginBottom:6,transform:"translateY(-5px)"}},f.a.createElement("a",{"data-tip":e.props.gruntman.psp_flg,className:"task-icon",style:{borderColor:e.state.isFlagged?"var(--task-icon-ring-highlighted)":"var(--task-icon-ring)",cursor:"pointer"},onClick:function(){e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{isFlagged:!e.state.isFlagged}}),e.setState({isFlagged:!e.state.isFlagged})}},f.a.createElement("i",{className:"fas fa-flag",style:{margin:3,color:e.state.isFlagged?"var(--task-icon-highlighted)":"var(--task-icon-text)",fontSize:15,transform:"translate(7px, 5px)"}})),f.a.createElement("a",{"data-tip":"LOCALIZE: Floating",className:"task-icon",style:{borderColor:e.state.isFloating?"var(--task-icon-ring-highlighted)":"var(--task-icon-ring)",cursor:"pointer"},onClick:function(){e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{isFloating:!e.state.isFloating}}),e.setState({isFloating:!e.state.isFloating})}},f.a.createElement("i",{className:"fas fa-globe-americas",style:{margin:3,color:e.state.isFloating?"var(--task-icon-highlighted)":"var(--task-icon-text)",fontSize:15,transform:"translate(7px, 5px)"}})),f.a.createElement("a",{onClick:e.showRepeat,className:"task-icon",style:{borderColor:"var(--task-icon-ring)",cursor:"pointer"},"data-tip":"LOCALIZE: Repeat"},f.a.createElement("i",{className:"fas fa-redo",style:{margin:3,color:"var(--task-icon-text)",fontSize:15,transform:"translate(6.5px, 5.5px)"}})),f.a.createElement(_.b,{gruntman:e.props.gruntman,reference:e.notificationCalender,uid:e.props.uid,disableOnclick:!0,engine:e.props.engine,isShown:e.state.notificationCalendarShown,onDidDismiss:function(){return e.setState({notificationCalendarShown:!1})},useTime:!0,initialDate:e.state.dueDate,onDateSelected:function(t){e.props.gruntman.cancelNotification(e.props.tid).then((function(){e.props.gruntman.scheduleNotification(e.props.tid,e.props.uid,e.state.name,e.state.desc,t),e.setState({hasNotification:!0})}))}}),f.a.createElement(m.h,{showBackdrop:!1,isOpen:e.state.notificationPopoverShown[0],cssClass:"notif-popover",mode:"md",onDidDismiss:function(t){return e.setState({notificationPopoverShown:[!1,null]})},event:e.state.notificationPopoverShown[1],ref:e.notificationPopover},f.a.createElement("div",null,f.a.createElement("div",{className:"notification-popover-item",onClick:function(){e.props.gruntman.cancelNotification(e.props.tid),e.setState({hasNotification:!1,notificationPopoverShown:[!1,null]})}},"Cancel Notification"),f.a.createElement("div",{className:"notification-popover-item",onClick:function(){return e.setState({notificationCalendarShown:!0,notificationPopoverShown:[!1,null]})}},"Change Notification"))),function(){if(e.props.gruntman.notifPermissionGranted&&!Object(m.x)().includes("mobileweb")&&!Object(m.x)().includes("desktop"))return f.a.createElement("a",{onClick:e.showNotificationPopover,className:"task-icon",style:{borderColor:"var(--task-icon-ring)",cursor:"pointer"},"data-tip":"LOCALIZE: Repeat"},f.a.createElement("i",{className:"fas fa-bell",style:{margin:3,color:"var(--task-icon-text)",fontSize:15,transform:"translate(7px, 5.5px)"}}))}(),f.a.createElement("a",{onClick:e.showTagEditor,className:"task-icon",style:{borderColor:"var(--task-icon-ring)",marginRight:20,cursor:"pointer"},"data-tip":"LOCALIZE: Freaking TagEditor"},f.a.createElement("i",{className:"fas fa-tags",style:{margin:3,color:"var(--task-icon-text)",fontSize:15,transform:"translate(6.5px, 5.5px)"}}))),f.a.createElement("div",{style:{display:"inline-block",marginBottom:8}},f.a.createElement("div",{style:{display:"inline-block",marginRight:10,marginBottom:5,marginLeft:6}},f.a.createElement("i",{className:"fas fa-play","data-tip":"LOCALIZE: Defer Date",style:{transform:"translateY(-1px)",marginRight:10,color:"var(--task-icon)",fontSize:10}}),f.a.createElement(_.b,{gruntman:e.props.gruntman,reference:e.deferPopover,uid:e.props.uid,engine:e.props.engine,isShown:e.state.deferPopoverShown,onDidDismiss:function(){return e.setState({deferPopoverShown:!1})},useTime:!0,initialDate:e.state.deferDate,onDateSelected:function(t){e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{defer:t,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}}),e.setState({deferDate:t})}}),function(){var t=function(t){var a=t.value,n=t.onClick;return f.a.createElement("input",{tabIndex:"0",className:"task-datebox",readOnly:Object(m.x)().includes("mobile"),defaultValue:a,onChange:function(t){t.persist(),e.props.gruntman.registerScheduler((function(){var a=k.parseDate(t.target.value);a&&e.setState({deferDate:a}),a&&e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{defer:a,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}})}),"task-defer-".concat(e.props.tid,"-update"))},onFocus:function(t){Object(m.x)().includes("mobile")?e.setState({deferPopoverShown:!0}):(n(),t.target.focus())}})},a=function(e){var t=e.value,a=e.onChange;return":0"===t.slice(t.length-2,t.length)&&(t+="0"),f.a.createElement("input",{className:"task-timebox",defaultValue:t,onKeyPress:function(e){var t=k.parseDate(e.target.value);t&&"Enter"===e.key&&a(t.getHours()+":"+t.getMinutes()+":"+t.getSeconds())}})};return f.a.createElement(b.a,{selected:e.state.deferDate,portalId:e.props.onModal?"airplane-hanger":"parking-lot",onChange:function(t){e.setState({deferDate:t}),e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{defer:t,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}})},showTimeInput:!0,dateFormat:"MM/dd/yyyy h:mm aa",customTimeInput:f.a.createElement(a,null),customInput:f.a.createElement(t,null)})}()),f.a.createElement("div",{style:{display:"inline-block",marginBottom:5,marginLeft:6}},f.a.createElement("i",{className:"fas fa-stop","data-tip":"LOCALIZE: Due Date",style:{transform:"translateY(-1px)",marginRight:10,color:"var(--task-icon)",fontSize:10}}),f.a.createElement(_.b,{gruntman:e.props.gruntman,reference:e.duePopover,uid:e.props.uid,engine:e.props.engine,isShown:e.state.duePopoverShown,onDidDismiss:function(){return e.setState({duePopoverShown:!1})},useTime:!0,initialDate:e.state.dueDate,onDateSelected:function(t){e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{due:t,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}}),e.setState({dueDate:t})}}),function(){var t=function(t){var a=t.value,n=t.onClick;return f.a.createElement("input",{tabIndex:"0",className:"task-datebox",readOnly:!!Object(m.x)().includes("mobile"),defaultValue:a,onChange:function(t){t.persist(),e.props.gruntman.registerScheduler((function(){var a=k.parseDate(t.target.value);a&&e.setState({dueDate:a}),a&&e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{due:a,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}})}),"task-due-".concat(e.props.tid,"-update"))},onFocus:function(t){Object(m.x)().includes("mobile")?e.setState({duePopoverShown:!0}):(n(),t.target.focus())}})},a=function(e){var t=e.value,a=e.onChange;return":0"===t.slice(t.length-2,t.length)&&(t+="0"),f.a.createElement("input",{className:"task-timebox",defaultValue:t,onKeyPress:function(e){var t=k.parseDate(e.target.value);t&&"Enter"===e.key&&a(t.getHours()+":"+t.getMinutes()+":"+t.getSeconds())}})};return f.a.createElement(b.a,Object(r.a)({selected:e.state.dueDate,portalId:e.props.onModal?"airplane-hanger":"parking-lot",onChange:function(t){return e.setState({dueDate:t})},showTimeInput:!0,isClearable:!0,dateFormat:"MM/dd/yyyy h:mm aa",customTimeInput:f.a.createElement(a,null),customInput:f.a.createElement(t,null)},"onChange",(function(t){e.setState({dueDate:t}),e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{due:t,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}})})))}())),f.a.createElement("div",null,f.a.createElement("span",{className:"task-project-container"},f.a.createElement("i",{className:"fas fa-list-ul",style:{margin:3,color:"var(--task-icon)",fontSize:13,marginRight:5,transform:"translateY(5px)"}}),f.a.createElement(y.a,{options:e.props.datapack[1],className:"task-project",classNamePrefix:"task-select",isClearable:!0,styles:{menuPortal:function(e){return Object(n.a)(Object(n.a)({},e),{},{zIndex:"99999 !important"})}},menuPortalTarget:document.body,value:e.props.datapack[1].filter((function(t){return t.value===e.state.project})),onChange:function(t){e.props.gruntman.do("task.update__project",{uid:e.props.uid,tid:e.props.tid,oldProject:""===e.state.project?void 0:e.state.project,project:t?t.value:""}),e.setState({project:t?t.value:""})}})),f.a.createElement("span",{className:"task-tag-container"},f.a.createElement("i",{className:"fas fa-tags",style:{margin:3,color:"var(--task-icon)",fontSize:13,transform:"translateY(5px)"}}),f.a.createElement(w.a,{options:e.props.datapack[0],className:"task-tag",classNamePrefix:"task-select",isClearable:!0,isMulti:!0,styles:{menuPortal:function(e){return Object(n.a)(Object(n.a)({},e),{},{zIndex:"99999 !important"})}},menuPortalTarget:document.body,value:e.props.datapack[0].filter((function(t){return e.state.tags.includes(t.value)})),onChange:function(t,a){var n=e,r=t?t.map(function(){var e=Object(o.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.__isNew__){e.next=10;break}return e.next=3,n.props.gruntman.do("tag.create",{uid:n.props.uid,name:t.label});case 3:return a=e.sent.id,(r=n.state.possibleTags).push({label:t.label,value:a}),n.setState({possibleTags:r}),e.abrupt("return",a);case 10:return e.abrupt("return",t.value);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):[];Promise.all(r).then((function(t){e.setState({tags:t}),e.props.gruntman.do("task.update",{uid:e.props.uid,tid:e.props.tid,query:{tags:t}})}))}}))))}())})))}}]),a}(h.Component);t.a=N},431:function(e,t,a){},432:function(e,t,a){},494:function(e,t,a){},496:function(e,t,a){},517:function(e,t,a){},518:function(e,t,a){},519:function(e,t,a){},521:function(e,t,a){},522:function(e,t,a){},523:function(e,t,a){},526:function(e){e.exports=JSON.parse('{"app_name":"Condution","client_name":"Condution Desktop Client","missing_internet":"Missing Internet Connection...","missing_internet_content":"You need the intrawebitubes to truly experience cloud-synced Condution.","missing_internet_action":"Get online to proceed. Or, you could ","missing_internet_action_button":"Use Local Database","setting_up_callout":"Setting up Condution...","setting_up_action":"We are hard at work creating your Condution account.","setting_up_hold":"Hold on tight!","onboarding_howdy":"Howdy!","onboarding_welcome":"Welcome to Condution.","onboarding_quick_things":"Just a few quick things, and we will have you task-wrangling in no time!","onboarding_ready":"Ready to launch? \ud83c\udf89","onboarding_msg_0":"Excellent. We know you are.","onboarding_msg_1_1":"Please take a look at our","terms":"terms","onboarding_msg_1_2":"and","policy":"privacy policy","onboarding_msg_1_3":"and make sure you agree with them.","onboarding_agree":"I agree \ud83d\udc4d","onboarding_msg_2":"Lastly, we want to connect you with sync.","onboarding_sync_yes":"Let\'s do it! \ud83c\udf10","onboarding_sync_no":"Use locally. \ud83d\udcbe","onboarding_msg_3":"Data stored on your machine if used locally. No registration needed if sync is not enabled.","perspective_build_callout":"Let\'s build","perspective_name_placeholder":"cool perspective name","perspective_string_placeholder":"try a filter like [#bontehu]...","perspective_include":"Include","perspective_order":"Order","workspace_email":"Email","workspace_welcome":"Welcome to","nahman":"Nah, man.","where_workspace":"Where did you get that workspace link?","workspace_forbidden":"Workspace access forbidden.","workspace_explanation":"Good to see you. You just tapped on a Condution workspace link! Workspaces are collaborative sessions where people could share a set of to-do projects to jot down ideas and track progress. ","psp_avil":"Avaliable","psp_rem":"Remaining","psp_flg":"Flagged","psp_abd":"Ascend by Due","psp_dbd":"Descend by Due","psp_abe":"Ascend by Defer","psp_dbe":"Descend by Defer","psp_alpha":"Alphabetical","psp_doc":"Need help?","repeat_word":"Repeat","repeat_every":"Every...","repeat_every_day":"Day","repeat_every_week":"Week","repeat_every_month":"Month","repeat_every_year":"Year","repeat_every_text_day":"every day.","repeat_every_text_week":"every week.","repeat_every_text_month":"every month.","repeat_every_text_year":"every year.","repeat_advanced":"Advanced...","repeat_datework_weekname_m":"M","repeat_datework_weekname_tu":"Tu","repeat_datework_weekname_w":"W","repeat_datework_weekname_th":"Th","repeat_datework_weekname_f":"F","repeat_datework_weekname_sa":"Sa","repeat_datework_weekname_su":"Su","repeat_last":"Last","convert_callout":"Let\'s Sync!","what_should_we":"What should we call you?","email":"Email","password":"Password","sync":"Sync!","upcoming":"Upcoming","calendar":"Calendar","completed":"Completed","perspectives":"Perspectives","projects":"Projects","logout":"Logout","exitworkspace":"Exit Workspace","unsorted":"Unsorted","publicify":"Enable Link Access","ds":"Due Soon","clbtd":"Today","clbyd":"Yesterday","clbpw":"Past Week","clbpm":"Past Month","clbel":"Earlier/Untracked","fetchmore":"Fetch more...","fetchmoretasks":"Fetch \'em tasks!","muchempty":"Wow... Much empty!","blk_smp":"Some more productivity?","blk_smf":"Some more filters?","nb_at":"add a task","nb_ap":"add a project","blk_adt":"Add a task?","welcome_auth_msg":"Welcome to Condution.","greeting_auth_normal":"Good to see you. Please sign in or tap Use Locally.","need_and_do":"Check and verify your email, then tap Let\'s Do This!","need_verify":"Verify your email, then tap proceed!","need_and_login":"Check and verify your email, then return to login.","recover_password":"Recover Password","login":"Log in","newuser":"Make an account","lds":"Let\'s do this!","verifem":"Verify Email!","lerec":"Let\'s Recover!","ulac":"Use Locally","nt":"New Task","desc":"Description","hide":"Hide","show":"Show","timeline":"timeline","rec_pswd":"Recover Password","lovely_email":"Check your inbox. A lovely email is awaiting you.","proceed":"Proceed!","remembered":"Remembered? Login","noworries":"No worries! Let\'s recover your password.","signupmsg":"Welcome aboard! By signing up, you agree to our","personal_workspace":"Personal Workspace","new_workspace":"create workspace","greetings_setA":["Hey!","G\'day!","Howdy!","Yo!"],"greetings_setB":["Hello,","Hey,","Heyo,","Aloha,","Yo!"],"include_avalibale":"Include: Avaliable","include_flagged":"Include: Flagged","include_remaining":"Include: Remaining","order_abd":"Order: ascend by due","order_dbd":"Order: descend by due","order_abe":"Order: ascend by defer","order_dbe":"Order: descend by defer","order_alpha":"Order: alphabetical","loading":"Loading","welcome_aboard":"Welcome Aboard!","b2b":"Back to Basic...","search_projects":"Search Projects...","qa_content":"Add something to the inbox?","onboarding_content":["Hey","\ud83d\ude4c welcome to Condution! \ud83d\ude4c","Yaay!","\u2b05 Click this box to complete a task!","Nice!","Click here \ud83c\udfaf to edit a task.","The Flag \ud83d\udea9 toggle flags a task, the Globe \ud83c\udf0e toggle toggles fixed and floating timezone, the date-boxes \u25b6\ufe0f \u23f9 picks defer and due dates, the project \ud83d\udccb field picks projects, the tag \ud83c\udff7 field picks tags, and, most importantly, yours truly \ud83d\udc40 is the awesome description box!","Condution Yourself","Due, Due-Soon, Defer","Oh no! I\'m overdue! \ud83d\ude13","With Condution, you will never have another one of me again. (At least we hope.)","\ud83e\udd28 I\'m due soon! Better get going on me.","The lovely orange color will change to red when I become due.","\ud83d\udc40 Check out the menu and tap \'Condution Yourself\'","Because, why woulden\'t you?","Nice! \ud83d\ude09 This is a lovely project!","Tap the three vertical dots \u2197","That will make the project sequential!","In a sequential project, I will be grey.","We are blocked in that case.","Only the top action \u261d\ufe0f  in sequential projects is available","That one is not blocked.","Excellent. \ud83d\ude04 Now tap the \'Aftercare\' Perspective in the Menu!","Amazing Physics Going On...","Perspective Tasks","Aftercare","Productivity","Low Energy","Unimportant","After you are done, tap \'Come hang out\' in the menu!","Bontehu","Tap the pencil \u270f\ufe0f icon to see what I\'m filtering! \u2934","Bontehu","Aftercare","([#Aftercare]) ([#Low Energy #Unimportant])","Come hang out!","Get Condution Everywhere! \ud83c\udf0e: condution.shabang.cf","Catch us on Discord! \ud83d\udcac: discord.gg/QgxUCyj","Support Condution! \ud83c\udf97: patreon.comcondution","From all of us at #!/Shabang + Condution Project, enjoy!","Why are you reading this description? Go be productive!"]}')},527:function(e){e.exports=JSON.parse('{"app_name":"Condution","client_name":"Condution Desktop Client","missing_internet":"\u989d\uff0c\u7f51\u7edc\u6302\u4e86\u3002","missing_internet_content":"\u5728\u8131\u673a\u72b6\u6001\u4e0b\u8fde\u4e0d\u4e0a\u4e92\u8054\u7f51\u7248\u7684Condution","missing_internet_action":"\u8bf7\u8054\u7f51\u540e\u7ee7\u7eed\u3002\u6216\u8005","missing_internet_action_button":"\u4f7f\u7528\u8131\u673a\u6570\u636e\u5e93","setting_up_callout":"\u6b63\u5728\u914d\u7f6eCondution...","setting_up_action":"\u6211\u4eec\u6b63\u5728\u52aa\u529b\u7684\u8bbe\u7f6e\u60a8\u7684Condution\u8d26\u6237","setting_up_hold":"\u51c6\u5907\u597d\u4e86\u5417\uff1f","onboarding_howdy":"\u60a8\u597d\uff01","onboarding_welcome":"\u6b22\u8fce\u4f7f\u7528Condution","onboarding_quick_things":"\u60a8\u5373\u5c06\u611f\u53d7\u9879\u76ee\u7ba1\u7406\u5e26\u6765\u7684\u4e0d\u540c\u751f\u6d3b","onboarding_ready":"\u51c6\u5907\u597d\u4e86\u5417\uff1f \ud83c\udf89","onboarding_msg_0":"\u592a\u68d2\u4e86\uff01","onboarding_msg_1_1":"\u8bf7\u9605\u8bfb\u6211\u4eec\u7684","terms":"\u8425\u4e1a\u6761\u6b3e","onboarding_msg_1_2":"\u548c","policy":"\u9690\u79c1\u534f\u8bae","onboarding_msg_1_3":"\u5e76\u786e\u8ba4\u60a8\u540c\u610f\u5176\u5185\u5bb9","onboarding_agree":"\u6211\u540c\u610f \ud83d\udc4d","onboarding_msg_2":"\u6700\u540e\uff0c\u6211\u4eec\u5e0c\u671b\u60a8\u52a0\u5165\u514d\u8d39\u7684\u6570\u636e\u540c\u6b65\u670d\u52a1","onboarding_sync_yes":"\u540c\u6b65\u5427\uff01 \ud83c\udf10","onboarding_sync_no":"\u7b97\u4e86\u3002 \ud83d\udcbe","onboarding_msg_3":"\u5982\u679c\u60a8\u9009\u62e9\u4e0d\u540c\u6b65\uff0c\u6570\u636e\u5c06\u4f1a\u5b58\u50a8\u5728\u60a8\u7684\u8ba1\u7b97\u673a\u4e0a\u3002","perspective_build_callout":"\u8ba9\u6211\u4eec\u7f16\u8f91","perspective_name_placeholder":"\u9177\u81ea\u5b9a\u4e49\u89c6\u56fe","perspective_string_placeholder":"\u8bd5\u4e00\u8bd5[#bontehu]\u8fd9\u4e2a\u6ee4\u955c\u4ee3\u7801","perspective_include":"\u5305\u62ec","perspective_order":"\u987a\u5e8f","psp_avil":"\u53ef\u6267\u884c","psp_rem":"\u5269\u4f59","psp_flg":"\u7ea2\u65d7","psp_abd":"\u4ee5\u622a\u6b62\u65e5\u671f\u5347\u5e8f","psp_dbd":"\u4ee5\u622a\u6b62\u65e5\u671f\u964d\u5e8f","psp_abe":"\u4ee5\u5f00\u59cb\u65e5\u671f\u5347\u5e8f","psp_dbe":"\u4ee5\u5f00\u59cb\u65e5\u671f\u964d\u5e8f","psp_alpha":"\u6309\u5b57\u6bcd\u6392\u5e8f","psp_doc":"\u8fd9\u662f\u4ec0\u4e48\uff1f","repeat_word":"\u91cd\u590d","repeat_every":"\u6bcf...","repeat_every_day":"\u5929","repeat_every_week":"\u5468","repeat_every_month":"\u6708","repeat_every_year":"\u5e74","repeat_every_text_day":"\u6bcf\u5929\u3002","repeat_every_text_week":"\u6bcf\u5468\u3002","repeat_every_text_month":"\u6bcf\u6708\u3002","repeat_every_text_year":"\u6bcf\u5e74\u3002","repeat_advanced":"\u9ad8\u7ea7\u9009\u9879","repeat_datework_weekname_m":"M","repeat_datework_weekname_tu":"Tu","repeat_datework_weekname_w":"W","repeat_datework_weekname_th":"Th","repeat_datework_weekname_f":"F","repeat_datework_weekname_sa":"Sa","repeat_datework_weekname_su":"Su","repeat_last":"\u6700\u540e","convert_callout":"\u8ba9\u6211\u4eec\u540c\u6b65\u5427\uff01","what_should_we":"\u6211\u4eec\u5e94\u8be5\u5982\u4f55\u79f0\u547c\u60a8\uff1f","email":"\u7535\u5b50\u90ae\u4ef6","password":"\u5bc6\u7801","sync":"\u540c\u6b65\uff01","upcoming":"\u672a\u6765\u65f6\u523b","calendar":"\u65e5\u5386","completed":"\u5df2\u5b8c\u6210","perspectives":"\u81ea\u5b9a\u89c6\u56fe","projects":"\u9879\u76ee","logout":"\u767b\u51fa","unsorted":"\u672a\u5206\u7c7b","ds":"\u5373\u5c06\u5230\u671f","clbtd":"\u4eca\u5929","clbyd":"\u6628\u5929","clbpw":"\u4e0a\u5468","clbpm":"\u4e0a\u6708","clbel":"\u66f4\u65e9","fetchmore":"\u52a0\u8f7d\u66f4\u591a...","fetchmoretasks":"\u52aa\u529b\u52a0\u8f7d\u4e2d\uff01","muchempty":"\u5440\uff0c\u597d\u7a7a\u5440\u3002","blk_smp":"\u66f4\u591a\u751f\u4ea7\u529b\uff1f","blk_smf":"\u66f4\u591a\u6ee4\u955c\uff1f","nb_at":"\u6dfb\u52a0\u4efb\u52a1","nb_ap":"\u6dfb\u52a0\u9879\u76ee","blk_adt":"\u6dfb\u52a0\u4e00\u70b9\u4e8b\uff1f","welcome_auth_msg":"\u6b22\u8fce\u4f7f\u7528Condution","greeting_auth_normal":"\u5f88\u9ad8\u5174\u89c1\u5230\u60a8\uff01\u8bf7\u767b\u9646\uff0c\u6216\u70b9\u51fb\\"\u8131\u673a\u4f7f\u7528\\"","need_and_do":"\u8bf7\u70b9\u51fb\u60a8\u7535\u5b50\u90ae\u4ef6\u4e2d\u7684\u9a8c\u8bc1\u94fe\u63a5\uff0c\u5e76\u70b9\u51fb\u201c\u7ee7\u7eed\u201c","need_verify":"\u8bf7\u70b9\u51fb\u60a8\u7535\u5b50\u90ae\u4ef6\u4e2d\u7684\u9a8c\u8bc1\u94fe\u63a5\uff0c\u5e76\u70b9\u51fb\u201c\u7ee7\u7eed\u201c","need_and_login":"\u8bf7\u70b9\u51fb\u60a8\u7535\u5b50\u90ae\u4ef6\u4e2d\u7684\u9a8c\u8bc1\u94fe\u63a5\uff0c\u5e76\u56de\u5230\u767b\u9646\u9875","recover_password":"\u627e\u56de\u5bc6\u7801","login":"\u767b\u9646","newuser":"\u521b\u5efa\u8d26\u6237","lds":"\u5f00\u5e72\uff01","verifem":"\u9a8c\u8bc1\u90ae\u4ef6\uff01","lerec":"\u6062\u590d\u5bc6\u7801\uff01","ulac":"\u8131\u673a\u4f7f\u7528","nt":"\u65b0\u4efb\u52a1","desc":"\u4efb\u52a1\u4ecb\u7ecd","hide":"\u9690\u85cf","show":"\u5c55\u5f00","timeline":"\u65e5\u7a0b","rec_pswd":"\u627e\u56de\u5bc6\u7801","lovely_email":"\u8bf7\u70b9\u51fb\u90ae\u4ef6\u4e2d\u7684\u9a8c\u8bc1\u7801","proceed":"\u7ee7\u7eed\uff01","remembered":"\u8bb0\u5f97\u4e86\uff1f\u767b\u9646\u3002","noworries":"\u4e0d\u7528\u62c5\u5fc3\uff0c\u8ba9\u6211\u4eec\u6062\u590d\u5bc6\u7801","signupmsg":"\u6b22\u8fce\uff01\u4e3a\u4e86\u7ee7\u7eed\uff0c\u8bf7\u9605\u8bfb\u6211\u4eec\u7684","greetings_setA":["\u563f\uff01","\u55e8\uff01","\u54c8\u55bd\uff01","\u54df\uff01"],"greetings_setB":["\u54c8\u55bd,","\u563f\u5440,","\u559d\u54df,","\u563f\u5466\uff0c","\u54df\uff01"],"include_avalibale":"\u5305\u62ec\uff1a\u53ef\u6267\u884c","include_flagged":"\u5305\u62ec\uff1a\u7ea2\u65d7","include_remaining":"\u5305\u62ec\uff1a\u5269\u4f59","order_abd":"\u4ee5\u622a\u6b62\u65e5\u671f\u5347\u5e8f","order_dbd":"\u4ee5\u622a\u6b62\u65e5\u671f\u964d\u5e8f","order_abe":"\u4ee5\u5f00\u59cb\u65e5\u671f\u5347\u5e8f","order_dbe":"\u4ee5\u5f00\u59cb\u65e5\u671f\u964d\u5e8f","order_alpha":"\u4ee5\u5b57\u6bcd\u6392\u5e8f","loading":"\u52a0\u8f7d\u4e2d","welcome_aboard":"\u6b22\u8fce\uff01","b2b":"\u56de\u5230\u57fa\u7840\u9009\u9879","search_projects":"\u641c\u7d22\u9879\u76ee...","qa_content":"\u6dfb\u52a0\u4efb\u52a1\u5230\u672a\u5206\u7c7b","onboarding_content":["\u54c8\u55bd","\ud83d\ude4c \u6b22\u8fce\u4f7f\u7528Condution! \ud83d\ude4c","\u8036!","\u2b05 \u70b9\u51fb\u8fd9\u91cc\u6765\u5b8c\u6210\u4efb\u52a1!","\u563f\u563f","\u70b9\u51fb\u8fd9\u91cc \ud83c\udfaf \u6765\u7f16\u8f91\u4efb\u52a1.","\u7528\u65d7\u5e1c\u6309\u94ae \ud83d\udea9 \u6765\u63d2\u5165\u7ea2\u65d7\u3001 \u7528\u5730\u7403\u6309\u94ae \ud83c\udf0e \u6765\u66f4\u6539\u65f6\u533a\u6d6e\u52a8\u6216\u56fa\u5b9a\u6a21\u5f0f\u3001 \u7528\u65f6\u95f4\u8f93\u5165\u533a\uff08 \u25b6\ufe0f \u23f9 ) \u6765\u8f93\u5165\u4efb\u52a1\u5f00\u59cb\u548c\u7ed3\u675f\u65e5\u671f\u3001 \u7528\u9879\u76ee \ud83d\udccb \u8f93\u5165\u533a\u9009\u62e9\u4efb\u52a1\u3001 \u7528\u6807\u7b7e \ud83c\udff7 \u8f93\u5165\u533a\u6765\u6dfb\u52a0\u3002\u54e6\uff0c\u5bf9\u4e86\uff0c\u6211\ud83d\udc40\u662f\u4e07\u80fd\u7684\u4efb\u52a1\u4ecb\u7ecd\u533a\uff01","Condution\u7528\u8d77\u6765","\u5230\u671f\u3001\u5feb\u5230\u671f\u3001\u672a\u5f00\u59cb","\u54e6\uff01\u6211\u5df2\u7ecf\u5230\u671f\u4e86\uff01 \ud83d\ude13","\u6211\u4eec\u5e0c\u671b\u60a8\u5728\u7528Condution\u4e4b\u540e\u4e0d\u518d\u4f1a\u6709\u8fd9\u6837\u7684\u9879\u76ee\u4e86","\ud83e\udd28 \u6211\u5feb\u5230\u671f\u4e86\uff01\u5feb\u5f00\u59cb\u505a\u6211\u5427\uff01","\u5f53\u6211\u8fc7\u671f\u65f6\uff0c\u9ec4\u8272\u7684\u9009\u6846\u5c06\u53d8\u6210\u7ea2\u8272","\ud83d\udc40 \u770b\u4e00\u770b\u5de6\u8fb9\u7684\u83dc\u5355\uff0c\u7136\u540e\u70b9\u51fbCondution\u7528\u8d77\u6765","\u4e3a\u4ec0\u4e48\u4e0d\u5462\uff1f","\u5f88\u597d\uff01 \ud83d\ude09 \u6211\u5728\u4e00\u4e2a\u9879\u76ee\u91cc!","\u70b9\u51fb\u53f3\u4e0a\u89d2\u7684\u7ad6\u7740\u7684\u5c0f\u70b9\u2197","\u8fd9\u5c06\u4f1a\u5427\u9879\u76ee\u53d8\u6210\u987a\u5e8f\u9879\u76ee","\u5728\u987a\u5e8f\u9879\u76ee\u4e2d\uff0c\u6211\u5c06\u4f1a\u662f\u7070\u8272\u7684\u3002","\u6211\u4eec\u4e0d\u80fd\u88ab\u505a","\u53ea\u7528\u6700\u4e0a\u9762 \u261d\ufe0f  \u7684\u4efb\u52a1\u53ef\u4ee5\u88ab\u5b8c\u6210","\u90a3\u4e2a\u6ca1\u6709\u88ab\u6321","\u5f88\u597d \ud83d\ude04 \u8bf7\u518d\u6b21\u6253\u5f00\u83dc\u5355\u5e76\u70b9\u51fb\'\u6253\u6742\'","\u9ad8\u7ea7\u8ba1\u7b97\u6b63\u5728\u53d1\u751f;)","\u81ea\u5b9a\u89c6\u56fe\u9879\u76ee","\u6253\u6742","\u751f\u4ea7\u529b","\u8f7b\u677e","\u4e0d\u91cd\u8981","\u5f53\u60a8\u51c6\u5907\u597d\u7684\u65f6\u5019\uff0c\u8bf7\u70b9\u51fb\u201d\u6765\u770b\u770b\u201c !","Bontehu","\u70b9\u51fb \u270f\ufe0f  \u56fe\u6807\u6765\u770b\u6211\u5728\u7528\u90a3\u4e2a\u6ee4\u955c \u2934","Bontehu","\u6253\u6742","([#\u6253\u6742]) ([#\u8f7b\u677e #\u4e0d\u91cd\u8981])","\u6765\u770b\u770b","\u5728\u60a8\u6240\u6709\u7684\u8bbe\u5907\u4e0a\u4e0b\u8f7dCondution \ud83c\udf0e: condution.shabang.cf","\u5728Discord\u4e0a\u627e\u6211\u4eec! \ud83d\udcac: discord.gg/QgxUCyj","\u652f\u6301Condution! \ud83c\udf97: patreon.comcondution","#!/Shabang + Condution Project\u56e2\u961f\u5e0c\u671b\u60a8\u4eab\u53d7\u6211\u4eec\u7684\u4ea7\u54c1","\u4f60\u4e3a\u5565\u8fd8\u5728\u8bfb\u9879\u76ee\u4ecb\u7ecd\uff1f\u53bb\u641e\u70b9\u4e8b\u60c5\u5427\uff01"]}')},528:function(e){e.exports=JSON.parse('{"app_name":"Condution","client_name":"Condution Desktop Anwendung","missing_internet":"Fehlende Internetverbindung...","missing_internet_content":"Du ben\xf6tigst eine funktionierende Internetverbindung um Condution mit der Cloud zu synchronisieren.","missing_internet_action":"Du musst online sein um weiterzumachen. Oder du kannst","missing_internet_action_button":"deine Daten lokal speichern lassen.","setting_up_callout":"Bereite Condution f\xfcr deine Nutzung vor...","setting_up_action":"Wir arbeiten hart daran deinen Condution Account zu erstellen.","setting_up_hold":"Gleich gehts los!","onboarding_howdy":"Servus!","onboarding_welcome":"Willkommen bei Condution.","onboarding_quick_things":"Es sind noch ein paar Kleinigkeiten zu erledigen, danach kannst du dich in deine Aufgaben st\xfcrzen!","onboarding_ready":"Bereit zum loslegen? \ud83c\udf89","onboarding_msg_0":"Perfekt. Nat\xfcrlich bist du bereit.","onboarding_msg_1_1":"Bitte lies dir unsere","terms":"Nutzungsbedingungen","onboarding_msg_1_2":"und","policy":"Datenschutzbestimmungen","onboarding_msg_1_3":"durch und best\xe4tige, dass du mit ihnen einverstanden bist.","onboarding_agree":"Ich stimme zu \ud83d\udc4d","onboarding_msg_2":"Bevor es weitergeht w\xfcrden wir dich gerne mit der Cloud vernetzen.","onboarding_sync_yes":"Cloud-synch verwenden! \ud83c\udf10","onboarding_sync_no":"Daten lokal speichern. \ud83d\udcbe","onboarding_msg_3":"Deine Daten werden auf deinem Ger\xe4t gespeichert, wenn du \\"Daten lokal speichern\\" ausw\xe4hlst. Es ist keine Registrierung notwendig wenn du den Cloud-synch deaktivierst.","perspective_build_callout":"Neue Ansicht:","perspective_name_placeholder":"Genialer Name f\xfcr deine Ansicht","perspective_string_placeholder":"Probiere einen Filter wie [#bontehu] aus...","perspective_include":"Enthalte","perspective_order":"Sortiere nach","psp_avil":"Verf\xfcgbar","psp_rem":"\xdcbriggeblieben","psp_flg":"Markiert","psp_abd":"Aufsteigend nach F\xe4lligkeit","psp_dbd":"Absteigend nach F\xe4lligkeit","psp_abe":"Aufsteigend nach Aufschub","psp_dbe":"Absteigend nach Aufschub","psp_alpha":"Alphabetisch","psp_doc":"Hilfe?","repeat_word":"Wiederholen","repeat_every":"Jede(n)...","repeat_every_day":"Tag","repeat_every_week":"Woche","repeat_every_month":"Monat","repeat_every_year":"Jahr","repeat_every_text_day":"Jeden Tag.","repeat_every_text_week":"Jede Woche.","repeat_every_text_month":"Jeden Monat.","repeat_every_text_year":"Jedes Jahr.","repeat_advanced":"Erweitert...","repeat_datework_weekname_m":"Mo","repeat_datework_weekname_tu":"Di","repeat_datework_weekname_w":"Mi","repeat_datework_weekname_th":"Do","repeat_datework_weekname_f":"Fr","repeat_datework_weekname_sa":"Sa","repeat_datework_weekname_su":"So","repeat_last":"Zuletzt","convert_callout":"Daten synchronisieren!","what_should_we":"Wie sollen wir dich nennen?","email":"Email","password":"Passwort","sync":"Synchronisieren!","upcoming":"Anstehend","completed":"Abgeschlossen","perspectives":"Ansichten","projects":"Projekte","logout":"Logout","unsorted":"Unsortiert","ds":"Bald f\xe4llig","clbtd":"Heute","clbyd":"Gestern","clbpw":"Letzte Woche","clbpm":"Letzten Monat","clbel":"Fr\xfcher/Nicht beachtet","fetchmore":"Mehr abrufen...","fetchmoretasks":"Aufgaben abrufen!","muchempty":"Wow... So leer!","blk_smp":"Noch etwas mehr Produktivit\xe4t?","blk_smf":"Weitere Filter?","nb_at":"Aufgabe hinzuf\xfcgen","nb_ap":"Projekt hinzuf\xfcgen","blk_adt":"Aufgabe hinzuf\xfcgen?","welcome_auth_msg":"Willkommen zu Condution.","greeting_auth_normal":"Sch\xf6n dich kennen zu lernen. Bitte melde dich an oder w\xe4hle \\"Daten lokal speichern\\" aus.","need_verify":"Bitte best\xe4tige deine Email, dann geht es weiter!","recover_password":"Passwort wiederherstellen","newuser":"Account erstellen","lds":"Los gehts!","ulac":"Daten lokal speichern","nt":"Neue Aufgabe","desc":"Beschreibung","rec_pswd":"Passwort wiederherstellen","lovely_email":"Bitte \xfcberpr\xfcfe dein Postfach. Eine nette Email sollte dort auf dich warten.","proceed":"Fortfahren!","remembered":"Gemerkt? Login","noworries":"Kein Problem! Lass uns dein Passwort wiederherstellen.","signupmsg":"Willkommen! Mit deiner Anmeldung erkl\xe4rst du dich mit unseren","greetings_setA":["Hey!","Servus!","Sal\xfc!","Yo!"],"greetings_setB":["Hallo,","Hey,","Heyo,","Aloha,","Yo!"],"include_avalibale":"Enthalte: Verf\xfcgbar","include_flagged":"Enthalte: Markiert","include_remaining":"Enthalte: \xdcbriggeblieben","order_abd":"Sortiere nach: Aufsteigend nach F\xe4lligkeit","order_dbd":"Sortiere nach: Absteigend nach F\xe4lligkeit","order_abe":"Sortiere nach: Aufsteigend nach Aufschub","order_dbe":"Sortiere nach: Absteigend nach Aufschub","order_alpha":"Sortiere nach: Alphabetisch","loading":"Laden...","welcome_aboard":"Willkommen!","b2b":"Zur\xfcck zu den Grundlagen...","search_projects":"Suche Projekte...","qa_content":"Etwas zum Posteingang hinzuf\xfcgen?","onboarding_content":["Hey","\ud83d\ude4c Willkommen bei Condution! \ud83d\ude4c","Juhuu!","\u2b05 Klicke auf dieses K\xe4stchen um die Aufgabe abzuschlie\xdfen!","Ausgezeichnet!","Klicke auf mich \ud83c\udfaf um mich zu editieren.","Dr\xfccke auf die Flagge \ud83d\udea9 um die Aufgabe zu markieren, der Globus \ud83c\udf0e schaltet zwischen festgelegter oder gleitender Zeitzone um. Die beiden Boxen \u25b6\ufe0f \u23f9 legen Aufschubsdatum und F\xe4lligkeitsdatum fest, das Projektfeld \ud83d\udccb ist dazu da um das Projekt der Aufgabe festzulegen und das Etikettfeld \ud83c\udff7 ist dazu da, damit du deine eigenen Markierungen festlegen kannst. Zuletzt das wichtigste, mit freundlichen Gr\xfc\xdfen \ud83d\udc40, die fantastische Beschreibung.","Condution dich selbst!","F\xe4llig, bald f\xe4llig, Aufgeschoben","Oh nein! Ich bin \xfcberf\xe4llig! \ud83d\ude13 ","Wir hoffen das du mit Condution nie wieder eine \xfcberf\xe4llige Aufgabe wie mich haben musst.","\ud83e\udd28 Ich bin bald f\xe4llig! Du solltest dich bald um mich k\xfcmmern.","Meine orange-ne Farbe wird Rot wenn ich f\xe4llig bin.","\ud83d\udc40 Schau dir das Menu an und tippe auf \\"Condution dich selbst\\"","Warum solltest du auch nicht?","Super! \ud83d\ude09 Dies ist ein tolles Projekt!","Klicke auf die drei vertikalen Punkte \u2197","Das formt das Projekt in ein sequenzielles Projekt um!","In einem sequenziellen Projekt bin ich ausgegraut.","In diesem Fall sind wir blockiert.","Nur die oberste Aktion \u261d\ufe0f ist in einem sequenziellen Projekt verf\xfcgbar","Die ist nicht blockiert.","Ausgezeichnet. \ud83d\ude04 Nun klicke auf die \\"Aftercare\\" Ansicht im Menu!","Erstaunliche Physik im Gange...","Tasks in Ansichten","Aftercare","Produktivit\xe4t","Niedrige Energie","Unwichtig","Nachdem du fertig bist, klicke auf \\"Lass uns abh\xe4ngen\\" im Menu!","Bontehu","Dr\xfccke auf den Stift \u270f\ufe0f um zu sehen was ich alles filtere! \u2934","Bontehu","Aftercare","([#Aftercare]) ([#Niedrige Energie #Unwichtig])","Lass uns abh\xe4ngen!","Nutze Condution \xfcberall! \ud83c\udf0e: condution.shabang.cf","Besuche uns auf Discord! \ud83d\udcac: discord.gg/QgxUCyj","Unterst\xfctze Condution! \ud83c\udf97: patreon.comcondution","Von uns allen bei #!/Shabang + Condution, Viel Spa\xdf!","Warum liest du diese Beschreibung? Lass uns lieber produktiv sein!"]}')},529:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(47),i=a.n(s),o=a(1),c=a.n(o),u=a(3),l=a(9),p=a(10),d=a(7),m=a(11),h=a(12),f=a(6),g=(a(95),a(273),a(274),a(275),a(276),a(277),a(278),a(279),a(280),a(281),a(282),a(194),a(195),a(196),a(197),a(283),a(284),a(285),a(55)),v=a(43),b=a.n(v),k=a(34),y=a(13),w=a(16),x=a(28),j=a(102),E=j.a.cRef,_={select:{compare:function(e,t,a){switch(t){case"<":return e<a;case">":return e>a;case"<=":return e<=a;case">=":return e>=a;case"==":return e==a;case"!=":return e!=a;case"has":return e.includes(a);case"!has":return!e.includes(a);default:throw new TypeError("Unkown comparator "+t)}},all:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){var a=e.data();a.defer&&(a.defer=a.defer.seconds),a.due&&(a.due=a.due.seconds);var n,r=Object(x.a)(t);try{for(r.s();!(n=r.n()).done;){var s=Object(w.a)(n.value,3),i=s[0],o=s[1],c=s[2];if(!_.select.compare(a[i],o,c))return!1}}catch(u){r.e(u)}finally{r.f()}return!0}},any:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){var a=e.data();a.defer&&(a.defer=a.defer.seconds),a.due&&(a.due=a.due.seconds);var n,r=Object(x.a)(t);try{for(r.s();!(n=r.n()).done;){var s=Object(w.a)(n.value,3),i=s[0],o=s[1],c=s[2];if(_.select.compare(a[i],o,c))return!0}}catch(u){r.e(u)}finally{r.f()}return!1}},atLeast:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return function(t){var n=t.data();n.defer&&(n.defer=n.defer.seconds),n.due&&(n.due=n.due.seconds);var r,s=0,i=Object(x.a)(a);try{for(i.s();!(r=i.n()).done;){var o=Object(w.a)(r.value,3),c=o[0],u=o[1],l=o[2];if(_.select.compare(n[c],u,l)&&++s>=e)return!0}}catch(p){i.e(p)}finally{i.f()}return!1}},atMost:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return function(t){var n=t.data();n.defer&&(n.defer=n.defer.seconds),n.due&&(n.due=n.due.seconds);var r,s=0,i=Object(x.a)(a);try{for(i.s();!(r=i.n()).done;){var o=Object(w.a)(r.value,3),c=o[0],u=o[1],l=o[2];if(_.select.compare(n[c],u,l)&&++s>e)return!1}}catch(p){i.e(p)}finally{i.f()}return!0}}},debug:{log:function(e){return console.log(e),e},trace:function(e){return console.trace(e),e}}},O=!1;function S(e){O=e}function D(){return(D=Object(u.a)(c.a.mark((function e(t,a){var n,r,s,i=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:"",e.next=3,E("users",t).get();case 3:return r=(r=(r=e.sent.data())?r.workspaces:void 0)||[],e.next=8,E("workspaces").add({meta:{editors:[a],name:n}});case 8:return s=e.sent.id,e.next=11,E("users",t).set({workspaces:[].concat(Object(y.a)(r),[s])},{merge:!0});case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(u.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E("users",t).get();case 2:if(!(a=e.sent.data())){e.next=7;break}return e.abrupt("return",a.workspaces?a.workspaces:[]);case 7:return e.abrupt("return",[]);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(u.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E("users",t).set({workspaces:a},{merge:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(u.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E("workspaces",t).get();case 2:return e.abrupt("return",e.sent.data());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(u.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E("workspaces",t).update(a));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=Object(u.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E("invitations",a,"invites").add({email:a,workspace:t,type:"invite",time:new Date});case 2:return e.abrupt("return",e.sent.id);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(u.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E("invitations",a,"invites").add({email:a,workspace:t,type:"revoke",time:new Date});case 2:return e.abrupt("return",e.sent.id);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(u.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E("invitations",t,"invites").get();case 2:return e.abrupt("return",e.sent.docs.map((function(e){return Object.assign(e.data(),{id:e.id})})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(u.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E("invitations",a,"invites",t).delete());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Object(u.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E(O?"workspaces":"users",t,"tasks").get().then((function(e){return e.docs.map((function(e){return e.id}))})).catch((function(e){console.error("Error getting documents",e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t){return F.apply(this,arguments)}function F(){return(F=Object(u.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(O?"workspaces":"users",t,"tasks").get().then((function(e){return e.docs.filter(a)})).catch((function(e){console.error("Error getting documents",e)}));case 2:return n=e.sent,e.abrupt("return",n.map((function(e){return e.id})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){return q.apply(this,arguments)}function q(){return(q=Object(u.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(O?"workspaces":"users",t,"tasks").get().then((function(e){return e.docs.filter(_.select.all(["project","==",""],["isComplete","==",!1])).sort((function(e,t){return e.data().order-t.data().order}))})).catch((function(e){console.error("Error getting documents",e)}));case 2:return a=e.sent,e.abrupt("return",a.map((function(e){return e.id})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t,a){return U.apply(this,arguments)}function U(){return(U=Object(u.a)(c.a.mark((function e(t,a,n){var r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=n||new Date).setHours(r.getHours()+24),e.next=4,E(O?"workspaces":"users",t,"tasks").get().then((function(e){return e.docs.filter((function(e){return!!e.data().due&&e.data().due.seconds<=r.getTime()/1e3&&(!e.data().defer||e.data().defer.seconds<(new Date).getTime()/1e3)&&!1===e.data().isComplete&&a[e.id]})).sort((function(e,t){return e.data().due.seconds-t.data().due.seconds}))})).catch(console.error);case 4:return s=e.sent,e.abrupt("return",s.map((function(e){return e.id})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e,t,a){return Y.apply(this,arguments)}function Y(){return(Y=Object(u.a)(c.a.mark((function e(t,a,n){var r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=n||new Date).setHours(23,59,59,999),e.next=4,E(O?"workspaces":"users",t,"tasks").get().then((function(e){return e.docs.filter((function(e){return!!e.data().due&&e.data().due.seconds<=r.getTime()/1e3&&(!e.data().defer||e.data().defer.seconds<(new Date).getTime()/1e3)&&!1===e.data().isComplete&&a[e.id]})).sort((function(e,t){return e.data().due.seconds-t.data().due.seconds}))})).catch(console.error);case 4:return s=e.sent,e.abrupt("return",s.map((function(e){return e.id})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return(H=Object(u.a)(c.a.mark((function e(t){var a,n,r,s,i=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:new Date(1900,1,1),n=i.length>2&&void 0!==i[2]?i[2]:new Date(2100,1,1),r=i.length>3&&void 0!==i[3]&&i[3],e.next=5,E(O?"workspaces":"users",t,"tasks").get().then((function(e){return e.docs.filter((function(e){return!!e.data().due&&(!!e.data().defer&&(new Date(1e3*e.data().due.seconds)<=n&&new Date(1e3*e.data().due.seconds)>=a&&new Date>=new Date(1e3*e.data().defer.seconds)))})).filter((function(e){return!e.data().isComplete})).sort((function(e,t){return e.data().due.seconds-t.data().due.seconds}))})).catch(console.error);case 5:return s=e.sent,e.abrupt("return",r?s.map((function(e){return[e.id,e.data()]})):s.map((function(e){return e.id})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return(G=Object(u.a)(c.a.mark((function e(t,a){var n,r,s,i,o,u,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn("DEPERCATED: use instead selectTasksInRange"),e.next=3,W(t);case 3:n=e.sent,r=new Date,s=[],i=[],o=0;case 8:if(!(o<=7)){e.next=19;break}return e.next=11,V(t,a,r);case 11:u=e.sent,l=u,s.push(u.filter((function(e){return!i.includes(e)}))),i=l,r.setDate(r.getDate()+1);case 16:o++,e.next=8;break;case 19:return e.abrupt("return",s.map((function(e){return e.filter((function(e){return n.indexOf(e)<0}))})));case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return(K=Object(u.a)(c.a.mark((function e(t,a){var n,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(t);case 2:return n=e.sent,e.next=5,B(t,a);case 5:return r=e.sent,s=r.filter((function(e){return n.indexOf(e)<0})),e.abrupt("return",[n,s]);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e,t){return J.apply(this,arguments)}function J(){return(J=Object(u.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(O?"workspaces":"users",t,"tasks").get().then((function(e){return e.docs.filter((function(e){return e.id===a}))}));case 2:if(!(n=e.sent[0])){e.next=5;break}return e.abrupt("return",n.data());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return(Q=Object(u.a)(c.a.mark((function e(t,a,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(t,a);case 2:return delete(r=e.sent)[n],e.next=6,E(O?"workspaces":"users",t,"tasks",a).set(r).catch(console.error);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e){return X.apply(this,arguments)}function X(){return(X=Object(u.a)(c.a.mark((function e(t){var a,n,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},n={},r=[],e.next=5,E(O?"workspaces":"users",t,"projects").get();case 5:return e.sent.docs.forEach((function(e){if(e.exists&&!0===e.data().top_level){n[e.id]=e.data().name,a[e.data().name]=e.id;var t={};t.id=e.id,t.name=e.data().name,t.sortOrder=e.data().order,r.push(t)}})),r.sort((function(e,t){return e.sortOrder-t.sortOrder})),s=[n,a,r],e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){return(ee=Object(u.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,E(O?"workspaces":"users",t,"tags").get().then((function(e){return e.docs.forEach((function(e){if(e.exists){var t=e.data();t.id=e.id,a.push(t)}}))})).catch(console.error);case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return(te=Object(u.a)(c.a.mark((function e(t){var a,n,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},n={},e.next=4,E(O?"workspaces":"users",t,"projects").get().then((function(e){return e.docs.forEach((function(e){e.exists&&(n[e.id]=e.data().name,a[e.data().name]=e.id)}))})).catch(console.error);case 4:return r={},s={},e.next=8,E(O?"workspaces":"users",t,"tags").get().then((function(e){return e.docs.forEach((function(e){e.exists&&(s[e.id]=e.data().name,r[e.data().name]=e.id)}))})).catch(console.error);case 8:return e.abrupt("return",[[n,a],[s,r]]);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(u.a)(c.a.mark((function e(t){var a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},n={},r=[],e.next=5,E(O?"workspaces":"users",t,"perspectives").get().then((function(e){return e.docs.forEach((function(e){e.exists&&(n[e.id]={name:e.data().name,query:e.data().query,avail:e.data().avail,tord:e.data().tord},a[e.data().name]={id:e.id,query:e.data().query,avail:e.data().avail,tord:e.data().tord},r.push(Object(k.a)({id:e.id},e.data())))}))})).catch(console.error);case 5:return r.sort((function(e,t){return e.order-t.order})),e.abrupt("return",[n,a,r]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return(re=Object(u.a)(c.a.mark((function e(t,a,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(O?"workspaces":"users",t,"projects",a).update(n).catch(console.error);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e,t,a){return ie.apply(this,arguments)}function ie(){return(ie=Object(u.a)(c.a.mark((function e(t,a,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(O?"workspaces":"users",t,"tasks",a).update(n).catch(console.error);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(){return(oe=Object(u.a)(c.a.mark((function e(t,a,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(O?"workspaces":"users",t,"perspectives",a).update(n).catch(console.error);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e,t){return ue.apply(this,arguments)}function ue(){return(ue=Object(u.a)(c.a.mark((function e(t,a){var n,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==a.project){e.next=7;break}return e.next=3,W(t);case 3:n=e.sent.length,a.order=n,e.next=11;break;case 7:return e.next=9,De(t,a.project);case 9:r=e.sent.children.length,a.order=r;case 11:return a.defer||(a.defer=new Date),e.next=14,E(O?"workspaces":"users",t,"tasks").add(a);case 14:return s=e.sent.id,e.abrupt("return",s);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e,t,a){return pe.apply(this,arguments)}function pe(){return(pe=Object(u.a)(c.a.mark((function e(t,a,n){var r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object.size=function(e){var t,a=0;for(t in e)e.hasOwnProperty(t)&&a++;return a},!n){e.next=8;break}return e.next=4,De(t,n);case 4:r=e.sent.children.length,a.parent=n,e.next=14;break;case 8:return e.t0=Object,e.next=11,$(t);case 11:e.t1=e.sent[0],r=e.t0.size.call(e.t0,e.t1),a.parent="";case 14:return a.order=r,a.children={},e.next=18,E(O?"workspaces":"users",t,"projects").add(a);case 18:return s=e.sent.id,e.abrupt("return",s);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e,t){return me.apply(this,arguments)}function me(){return(me=Object(u.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=E(O?"workspaces":"users",t,"perspectives"),e.t1=k.a,e.next=4,ae(t);case 4:return e.t2=e.sent[2].length,e.t3={order:e.t2},e.t4=a,e.t5=(0,e.t1)(e.t3,e.t4),e.next=10,e.t0.add.call(e.t0,e.t5);case 10:return e.abrupt("return",e.sent.id);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(e,t){return fe.apply(this,arguments)}function fe(){return(fe=Object(u.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(O?"workspaces":"users",t,"tags").add({name:a});case 2:return e.abrupt("return",e.sent.id);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(){return(ge=Object(u.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(O?"workspaces":"users",t,"tasks",a).update({isComplete:!0});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(e,t,a){return be.apply(this,arguments)}function be(){return(be=Object(u.a)(c.a.mark((function e(t,a,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(O?"workspaces":"users",t,"projects").get().then(_.dump).then((function(e){return e.docs.filter((function(e){return e.id===n}))})).then(_.dump).then((function(e){return e[0].data().children}));case 2:return delete(r=e.sent)[a],e.next=6,E(O?"workspaces":"users",t,"projects",n).update({children:r});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(e,t,a){return ye.apply(this,arguments)}function ye(){return(ye=Object(u.a)(c.a.mark((function e(t,a,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(O?"workspaces":"users",t,"projects").get().then((function(e){return e.docs.filter((function(e){return e.id===n}))[0].data().children}));case 2:return(r=e.sent)[a]="task",e.next=6,E(O?"workspaces":"users",t,"projects",n).update({children:r});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(){return(we=Object(u.a)(c.a.mark((function e(t,a,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(O?"workspaces":"users",t,"projects").get().then((function(e){return e.docs.filter((function(e){return e.id===n}))[0].data().children}));case 2:return(r=e.sent)[a]="project",e.next=6,E(O?"workspaces":"users",t,"projects",n).update({children:r});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(){return(xe=Object(u.a)(c.a.mark((function e(t,a,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(O?"workspaces":"users",t,"projects").get().then(_.dump).then((function(e){return e.docs.filter((function(e){return e.id===n}))})).then(_.dump).then((function(e){return e[0].data().children}));case 2:return delete(r=e.sent)[a],e.next=6,E(O?"workspaces":"users",t,"projects",n).update({children:r});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(){return(je=Object(u.a)(c.a.mark((function e(t,a){var n,r,s=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(s.length>2&&void 0!==s[2])||s[2],e.next=3,E(O?"workspaces":"users",t,"tasks").get().then((function(e){return e.docs.filter((function(e){return e.id===a}))[0].data()}));case 3:if(""===(r=e.sent).project||!n){e.next=7;break}return e.next=7,ve(t,a,r.project);case 7:return e.next=9,E(O?"workspaces":"users",t,"tasks",a).delete().catch(console.error);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(){return(Ee=Object(u.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(O?"workspaces":"users",t,"perspectives",a).delete();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(e,t){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(u.a)(c.a.mark((function e(t,a){var n,r,s,i,o,u,l,p,d,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De(t,a);case 2:r=e.sent,s=Object(x.a)(r.children);try{for(s.s();!(i=s.n()).done;)"project"===(o=i.value).type?_e(t,o.content.id):se(t,o.content,{project:""})}catch(c){s.e(c)}finally{s.f()}return e.next=7,Te(t);case 7:u=e.sent,l=(n=[]).concat.apply(n,Object(y.a)(u)),p=Object(x.a)(l),e.prev=10,p.s();case 12:if((d=p.n()).done){e.next=22;break}return m=d.value,e.next=16,Z(t,m);case 16:if(e.t0=e.sent.project,e.t1=a,e.t0!==e.t1){e.next=20;break}se(t,m,{project:""});case 20:e.next=12;break;case 22:e.next=27;break;case 24:e.prev=24,e.t2=e.catch(10),p.e(e.t2);case 27:return e.prev=27,p.f(),e.finish(27);case 30:return e.next=32,E(O?"workspaces":"users",t,"projects",a).delete().catch(console.error);case 32:case"end":return e.stop()}}),e,null,[[10,24,27,30]])})))).apply(this,arguments)}function Se(){return(Se=Object(u.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(O?"workspaces":"users",t,"tags",a).delete().catch(console.error);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(e,t){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(u.a)(c.a.mark((function e(t,a){var n,r,s,i,o,u,l=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>2&&void 0!==l[2]&&l[2],r=[],e.next=4,E(O?"workspaces":"users",t,"projects").get().then((function(e){return e.docs}));case 4:if(s=e.sent.filter((function(e){return e.id===a}))[0]){e.next=7;break}return e.abrupt("return",{id:a,children:[],is_sequential:!1,sortOrder:0,parentProj:0});case 7:i=c.a.mark((function e(){var a,s,i,l,p,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object(w.a)(u[o],2),s=a[0],"task"!==(i=a[1])){e.next=8;break}return e.next=4,Z(t,s);case 4:(l=e.sent)&&(l.isComplete||r.push({type:"task",content:s,sortOrder:l.order})),e.next=20;break;case 8:if("project"!==i){e.next=20;break}if(!n){e.next=16;break}return e.next=12,De(t,s);case 12:(p=e.sent)&&r.push({type:"project",content:p,is_sequential:p.is_sequential,sortOrder:p.sortOrder}),e.next=20;break;case 16:return e.next=18,E(O?"workspaces":"users",t,"projects").get().then((function(e){return e.docs}));case 18:(d=e.sent.filter((function(e){return e.id===s}))[0])&&r.push({type:"project",content:{id:s},is_sequential:d.data().is_sequential,sortOrder:d.data().order});case 20:case"end":return e.stop()}}),e)})),o=0,u=Object.entries(s.data().children);case 9:if(!(o<u.length)){e.next=14;break}return e.delegateYield(i(),"t0",11);case 11:o++,e.next=9;break;case 14:return r.sort((function(e,t){return e.sortOrder-t.sortOrder})),e.abrupt("return",{id:a,children:r,is_sequential:s.data().is_sequential,sortOrder:s.data().order,parentProj:s.data().parent});case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(){return(Ce=Object(u.a)(c.a.mark((function e(t){var a,n,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=function(){return(s=Object(u.a)(c.a.mark((function e(t,a){var n,s,i,o,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.next=3,E(O?"workspaces":"users",t,"projects").get().then((function(e){return e.docs}));case 3:return s=e.sent.filter((function(e){return e.id===a}))[0],e.next=6,De(t,a);case 6:if(i=e.sent,!s.data().is_sequential){e.next=23;break}if(!(o=i.children[0])){e.next=21;break}if("project"!==o.type){e.next=20;break}return e.t0=Object,e.t1=n,e.next=15,r(t,o.content.id);case 15:e.t2=e.sent,e.t0.assign.call(e.t0,e.t1,e.t2),n[o.content.id]=!0,e.next=21;break;case 20:"task"===o.type&&(n[o.content]=!0);case 21:e.next=26;break;case 23:return l=i.children,e.next=26,Promise.all(l.map(function(){var e=Object(u.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("project"!==a.type){e.next=10;break}return e.t0=Object,e.t1=n,e.next=5,r(t,a.content.id);case 5:e.t2=e.sent,e.t0.assign.call(e.t0,e.t1,e.t2),n[a.content.id]=!0,e.next=11;break;case 10:"task"===a.type&&(n[a.content]=!0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 26:return e.abrupt("return",n);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)},r=function(e,t){return s.apply(this,arguments)},new Date,e.next=5,$(t);case 5:return a=e.sent[2],n={},new Date,e.next=11,Promise.all(a.map(function(){var e=Object(u.a)(c.a.mark((function e(a){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n[a.id]=!0,e.next=3,r(t,a.id);case 3:s=e.sent,Object.assign(n,s);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:return e.next=13,W(t);case 13:return e.next=15,e.sent.forEach((function(e){return n[e]=!0}));case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(e){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(u.a)(c.a.mark((function e(t){var a,n,r,s,i,o,l,p,d,m,h,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t,_.select.all(["isComplete","==",!0]));case 2:return a=e.sent,n={},e.next=6,Promise.all(a.map(function(){var e=Object(u.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(t,a);case 2:n[a]=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:return r=a.sort((function(e,t){var a=n[t],r=n[e];return a&&r?(a.completeDate?a.completeDate.seconds:1)-(r.completeDate?r.completeDate.seconds:1):1})),s=new Date,i=new Date,o=new Date,l=new Date,s.setHours(0,0,0,0),i.setDate(i.getDate()-1),i.setHours(0,0,0,0),o.setDate(o.getDate()-7),o.setHours(0,0,0,0),l.setMonth(l.getMonth()-1),l.setHours(0,0,0,0),p=r.filter((function(e){var t=n[e];return!!t.completeDate&&new Date(1e3*t.completeDate.seconds)>=s})),d=r.filter((function(e){var t=n[e];return!!t.completeDate&&(new Date(1e3*t.completeDate.seconds)>=i&&new Date(1e3*t.completeDate.seconds)<s)})),m=r.filter((function(e){var t=n[e];return!!t.completeDate&&(new Date(1e3*t.completeDate.seconds)>=o&&new Date(1e3*t.completeDate.seconds)<i)})),h=r.filter((function(e){var t=n[e];return!!t.completeDate&&(new Date(1e3*t.completeDate.seconds)>=l&&new Date(1e3*t.completeDate.seconds)<o)})),f=r.filter((function(e){var t=n[e];return!t.completeDate||new Date(1e3*t.completeDate.seconds)<l})),e.abrupt("return",[p,d,m,h,f]);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(){return(Re=Object(u.a)(c.a.mark((function e(t,a,n,r){var s,i,o,u,l,p,d,m,h,f,g,v,b,k,y,w,x,j,E,_;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(t,{name:r[0]+" ".concat(n,", ")+r[1],desc:r[2],isFlagged:!1,isFloating:!1,isComplete:!1,project:"",tags:[],timezone:a,repeat:{rule:"none"}});case 2:return e.next=4,ce(t,{name:r[3],desc:r[4],isFlagged:!1,isFloating:!1,isComplete:!1,project:"",tags:[],timezone:a,repeat:{rule:"none"}});case 4:return e.next=6,ce(t,{name:r[5],desc:r[6],isFlagged:!1,isFloating:!1,isComplete:!1,project:"",tags:[],timezone:a,repeat:{rule:"none"}});case 6:return e.next=8,le(t,{name:r[7],top_level:!0,is_sequential:!1});case 8:return s=e.sent,e.next=11,le(t,{name:r[8],top_level:!0,is_sequential:!1});case 11:return i=e.sent,o=new Date,u=new Date,o.setHours(o.getHours()-24),u.setHours(u.getHours()+20),e.next=18,ce(t,{name:r[9],desc:r[10],isFlagged:!1,isFloating:!1,isComplete:!1,project:i,tags:[],timezone:a,due:o,repeat:{rule:"none"}});case 18:return l=e.sent,e.next=21,ce(t,{name:r[11],desc:r[12],isFlagged:!1,isFloating:!1,isComplete:!1,project:i,tags:[],timezone:a,due:u,repeat:{rule:"none"}});case 21:return p=e.sent,e.next=24,ke(t,l,i);case 24:return e.next=26,ke(t,p,i);case 26:return u.setHours(u.getHours()+2),e.next=29,ce(t,{name:r[13],desc:r[14],isFlagged:!1,isFloating:!1,isComplete:!1,project:"",tags:[],timezone:a,repeat:{rule:"none"}});case 29:return e.sent,e.next=32,ce(t,{name:r[15],desc:"",isFlagged:!1,isFloating:!1,isComplete:!1,project:s,tags:[],timezone:a,repeat:{rule:"none"}});case 32:return d=e.sent,e.next=35,ke(t,d,s);case 35:return e.next=37,ce(t,{name:r[16],desc:r[17],isFlagged:!1,isFloating:!1,isComplete:!1,project:s,tags:[],timezone:a,repeat:{rule:"none"}});case 37:return m=e.sent,e.next=40,ke(t,m,s);case 40:return e.next=42,ce(t,{name:r[18],desc:r[19],isFlagged:!1,isFloating:!1,isComplete:!1,project:s,tags:[],timezone:a,repeat:{rule:"none"}});case 42:return h=e.sent,e.next=45,ke(t,h,s);case 45:return e.next=47,ce(t,{name:r[20],desc:r[21],isFlagged:!1,isFloating:!1,isComplete:!1,project:s,tags:[],timezone:a,repeat:{rule:"none"}});case 47:return f=e.sent,e.next=50,ke(t,f,s);case 50:return e.next=52,ce(t,{name:r[22],desc:r[23],isFlagged:!1,isFloating:!1,isComplete:!1,project:s,tags:[],timezone:a,repeat:{rule:"none"}});case 52:return g=e.sent,e.next=55,ke(t,g,s);case 55:return e.next=57,le(t,{name:r[24],top_level:!0,is_sequential:!1});case 57:return v=e.sent,e.next=60,Promise.all([he(t,r[25]),he(t,r[26]),he(t,r[27]),he(t,r[28])]);case 60:return b=e.sent,e.next=63,ce(t,{name:r[29],desc:r[30],isFlagged:!1,isFloating:!1,isComplete:!1,project:v,tags:[b[2],b[3]],timezone:a,repeat:{rule:"none"}});case 63:return k=e.sent,e.next=66,ke(t,k,v);case 66:return e.next=68,ce(t,{name:r[31],desc:r[32],isFlagged:!1,isFloating:!1,isComplete:!1,project:v,tags:[b[0]],timezone:a,repeat:{rule:"none"}});case 68:return y=e.sent,e.next=71,ke(t,y,v);case 71:return e.next=73,de(t,{name:r[33],query:r[34]});case 73:return e.next=75,le(t,{name:r[35],top_level:!0,is_sequential:!1});case 75:return w=e.sent,e.next=78,ce(t,{name:r[36],desc:"",isFlagged:!1,isFloating:!1,isComplete:!1,project:w,tags:[],timezone:a,repeat:{rule:"none"}});case 78:return x=e.sent,e.next=81,ke(t,x,w);case 81:return e.next=83,ce(t,{name:r[37],desc:"",isFlagged:!1,isFloating:!1,isComplete:!1,project:w,tags:[],timezone:a,repeat:{rule:"none"}});case 83:return j=e.sent,e.next=86,ke(t,j,w);case 86:return e.next=88,ce(t,{name:r[38],desc:"",isFlagged:!1,isFloating:!1,isComplete:!1,project:w,tags:[],timezone:a,repeat:{rule:"none"}});case 88:return E=e.sent,e.next=91,ke(t,E,w);case 91:return e.next=93,ce(t,{name:r[39],desc:r[40],isFlagged:!1,isFloating:!1,isComplete:!1,project:w,tags:[],timezone:a,repeat:{rule:"none"}});case 93:return _=e.sent,e.next=96,ke(t,_,w);case 96:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ze={util:_,getTasks:function(e){return L.apply(this,arguments)},getTasksWithQuery:A,getInboxTasks:W,getDSTasks:B,getInboxandDS:function(e,t){return K.apply(this,arguments)},removeParamFromTask:function(e,t,a){return Q.apply(this,arguments)},getTopLevelProjects:$,getProjectsandTags:function(e){return te.apply(this,arguments)},getPerspectives:ae,modifyProject:function(e,t,a){return re.apply(this,arguments)},modifyTask:se,modifyPerspective:function(e,t,a){return oe.apply(this,arguments)},newProject:le,newPerspective:de,newTag:he,newTask:ce,completeTask:function(e,t){return ge.apply(this,arguments)},dissociateTask:ve,associateTask:ke,associateProject:function(e,t,a){return we.apply(this,arguments)},dissociateProject:function(e,t,a){return xe.apply(this,arguments)},deleteTask:function(e,t){return je.apply(this,arguments)},deletePerspective:function(e,t){return Ee.apply(this,arguments)},deleteProject:_e,selectTasksInRange:function(e){return H.apply(this,arguments)},getProjectStructure:De,getItemAvailability:function(e){return Ce.apply(this,arguments)},getTaskInformation:Z,getDSRow:function(e,t){return G.apply(this,arguments)},deleteTag:function(e,t){return Se.apply(this,arguments)},getCompletedTasks:Te,onBoard:function(e,t,a,n){return Re.apply(this,arguments)},getTags:function(e){return ee.apply(this,arguments)},generateWorkspace:function(e,t){return D.apply(this,arguments)},getWorkspace:function(e){return T.apply(this,arguments)},getWorkspaces:function(e){return N.apply(this,arguments)},editWorkspace:function(e,t){return P.apply(this,arguments)},inviteToWorkspace:function(e,t){return R.apply(this,arguments)},revokeToWorkspace:function(e,t){return z.apply(this,arguments)},getInvitations:function(e){return I.apply(this,arguments)},resolveInvitation:function(e,t){return M.apply(this,arguments)},updateWorkspaces:function(e,t){return C.apply(this,arguments)}},Ie=function(){var e={taskFilter:/([^\w\d\s\[]{1,2}[\w\s]+)/gi,taskCaptureGroup:/\[(([^\w\d\s]{1,2}[\w\s]+) *)*?\]/gi,logicCaptureGroup:/(.*) *([<=>]) *(.*)/gi,globalCaptureGroup:/\[(([^\w\d\s]{1,2}[\w\s]+) *)*?\](\$\w+)* *[<=>]* * *(\$\w+)*/gi,clear:function(){this.taskFilter.lastIndex=0,this.taskCaptureGroup.lastIndex=0,this.logicCaptureGroup.lastIndex=0,this.globalCaptureGroup.lastIndex=0}},t=function(t){return t.match(e.globalCaptureGroup)},a=function(e){return e.split("$").map((function(e){return e.trim()}))},n=function(){var e;switch(arguments.length<=0?void 0:arguments[0]){case"today":e=new Date}return e},r=function(){var t=Object(u.a)(c.a.mark((function t(a,n,s,i,o){var l,p,d,m;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p=i?[i]:[],d=[],m=[],t.next=5,Promise.all(n.match(e.taskFilter).map(function(){var e=Object(u.a)(c.a.mark((function e(t){var u,l,h,f,g,v,b,k,w,j;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("!"===(t=t.trim())[0]){e.next=38;break}e.t0=t[0],e.next="."===e.t0?5:"#"===e.t0?35:36;break;case 5:return u=s[0][1][t.slice(1,t.length)],p.push(["project","==",u]),e.next=9,ze.getProjectStructure(a,u,!1,o);case 9:l=e.sent,h=Object(x.a)(l.children),e.prev=11,h.s();case 13:if((f=h.n()).done){e.next=26;break}if("project"!==(g=f.value).type){e.next=24;break}return e.t1=[],e.t2=Object(y.a)(d),e.t3=y.a,e.next=21,r(a,n.replace(t.slice(1,t.length),s[0][0][g.content.id]),s,i);case 21:e.t4=e.sent,e.t5=(0,e.t3)(e.t4),d=e.t1.concat.call(e.t1,e.t2,e.t5);case 24:e.next=13;break;case 26:e.next=31;break;case 28:e.prev=28,e.t6=e.catch(11),h.e(e.t6);case 31:return e.prev=31,h.f(),e.finish(31);case 34:return e.abrupt("break",36);case 35:p.push(["tags","has",s[1][1][t.slice(1,t.length)]]);case 36:e.next=72;break;case 38:e.t7=t[1],e.next="."===e.t7?41:"#"===e.t7?71:72;break;case 41:return v=s[0][1][t.slice(2,t.length)],p.push(["project","!=",v]),e.next=45,ze.getProjectStructure(a,v,!1,o);case 45:b=e.sent,k=Object(x.a)(b.children),e.prev=47,k.s();case 49:if((w=k.n()).done){e.next=62;break}if("project"!==(j=w.value).type){e.next=60;break}return e.t8=[],e.t9=Object(y.a)(m),e.t10=y.a,e.next=57,r(a,n.replace(t,"."+s[0][0][j.content.id]),s,i,o);case 57:e.t11=e.sent,e.t12=(0,e.t10)(e.t11),m=e.t8.concat.call(e.t8,e.t9,e.t12);case 60:e.next=49;break;case 62:e.next=67;break;case 64:e.prev=64,e.t13=e.catch(47),k.e(e.t13);case 67:return e.prev=67,k.f(),e.finish(67);case 70:return e.abrupt("break",72);case 71:p.push(["tags","!has",s[1][1][t.slice(2,t.length)]]);case 72:p.push(["isComplete","==",!1]);case 73:case"end":return e.stop()}}),e,null,[[11,28,31,34],[47,64,67,70]])})));return function(t){return e.apply(this,arguments)}}()));case 5:return t.t0=[],t.t1=Object(y.a)(d),t.t2=y.a,t.next=10,ze.getTasksWithQuery(a,(l=ze.util.select).all.apply(l,p),o);case 10:return t.t3=t.sent,t.t4=(0,t.t2)(t.t3),t.abrupt("return",t.t0.concat.call(t.t0,t.t1,t.t4).filter((function(e){return!m.includes(e)})));case 13:case"end":return t.stop()}}),t)})));return function(e,a,n,r,s){return t.apply(this,arguments)}}(),s=function(){var e=Object(u.a)(c.a.mark((function e(t,a,n,r,s){var i,o,l,p,d=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=d.length>5&&void 0!==d[5]&&d[5],e.next=3,Promise.all(a[0].map(function(){var e=Object(u.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze.getTaskInformation(t,a,i);case 2:return e.t0=e.sent,e.t1=a,e.abrupt("return",[e.t0,e.t1]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:o=e.sent,a[1].includes("due")?l=o.map((function(e){return[e[1],e[0].due?new Date(1e3*e[0].due.seconds):void 0]})):a[1].includes("defer")&&(l=o.map((function(e){return[e[1],e[0].defer?new Date(1e3*e[0].defer.seconds):void 0]}))),p=function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},e.t0=n,e.next="="===e.t0?9:">"===e.t0?11:"<"===e.t0?13:">="===e.t0?15:"<="===e.t0?17:19;break;case 9:return l=l.filter((function(e){return p(e[1],r)})),e.abrupt("break",19);case 11:return l=s?l.filter((function(e){return e[1]>r})):l.filter((function(e){return e[1]<r})),e.abrupt("break",19);case 13:return l=s?l.filter((function(e){return e[1]<r})):l.filter((function(e){return e[1]>r})),e.abrupt("break",19);case 15:return l=s?l.filter((function(e){return e[1]>=r})):l.filter((function(e){return e[1]<=r})),e.abrupt("break",19);case 17:return l=s?l.filter((function(e){return e[1]<=r})):l.filter((function(e){return e[1]>=r})),e.abrupt("break",19);case 19:return e.abrupt("return",l.map((function(e){return e[0]})));case 20:case"end":return e.stop()}}),e)})));return function(t,a,n,r,s){return e.apply(this,arguments)}}();return{calc:function(){var i=Object(u.a)(c.a.mark((function i(o,l,p,d){var m,h,f,g,v,b,x,j=arguments;return c.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return m=j.length>4&&void 0!==j[4]&&j[4],i.next=3,ze.getProjectsandTags(o,m);case 3:return h=i.sent,i.next=6,t(l);case 6:if(f=i.sent){i.next=9;break}return i.abrupt("return",[]);case 9:i.t0=p,i.next="avail"===i.t0?12:"flagged"===i.t0?14:16;break;case 12:return g=["defer","<",(new Date).getTime()/1e3],i.abrupt("break",16);case 14:return g=["isFlagged","==",!0],i.abrupt("break",16);case 16:return i.next=18,Promise.all(f.map(function(){var t=Object(u.a)(c.a.mark((function t(i){var u,l,p,d,f,v,b;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.clear(),!(u=e.logicCaptureGroup.exec(i))){t.next=30;break}if(p=Object(w.a)(u,4),d=p[1],f=p[2],v=p[3],b=[a(d),a(v)],d=b[0],v=b[1],!e.taskCaptureGroup.test(d)){t.next=19;break}return t.next=10,r(o,d[0],h,g,m);case 10:return t.t0=t.sent,t.t1=d[1],d=[t.t0,t.t1],v=n(v[1]),t.next=16,s(o,d,f,v,!0,m);case 16:l=t.sent,t.next=28;break;case 19:return t.next=21,r(o,v[0],h,g,m);case 21:return t.t2=t.sent,t.t3=v[1],v=[t.t2,t.t3],d=n(d[1]),t.next=27,s(o,v,f,d,!1,m);case 27:l=t.sent;case 28:t.next=33;break;case 30:return t.next=32,r(o,i,h,g,m);case 32:l=t.sent;case 33:return t.abrupt("return",l);case 34:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 18:return v=i.sent,v=Object(y.a)(new Set(v.flat(1))),i.next=22,Promise.all(v.map(function(){var e=Object(u.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=k.a,e.t1={id:t},e.next=4,ze.getTaskInformation(o,t,m);case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){return e}));case 22:b=i.sent,i.t1=d,i.next="duas"===i.t1?26:"duds"===i.t1?28:"deas"===i.t1?30:"deds"===i.t1?32:34;break;case 26:return b.sort((function(e,t){return(e.due?e.due.seconds:1e10)-(t.due?t.due.seconds:1e10)})),i.abrupt("break",34);case 28:return b.sort((function(e,t){return(t.due?t.due.seconds:1)-(e.due?e.due.seconds:1)})),i.abrupt("break",34);case 30:return b.sort((function(e,t){return(e.defer?e.defer.seconds:1e10)-(t.defer?t.defer.seconds:1e10)})),i.abrupt("break",34);case 32:return b.sort((function(e,t){return(t.defer?t.defer.seconds:1)-(e.defer?e.defer.seconds:1)})),i.abrupt("break",34);case 34:return i.next=36,ze.getItemAvailability(o,m);case 36:return x=i.sent,"avail"===p&&(b=b.filter((function(e){return void 0!==x[e.id]}))),i.abrupt("return",b.map((function(e){return e.id})));case 39:case"end":return i.stop()}}),i)})));return function(e,t,a,n){return i.apply(this,arguments)}}()}}(),Me={start:j.a.__init__,use:j.a.useDb,db:ze,perspective:Ie,flush:j.a.flush,workspaceify:function(){return S(!0)},userlandify:function(){return S(!1)}},Le=a(198).parseFromTimeZone,Ae=g.Plugins.LocalNotifications,Fe=g.Plugins.Permissions,We=a(37),qe=function(){function e(t){Object(l.a)(this,e),this.notifPermissionGranted=!1,this.notifList={notifications:[]},Fe.query({name:"notifications"}).then(function(){var e=Object(u.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("prompt"!==t.state){e.next=6;break}return e.next=3,Ae.requestPermission();case 3:this.notifPermissionGranted=e.sent.granted,e.next=7;break;case 6:"granted"===t.state&&(this.notifPermissionGranted=!0);case 7:a=Object(f.x)(),!this.notifPermissionGranted||a.includes("mobileweb")||a.includes("desktop")||this.refreshNotificationList(),Ae.addListener("localNotificationActionPerformed",this.handleNotificationAction);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}().bind(this)),this.hashCode=function(e){return Math.abs(e.split("").reduce((function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e}),0))},this.e=t,this.refresher=function(){},this.globalRefresher=function(){},this.callbackRefresherReleased=!0,this.conflictResolution=1e3,this.releaseTimeout=void 0,this.doers={macro:{applyOrder:function(){var e=Object(u.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.items.length!==a.order.length&&console.error("Length of items and order length must be the same!"),e.next=3,Promise.all(a.order.map((function(e,n){var r=a.items[e];return"task"===r.type?t.db.modifyTask(a.uid,r.content,{order:n}):"project"===r.type?t.db.modifyProject(a.uid,r.content,{order:n}):void 0})));case 3:return e.abrupt("return",{uid:a.uid});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},tag:{create:function(){var e=Object(u.a)(c.a.mark((function e(a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.db.newTag(a.uid,a.name);case 2:return n=e.sent,e.abrupt("return",{uid:a.uid,id:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},task:{create:function(){var e=Object(u.a)(c.a.mark((function e(a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={desc:"",isFlagged:!1,isFloating:!1,isComplete:!1,project:a.pid?a.pid:"",tags:[],timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,repeat:{rule:"none"},name:a.name?a.name:""},a.due&&(n.due=a.due),a.defer&&(n.defer=a.defer),e.next=5,t.db.newTask(a.uid,n);case 5:return r=e.sent,a.pid&&""!=a.pid&&t.db.associateTask(a.uid,r,a.pid),e.abrupt("return",{uid:a.uid,tid:r});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(u.a)(c.a.mark((function e(a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.db.getTaskInformation(a.uid,a.tid);case 2:return n=e.sent,e.next=5,t.db.modifyTask(a.uid,a.tid,a.query);case 5:return e.abrupt("return",{uid:a.uid,tid:a.tid,tInfo:n});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update__project:function(){var e=Object(u.a)(c.a.mark((function e(a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.db.getTaskInformation(a.uid,a.tid);case 2:return n=e.sent,e.next=5,t.db.modifyTask(a.uid,a.tid,{project:a.project});case 5:if(!a.oldProject){e.next=8;break}return e.next=8,t.db.dissociateTask(a.uid,a.tid,a.oldProject);case 8:if(""===a.project){e.next=11;break}return e.next=11,t.db.associateTask(a.uid,a.tid,a.project);case 11:return e.abrupt("return",{uid:a.uid,tid:a.tid,tInfo:n});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update__uncomplete:function(){var e=Object(u.a)(c.a.mark((function e(a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.db.getTaskInformation(a.uid,a.tid);case 2:return n=e.sent,e.next=5,t.db.modifyTask(a.uid,a.tid,{isComplete:!1,completeDate:new Date});case 5:return e.abrupt("return",{uid:a.uid,tid:a.tid,taskInfo:n});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update__complete:function(){var e=Object(u.a)(c.a.mark((function e(a){var n,r,s,i,o,u,l,p,d,m,h,f,g,v,b,k,y,w,x,j,E;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.db.modifyTask(a.uid,a.tid,{isComplete:!0,completeDate:new Date});case 2:return e.next=4,t.db.getTaskInformation(a.uid,a.tid);case 4:if(n=e.sent,r=n.due?n.isFloating?new Date(1e3*n.due.seconds):Le(new Date(1e3*n.due.seconds).toISOString(),{timeZone:n.timezone}):void 0,s=n.defer?n.isFloating?new Date(1e3*n.defer.seconds):Le(new Date(1e3*n.defer.seconds).toISOString(),{timeZone:n.timezone}):void 0,"none"===(i=n.repeat).rule||!r){e.next=81;break}if("daily"!==(o=i.rule)){e.next=14;break}s?(u=r-s,r.setDate(r.getDate()+1),t.db.modifyTask(a.uid,a.tid,{isComplete:!1,due:r,defer:new Date(r-u)})):(r.setDate(r.getDate()+1),t.db.modifyTask(a.uid,a.tid,{isComplete:!1,due:r})),e.next=81;break;case 14:if("weekly"!==o){e.next=80;break}if(!s){e.next=49;break}if(l=i.on,p="",d=r-s,!l){e.next=44;break}case 20:if(l.includes(p)){e.next=42;break}r.setDate(r.getDate()+1),m=r.getDay(),e.t0=m,e.next=1===e.t0?26:2===e.t0?28:3===e.t0?30:4===e.t0?32:5===e.t0?34:6===e.t0?36:0===e.t0?38:40;break;case 26:return p="M",e.abrupt("break",40);case 28:return p="T",e.abrupt("break",40);case 30:return p="W",e.abrupt("break",40);case 32:return p="Th",e.abrupt("break",40);case 34:return p="F",e.abrupt("break",40);case 36:return p="S",e.abrupt("break",40);case 38:return p="Su",e.abrupt("break",40);case 40:e.next=20;break;case 42:e.next=46;break;case 44:r.setDate(r.getDate()+7),s.setDate(s.getDate()+7);case 46:t.db.modifyTask(a.uid,a.tid,{isComplete:!1,due:r,defer:new Date(r-d)}),e.next=78;break;case 49:if(!(h=i.on)){e.next=76;break}f="";case 52:if(h.includes(f)){e.next=74;break}r.setDate(r.getDate()+1),g=r.getDay(),e.t1=g,e.next=1===e.t1?58:2===e.t1?60:3===e.t1?62:4===e.t1?64:5===e.t1?66:6===e.t1?68:0===e.t1?70:72;break;case 58:return f="M",e.abrupt("break",72);case 60:return f="T",e.abrupt("break",72);case 62:return f="W",e.abrupt("break",72);case 64:return f="Th",e.abrupt("break",72);case 66:return f="F",e.abrupt("break",72);case 68:return f="S",e.abrupt("break",72);case 70:return f="Su",e.abrupt("break",72);case 72:e.next=52;break;case 74:e.next=77;break;case 76:r.setDate(r.getDate()+7);case 77:t.db.modifyTask(a.uid,a.tid,{isComplete:!1,due:r});case 78:e.next=81;break;case 80:if("monthly"===o)if(s){if(v=i.on,b=r.getDate(),k=r.getDate(),y=r-s,v)for(;!v.includes(b.toString())&&(!v.includes("Last")||new Date(r.getFullYear(),r.getMonth(),r.getDate()).getDate()!==new Date(r.getFullYear(),r.getMonth()+1,0).getDate())||k===b;)r.setDate(r.getDate()+1),b=r.getDate();else r.setMonth(r.getMonth()+1);t.db.modifyTask(a.uid,a.tid,{isComplete:!1,due:r,defer:new Date(r-y)})}else{if(w=i.on)for(x=r.getDate(),j=r.getDate();!w.includes(x.toString())&&(!w.includes("Last")||new Date(r.getFullYear(),r.getMonth(),r.getDate()).getDate()!==new Date(r.getFullYear(),r.getMonth()+1,0).getDate())||j===x;)r.setDate(r.getDate()+1),x=r.getDate();else r.setMonth(r.getMonth()+1);t.db.modifyTask(a.uid,a.tid,{isComplete:!1,due:r})}else"yearly"===o&&(s?(E=r-s,r.setFullYear(r.getFullYear()+1),t.db.modifyTask(a.uid,a.tid,{isComplete:!1,due:r,defer:new Date(r-E)})):(r.setFullYear(r.getFullYear()+1),t.db.modifyTask(a.uid,a.tid,{isComplete:!1,due:r})));case 81:return e.abrupt("return",{message:"Todo TODO TODO Todo: undo pack?"});case 82:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},project:{create:function(){var e=Object(u.a)(c.a.mark((function e(a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={name:"",top_level:void 0===a.parent,is_sequential:!1},!a.parent){e.next=7;break}return e.next=4,t.db.newProject(a.uid,n,a.parent);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,t.db.newProject(a.uid,n);case 9:e.t0=e.sent;case 10:return r=e.t0,a.parent&&t.db.associateProject(a.uid,r,a.parent),e.abrupt("return",{uid:a.uid,pid:r});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),delete:function(){var e=Object(u.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.db.deleteProject(a.uid,a.pid);case 2:return a.parent&&t.db.dissociateProject(a.uid,a.pid,a.parent),e.abrupt("return",{uid:a.uid,TODO:"TODO"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update__name:function(){var e=Object(u.a)(c.a.mark((function e(a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.db.getProjectsandTags(a.uid);case 2:return n=e.sent,r=n[0][0][a.id],e.next=6,t.db.modifyProject(a.uid,a.id,{name:a.name});case 6:return e.abrupt("return",{projectName:r,uid:a.uid});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update__pstate:function(){var e=Object(u.a)(c.a.mark((function e(a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.db.getProjectStructure(a.uid,a.id,!1);case 2:return n=e.sent,r=n,e.next=6,t.db.modifyProject(a.uid,a.id,{is_sequential:a.is_sequential});case 6:return e.abrupt("return",{is_sequential:r,uid:a.uid});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),associate:function(){var e=Object(u.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.db.associateTask(a.uid,a.tid,a.pid);case 2:return e.abrupt("return",{uid:a.uid,tid:a.tid});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dissociate:function(){var e=Object(u.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.db.dissociateTask(a.uid,a.tid,a.pid);case 2:return e.abrupt("return",{uid:a.uid,tid:a.tid});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},perspective:{create:function(){var e=Object(u.a)(c.a.mark((function e(a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:"",avail:"remain",tord:"duds",query:""},e.next=3,t.db.newPerspective(a.uid,n);case 3:return r=e.sent,e.abrupt("return",{uid:a.uid,pid:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update__perspective:function(){var e=Object(u.a)(c.a.mark((function e(a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.db.getPerspectives(a.uid);case 2:return n=e.sent,r=n[0][a.id],e.next=6,t.db.modifyPerspective(a.uid,a.id,a.payload);case 6:return e.abrupt("return",{perspectiveObject:r,uid:a.uid});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),delete__perspective:function(){var e=Object(u.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("perspective delete gruntman func"),e.next=3,t.db.deletePerspective(a.uid,a.id);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},this.undoers={task:{update:"task.set"}},this.backlog=[],this.undolog=[],this.taskLog={},this.canUndo={task:{update:!0}},this.schedulers={},this.updateLock=!1,this.updateInterval=void 0,this.secretLocalizedStrings={},We(this)}return Object(p.a)(e,[{key:"halt",value:function(){for(var e in this.schedulers)clearTimeout(this.schedulers[e]);this.refresher=function(){},this.updateInterval&&clearTimeout(this.updateInterval),this.updateInterval=void 0}},{key:"lockUpdates",value:function(){this.updateLock=!0,this.updateInterval&&clearTimeout(this.updateInterval),this.updateInterval=void 0}},{key:"unlockUpdates",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:580;this.updateLock=!1,this.updateInterval=setTimeout(this.refresher,e)}},{key:"requestRefresh",value:function(){!this.updateLock&&this.callbackRefresherReleased&&(this.refresher(),this.globalRefresher())}},{key:"scheduleNotification",value:function(){var e=Object(u.a)(c.a.mark((function e(t,a,n,r,s){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.refreshNotificationList(),e.next=3,Ae.schedule({notifications:[{title:n,body:r,schedule:{at:s},sound:null,id:this.hashCode(t),attachments:["".concat(t),"".concat(a)],extra:a}]});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r,s){return e.apply(this,arguments)}}()},{key:"handleNotificationAction",value:function(){var e=Object(u.a)(c.a.mark((function e(t){var a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.refreshNotificationList(),a=Object(w.a)(t.notification.attachments,2),n=a[0],r=a[1],e.t0=t.actionId,e.next="complete"===e.t0?5:"snooze"===e.t0?7:10;break;case 5:return this.do("task.update__complete",{uid:r,tid:n},!0),e.abrupt("break",10);case 7:return n=t.notification.attachments,r=t.notification.extra,e.abrupt("break",10);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"refreshNotificationList",value:function(){var e=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.getPending();case 2:this.notifList=e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancelNotification",value:function(){var e=Object(u.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.refreshNotificationList(),e.next=3,Ae.cancel({notifications:[{id:"".concat(this.hashCode(t))}]});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkNotification",value:function(){var e=Object(u.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.hashCode(t),n=this.notifList.notifications.map((function(e){return e.id})).filter((function(e){return e==a})),e.abrupt("return",n.length>0);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"registerGlobalRefresher",value:function(e){var t=this;this.refreshNotificationList(),this.globalRefresher=e,this.callbackRefresherReleased=!1,this.releaseTimeout=setTimeout((function(){t.callbackRefresherReleased=!0,t.releaseTimeout=void 0}),this.conflictResolution)}},{key:"registerRefresher",value:function(e){var t=this;this.refresher=e,this.releaseTimeout&&clearTimeout(this.releaseTimeout),this.callbackRefresherReleased=!1,this.releaseTimeout=setTimeout((function(){t.callbackRefresherReleased=!0,t.releaseTimeout=void 0}),this.conflictResolution)}},{key:"registerScheduler",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;this.schedulers[t]&&clearTimeout(this.schedulers[t]),this.schedulers[t]=setTimeout(e,a)}},{key:"do",value:function(){var e=Object(u.a)(c.a.mark((function e(t,a,n,r,s){var i,o,u,l,p=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.releaseTimeout&&clearTimeout(this.releaseTimeout),this.callbackRefresherReleased=!1,this.releaseTimeout=setTimeout((function(){p.callbackRefresherReleased=!0,p.releaseTimeout=void 0}),this.conflictResolution),i=this.random(),o=t.split("."),u=this.doers;o.length>0;)u=u[o.shift()];return r?this.undolog.push(i):this.backlog.push(i),e.next=10,u(a);case 10:return l=e.sent,this.taskLog[i]=[t,l],this.updateLock||n||this.refresher(),s&&this.refresher(),e.next=16,l;case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r,s){return e.apply(this,arguments)}}()},{key:"random",value:function(){return(65536*(1+Math.random())|0).toString(16)+"-"+(65536*(1+Math.random())|0).toString(16)}},{key:"localizations",get:function(){return this.secretLocalizedStrings},set:function(e){this.secretLocalizedStrings=e}}]),e}(),Be=a(36),Ue=(a(205),a(315),a(318),a(37)),Ve=(g.Plugins.Storage,function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;Object(l.a)(this,a);var r=(n=t.call(this,e)).props.localizations.greetings_setB;return n.state={authMode:0,showExtra:!1,greeting:r[Math.floor(Math.random()*r.length)]},Ue(Object(d.a)(n)),n}return Object(p.a)(a,[{key:"doLogin",value:function(){var e=this;Be.auth().setPersistence(Be.auth.Auth.Persistence.LOCAL).then((function(){Be.auth().signInWithEmailAndPassword(b()("#email").val(),b()("#password").val()).then((function(){Be.auth().currentUser.emailVerified?e.props.dispatch({service:"firebase",operation:"login"}):e.setState({authMode:3})})).catch((function(e){e.code,e.message;console.log(e),b()(".auth-upf").addClass("wrong")}))}))}},{key:"doCreate",value:function(){var e=this,t=!1;Be.auth().createUserWithEmailAndPassword(b()("#email").val(),b()("#password").val()).catch((function(a){e.setState({showExtra:!0},(function(){return b()("#need-verify").html(a.message)})),t=!0})).then((function(){t||(Be.auth().currentUser.sendEmailVerification(),Be.auth().currentUser.updateProfile({displayName:b()("#name").val()}),e.setState({authMode:4,showExtra:!0}))}))}},{key:"dispatchCreate",value:function(){var e=this;Be.auth().currentUser.reload().then((function(){Be.auth().currentUser.emailVerified?e.props.dispatch({service:"firebase",operation:"create"}):b()("#need-verify").html("Please double-check that you tapped the verification link in your email.")}))}},{key:"doRecover",value:function(){var e=!1,t=this;Be.auth().sendPasswordResetEmail(b()("#email").val()).catch((function(a){t.setState({showExtra:!0}),b()("#need-verify").html(a.message),e=!0})).then((function(){e||t.setState({authMode:5})}))}},{key:"doLocal",value:function(){this.props.dispatch({service:"json",operation:"login"})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"auth-content-wrapper"},r.a.createElement("div",{id:"auth-left-menu"},r.a.createElement("div",{className:"menu-area",style:{height:"100%"}},r.a.createElement("div",{className:"auth-component"}),r.a.createElement("div",{className:"auth-component"}),r.a.createElement("span",{id:"auth-image-credit"},"Image by ",r.a.createElement("span",{style:{fontWeight:500}},"Tobias Keller/Pawe\u0142 Czerwi\u0144ski")))),r.a.createElement("div",{id:"authwall"},r.a.createElement("h1",{id:"greeting-auth"},this.state.greeting),r.a.createElement("span",{id:"welcome-auth-msg"},this.props.localizations.welcome_auth_msg),r.a.createElement("h3",{className:"greeting-auth-subtitle",id:"greeting-auth-normal"},function(){switch(e.state.authMode){case 2:return e.props.localizations.nowirres;default:return e.props.localizations.greeting_auth_normal}}()),r.a.createElement("input",{className:"auth-upf",id:"name",type:"text",autoComplete:"off",defaultValue:"",placeholder:this.props.localizations.what_should_we,style:{display:1===this.state.authMode?"block":"none"}}),r.a.createElement("input",{className:"auth-upf",id:"email",type:"email",autoComplete:"off",defaultValue:"",placeholder:this.props.localizations.email}),r.a.createElement("input",{className:"auth-upf",id:"password",type:"password",autoComplete:"off",defaultValue:"",placeholder:this.props.localizations.password,style:{display:2!==this.state.authMode?"block":"none"},onKeyPress:function(t){if("Enter"===t.key)switch(e.state.authMode){case 0:e.doLogin();break;case 1:e.doCreate();break;case 2:e.doRecover();break;case 4:e.dispatchCreate();break;case 5:e.doLogin()}}}),function(){if(3===e.state.authMode||4===e.state.authMode||5===e.state.authMode||e.state.showExtra)return r.a.createElement("span",{id:"need-verify"},function(){switch(e.state.authMode){case 3:return e.props.localizations.need_and_do;case 4:return e.props.localizations.need_verify;case 5:return e.props.localizations.need_and_login}}())}(),r.a.createElement("span",{id:"recover-password",style:{display:3===this.state.authMode?"none":"block"},onClick:function(){switch(e.state.authMode){case 2:return e.setState({authMode:0});default:return e.setState({authMode:2})}}},function(){switch(e.state.authMode){case 2:return e.props.localizations.remembered;default:return e.props.localizations.rec_pswd}}()),r.a.createElement("div",{id:"auth-actiongroup"},r.a.createElement("div",{id:"newuser",onClick:function(){switch(e.state.authMode){case 1:return e.setState({authMode:0});default:return e.setState({authMode:1})}}},function(){switch(e.state.authMode){case 1:return e.props.localizations.login;default:return e.props.localizations.newuser}}()),r.a.createElement("div",{id:"login",onClick:function(){switch(e.state.authMode){case 0:e.doLogin();break;case 1:e.doCreate();break;case 2:e.doRecover();break;case 4:e.dispatchCreate()}}},r.a.createElement("i",{className:"fas fa-snowboarding",style:{paddingRight:"5px"}}),r.a.createElement("span",{id:"login-text"},function(){switch(e.state.authMode){case 0:case 3:return e.props.localizations.lds;case 1:return e.props.localizations.verifem;case 2:return e.props.localizations.lerec;case 4:case 5:return e.props.localizations.proceed}}())),function(){if(2!==e.state.authMode)return r.a.createElement("div",{className:"convert-src",id:"ulac",onClick:e.doLocal},e.props.localizations.ulac)}())))}}]),a}(n.Component)),Ye=a(239),He=a.n(Ye),Ge=(a(65),a(368));console.log(Ge);a(37);var Ke={loop:!0,autoplay:!0,animationData:Ge,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}};var Ze=function(e){return r.a.createElement("div",{style:{width:"100%",height:"100%",position:"absolute",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(He.a,{options:Ke,height:50,width:50,isStopped:!1,isPaused:!1}),r.a.createElement("div",{style:{position:"absolute",bottom:15,color:"var(--decorative-light-alt)",fontSize:11,paddingLeft:20,paddingRight:10}},"\xa92019-2020 Shabang Systems, LLC and the Condution Authors. Software released under GNU-GPLv3."))};a(37);var Je=function(e){return r.a.createElement("div",{style:{width:"100%",height:"100%",position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",color:"var(--content-normal-accent)"}},r.a.createElement("div",{style:{marginRight:20,maxWidth:500}},r.a.createElement("b",null,"Condution v1.0.0-alpha.0")," ",r.a.createElement("br",null),r.a.createElement("i",null,"ONBOARDING VIEW!! Woo hoo!")," ",r.a.createElement("br",null),r.a.createElement("span",null,"Arn't you excited to get an account")," ",r.a.createElement("br",null),r.a.createElement("span",null,"at a random todo list app?")," ",r.a.createElement("br",null)),r.a.createElement("div",{style:{marginLeft:20,maxWidth:500}},r.a.createElement("br",null),r.a.createElement("pre",{style:{fontSize:10,color:"var(--content-normal-alt)"}},"\n    Copyright (C) 2019-2020. Shabang Systems, LLC\n\n    This program is free software: you can redistribute it and/or modify\n    it under the terms of the GNU General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program.  If not, see https://www.gnu.org/licenses/.\n                    ")))},Qe=a(146),$e=a(256),Xe=a.n($e),et=a(37),tt=g.Plugins.Storage;Object(f.z)({swipeBackEnabled:!1});var at=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r;Object(l.a)(this,n),r=t.call(this,e);var s=new Xe.a({en:a(526),zh:a(527),de:a(528)});return r.state={authMode:"loader",uid:"",displayName:"",localizations:s,workspace:null},window.matchMedia("(prefers-color-scheme:dark)").matches?(b()("body").removeClass(),b()("body").addClass("condutiontheme-default-dark")):(b()("body").removeClass(),b()("body").addClass("condutiontheme-default-light")),r.gruntman=new qe(Me),r.gruntman.localizations=s,et(Object(d.a)(r)),r}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(u.a)(c.a.mark((function e(){var t,a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.next=3,Me.start({firebase:Be},"firebase","json");case 3:a=new URL(document.URL),n=a.pathname.split("/"),tt.get({key:"condution_stotype"}).then(function(){var e=Object(u.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=a.value,e.next="firebase"===e.t0?3:"json"===e.t0?5:"workspace"===e.t0?8:17;break;case 3:return Be.auth().onAuthStateChanged((function(e){e?(Me.use("firebase",t.gruntman.requestRefresh),t.setState({authMode:"firebase",uid:e.uid,displayName:e.displayName})):t.authDispatch({operation:"logout"})})),e.abrupt("break",19);case 5:return Me.use("json",t.gruntman.requestRefresh),this.setState({authMode:"json",uid:"hard-storage-user"}),e.abrupt("break",19);case 8:if("workspaces"===n[1]){e.next=17;break}return Me.use("firebase",t.gruntman.requestRefresh),e.t1=this,e.next=13,tt.get({key:"condution_workspace"});case 13:return e.t2=e.sent.value,e.t3={authMode:"workspace",workspace:e.t2},e.t1.setState.call(e.t1,e.t3),e.abrupt("break",19);case 17:return"workspaces"!==n[1]?this.setState({authMode:"none",uid:void 0}):(Me.use("firebase",t.gruntman.requestRefresh),tt.set({key:"condution_stotype",value:"workspace"}),tt.set({key:"condution_workspace",value:n[2]}),this.setState({authMode:"workspace",workspace:n[2]})),e.abrupt("break",19);case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}().bind(this));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"authDispatch",value:function(e){var t,a,n=this;switch(e.operation){case"login":switch(Me.use(e.service,this.gruntman.requestRefresh),tt.set({key:"condution_stotype",value:e.service}),e.service){case"firebase":t=Be.auth().currentUser.uid,a=Be.auth().currentUser.displayName;break;default:t="hard-storage-user",a=""}this.setState({authMode:e.service,uid:t,displayName:a});break;case"create":switch(Me.use(e.service,this.gruntman.requestRefresh),tt.set({key:"condution_stotype",value:e.service}),e.service){case"firebase":t=Be.auth().currentUser.uid,a=Be.auth().currentUser.displayName;break;default:t="hard-storage-user",a=""}this.setState({authMode:"onboarding",uid:t,displayName:a}),Me.db.onBoard(t,Intl.DateTimeFormat().resolvedOptions().timeZone,"en"===this.gruntman.localizations.getLanguage()?"there":"",this.gruntman.localizations.onboarding_content).then((function(r){return n.setState({authMode:e.service,uid:t,displayName:a})}));break;case"logout":tt.set({key:"condution_stotype",value:"none"}),Be.auth().signOut(),this.setState({authMode:"none",name:""})}}},{key:"render",value:function(){switch(this.state.authMode){case"loader":return r.a.createElement(Ze,null);case"none":return r.a.createElement(Ve,{dispatch:this.authDispatch,localizations:this.state.localizations});case"firebase":return r.a.createElement(Qe.a,{engine:Me,uid:this.state.uid,dispatch:this.authDispatch,gruntman:this.gruntman,displayName:this.state.displayName,localizations:this.state.localizations,authType:this.state.authMode,email:Be.auth().currentUser.email});case"workspace":return r.a.createElement(Qe.a,{engine:Me,uid:this.state.uid,dispatch:this.authDispatch,gruntman:this.gruntman,displayName:this.state.displayName,localizations:this.state.localizations,authType:this.state.authMode,workspace:this.state.workspace});case"json":return r.a.createElement(Qe.a,{engine:Me,uid:this.state.uid,dispatch:this.authDispatch,gruntman:this.gruntman,displayName:this.state.displayName,localizations:this.state.localizations,authType:this.state.authMode});case"onboarding":return r.a.createElement(Je,null);default:return console.error("CentralDispatchError: Wut Esta ".concat(this.state.authMode)),r.a.createElement(Ze,{isError:!0,error:this.state.authMode})}}}]),n}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(at,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},65:function(e,t,a){}},[[261,3,4]]]);
//# sourceMappingURL=main.b2ea70f6.chunk.js.map